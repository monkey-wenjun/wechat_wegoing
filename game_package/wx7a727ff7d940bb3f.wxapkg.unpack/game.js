define("sub/sub.js",
function(require, module, exports) { (function() { !
        function(a) {
            function b(e) {
                if (d[e]) return d[e].exports;
                var f = d[e] = {
                    i: e,
                    l: !1,
                    exports: {}
                };
                return a[e].call(f.exports, f, f.exports, b),
                f.l = !0,
                f.exports
            }
            var d = {};
            b.m = a,
            b.c = d,
            b.i = function(a) {
                return a
            },
            b.d = function(a, c, d) {
                b.o(a, c) || Object.defineProperty(a, c, {
                    configurable: !1,
                    enumerable: !0,
                    get: d
                })
            },
            b.n = function(a) {
                var c = a && a.__esModule ?
                function() {
                    return a.
                default
                }:
                function() {
                    return a
                };
                return b.d(c, "a", c),
                c
            },
            b.o = function(a, b) {
                return Object.prototype.hasOwnProperty.call(a, b)
            },
            b.p = "/",
            b(b.s = 43)
        } ({
            0 : function(a, b, d) {
                "use strict";
                Object.defineProperty(b, "__esModule", {
                    value: !0
                });
                var e = d(5),
                f = function(a) {
                    return a && a.__esModule ? a: {
                    default:
                        a
                    }
                } (e);
                b.
            default = {
                    GameWidth: 414 * window.devicePixelRatio,
                    GameHeight: 736 * window.devicePixelRatio,
                    ROWS: 20,
                    COLOUMS: 10,
                    model: "vertical",
                    startTimerInterval: 1e3,
                    startX: 207 * window.devicePixelRatio,
                    startY: -80 * window.devicePixelRatio,
                    planets: f.
                default,
                    planetSizeScale: 2,
                    PREFIX_URL: "https://wxamusic.wx.qq.com/wxag/xingji/"
                }
            },
            43 : function(a, b, c) {
                "use strict";
                var d = c(0); !
                function(a) {
                    a && a.__esModule
                } (d)
            },
            5 : function(a, b) {
                "use strict";
                Object.defineProperty(b, "__esModule", {
                    value: !0
                });
                for (var d = [{
                    url: "huo",
                    radius: 97,
                    correction: {
                        x: 0,
                        y: 18
                    },
                    img: {
                        width: 926,
                        height: 997,
                        coefficient: 300
                    }
                },
                {
                    url: "di",
                    radius: 129.5,
                    correction: {
                        x: 0,
                        y: 0
                    },
                    img: {
                        width: 530,
                        height: 502,
                        coefficient: 380
                    }
                },
                {
                    url: "hei",
                    radius: 72,
                    correction: {
                        x: 0,
                        y: 0
                    },
                    img: {
                        width: 42,
                        height: 55,
                        coefficient: 30
                    }
                },
                {
                    url: "jin",
                    radius: 114.5,
                    correction: {
                        x: 8,
                        y: 0
                    },
                    img: {
                        width: 421,
                        height: 395,
                        coefficient: 380
                    }
                },
                {
                    url: "yun",
                    radius: 72,
                    correction: {
                        x: 0,
                        y: 0
                    },
                    img: {
                        width: 42,
                        height: 55,
                        coefficient: 30
                    }
                },
                {
                    url: "ceres",
                    radius: 97,
                    correction: {
                        x: 0,
                        y: 0
                    },
                    img: {
                        width: 186,
                        height: 180,
                        coefficient: 150
                    }
                },
                {
                    url: "wei",
                    radius: 97,
                    correction: {
                        x: 0,
                        y: 0
                    },
                    img: {
                        width: 187,
                        height: 187,
                        coefficient: 80
                    }
                },
                {
                    url: "shui",
                    radius: 97,
                    correction: {
                        x: 0,
                        y: 0
                    },
                    img: {
                        width: 329,
                        height: 337,
                        coefficient: 300
                    }
                },
                {
                    url: "mu",
                    radius: 122,
                    correction: {
                        x: 2,
                        y: -2
                    },
                    img: {
                        width: 500,
                        height: 501,
                        coefficient: 300
                    }
                },
                {
                    url: "yun2",
                    radius: 62.5,
                    correction: {
                        x: -4,
                        y: -3
                    },
                    img: {
                        width: 375,
                        height: 391,
                        coefficient: 150
                    },
                    angle: 30
                },
                {
                    url: "yun1",
                    radius: 62.5,
                    correction: {
                        x: -2,
                        y: 0
                    },
                    img: {
                        width: 422,
                        height: 440,
                        coefficient: 150
                    },
                    angle: 325
                },
                {
                    url: "tu",
                    radius: 109.5,
                    correction: {
                        x: 3,
                        y: -2
                    },
                    img: {
                        width: 853,
                        height: 882,
                        coefficient: 300
                    },
                    angle: 0
                },
                {
                    url: "yun3",
                    radius: 50,
                    correction: {
                        x: 0,
                        y: -2
                    },
                    img: {
                        width: 300,
                        height: 300,
                        coefficient: 150
                    },
                    angle: 330
                },
                {
                    url: "yun4",
                    radius: 42.25,
                    correction: {
                        x: 0,
                        y: -2
                    },
                    img: {
                        width: 300,
                        height: 300,
                        coefficient: 150
                    },
                    angle: 330
                },
                {
                    url: "yun3",
                    radius: 43.75,
                    correction: {
                        x: 0,
                        y: -2
                    },
                    img: {
                        width: 300,
                        height: 300,
                        coefficient: 150
                    },
                    angle: 10
                },
                {
                    url: "hai",
                    radius: 125,
                    correction: {
                        x: 0,
                        y: -2
                    },
                    img: {
                        width: 846,
                        height: 823,
                        coefficient: 280
                    },
                    angle: 15
                },
                {
                    url: "tian",
                    radius: 112.5,
                    correction: {
                        x: 3,
                        y: 3
                    },
                    img: {
                        width: 819,
                        height: 828,
                        coefficient: 300
                    },
                    angle: 15
                },
                {
                    url: "ming",
                    radius: 100,
                    correction: {
                        x: -1,
                        y: 3
                    },
                    img: {
                        width: 790,
                        height: 792,
                        coefficient: 300
                    },
                    angle: 350
                },
                {
                    url: "out0",
                    radius: 100,
                    correction: {
                        x: 0,
                        y: 0
                    },
                    img: {
                        width: 290,
                        height: 290,
                        coefficient: 100
                    }
                }], e = 0; e < d.length; e++) d[e].radius *= window.devicePixelRatio,
                d[e].img.width *= window.devicePixelRatio,
                d[e].img.height *= window.devicePixelRatio,
                d[e].img.coefficient *= window.devicePixelRatio,
                d[e].correction.x *= window.devicePixelRatio,
                d[e].correction.y *= window.devicePixelRatio;
                b.
            default = d
            }
        })
    })();
});
define("game.js",
function(require, module, exports) { !
    function(t) {
        function e(n) {
            if (i[n]) return i[n].exports;
            var s = i[n] = {
                i: n,
                l: !1,
                exports: {}
            };
            return t[n].call(s.exports, s, s.exports, e),
            s.l = !0,
            s.exports
        }
        var i = {};
        e.m = t,
        e.c = i,
        e.i = function(t) {
            return t
        },
        e.d = function(t, i, n) {
            e.o(t, i) || Object.defineProperty(t, i, {
                configurable: !1,
                enumerable: !0,
                get: n
            })
        },
        e.n = function(t) {
            var i = t && t.__esModule ?
            function() {
                return t.
            default
            }:
            function() {
                return t
            };
            return e.d(i, "a", i),
            i
        },
        e.o = function(t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        },
        e.p = "/",
        e(e.s = 33)
    } ([function(t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = i(5),
        s = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (n);
        e.
    default = {
            GameWidth: 414 * window.devicePixelRatio,
            GameHeight: 736 * window.devicePixelRatio,
            ROWS: 20,
            COLOUMS: 10,
            model: "vertical",
            startTimerInterval: 1e3,
            startX: 207 * window.devicePixelRatio,
            startY: -80 * window.devicePixelRatio,
            planets: s.
        default,
            planetSizeScale: 2,
            PREFIX_URL: "https://wxamusic.wx.qq.com/wxag/xingji/"
        }
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        r = i(0),
        a = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (r),
        o = a.
    default.PREFIX_URL,
        h = void 0,
        l = function() {
            function t() {
                if (n(this, t), h) return h;
                this.currIsMute = !1,
                h = this,
                Laya.SoundManager.setSoundVolume(1),
                Laya.SoundManager.setMusicVolume(1)
            }
            return s(t, [{
                key: "tmp3leMute",
                value: function() {
                    return Laya.SoundManager.musicMuted = !Laya.SoundManager.musicMuted,
                    Laya.SoundManager.soundMuted = !Laya.SoundManager.soundMuted,
                    Laya.SoundManager.musicMuted
                }
            },
            {
                key: "mute",
                value: function() {
                    Laya.SoundManager.musicMuted = !0,
                    Laya.SoundManager.soundMuted = !0,
                    this.currIsMute = !0
                }
            },
            {
                key: "playBg",
                value: function() {
                    Laya.SoundManager.playMusic(o + "music/start-32.mp3", 0)
                }
            },
            {
                key: "playBg2",
                value: function() {
                    Laya.SoundManager.playMusic(o + "music/bg1.mp3", 0),
                    Laya.SoundManager.destroySound(o + "music/start-32.mp3"),
                    wx.triggerGC && wx.triggerGC()
                }
            },
            {
                key: "noMute",
                value: function() {
                    Laya.SoundManager.musicMuted = !1,
                    Laya.SoundManager.soundMuted = !1,
                    this.currIsMute = !1
                }
            },
            {
                key: "playSuccess",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/jump-32.mp3", 1)
                }
            },
            {
                key: "playEnergy",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/energy.mp3", 1)
                }
            },
            {
                key: "playCombo",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/combo-32.mp3", 1)
                }
            },
            {
                key: "playDead2",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/dead-32.mp3", 1)
                }
            },
            {
                key: "playBtn",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/btn.mp3", 1)
                }
            },
            {
                key: "playFly",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/fly.mp3", 1)
                }
            },
            {
                key: "playDead",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/dead-32.mp3", 1)
                }
            },
            {
                key: "playBond",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/dead-32.mp3", 1)
                }
            },
            {
                key: "playFriend",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/friend.mp3", 1)
                }
            },
            {
                key: "playTime",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/time1.mp3", 1)
                }
            },
            {
                key: "playResult",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/score1.mp3", 1)
                }
            },
            {
                key: "playZhuan",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/in1.mp3", 1)
                }
            },
            {
                key: "playZhuan1",
                value: function() {
                    Laya.SoundManager.playSound(o + "music/out1.mp3", 1)
                }
            }]),
            t
        } ();
        e.
    default = l
    },
    function(t, e, i) {
        "use strict";
        function n(t, e, i, n, s, r) {
            var a = new Image;
            a.onload = function() {
                var t = h(this, i, n);
                t.height = i,
                t.width = n,
                t.x = s || 0,
                t.y = r || 0,
                e.addChild(t)
            },
            a.src = t
        }
        function s(t) {
            for (var e = 0,
            i = 0; i < t.length; i++) {
                var n = t.charCodeAt(i);
                n >= 1 && n <= 126 || 65376 <= n && n <= 65439 ? e++:e += 2
            }
            return e
        }
        function r(t, e) {
            if (s(t) <= e) return t;
            for (var i = 0,
            n = [], r = t.match(l) || [], a = 0; a < r.length && i < e; a++) {
                if (r[a].length > 1) i += 2 * r[a].length;
                else {
                    var o = r[a].charCodeAt(0);
                    o >= 1 && o <= 126 || 65376 <= o && o <= 65439 ? i++:i += 2
                }
                i < e && n.push(r[a])
            }
            return n.join("") + "..."
        }
        function a(t) {
            var e = "wx7a727ff7d940bb3f";
            return t.forEach(function(t) {
                e += "_" + t.key + ":" + t.value
            }),
            o(e)
        }
        function o(t) {
            for (var e = 0,
            i = 0; i < t.length; i++) e = 31 * e + t.charCodeAt(i),
            e &= 67108863;
            return e
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.loadCircleImage = n,
        e.strlen = r,
        e.getSig = a;
        var h = function(t) {
            var e = wx.createCanvas(),
            i = e.getContext("2d");
            e.width = t.width,
            e.height = t.height,
            i.beginPath(),
            i.arc(t.width / 2, t.height / 2, Math.max(t.width, t.height) / 2, 0, 2 * Math.PI),
            i.clip(),
            i.drawImage(t, 0, 0, t.width, t.height);
            var n = new Laya.Image;
            return n.skin = e.toDataURL(),
            e = null,
            n
        },
        l = /\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return new _(function(e, i) {
                c.request({
                    url: d + "syncgame",
                    data: t,
                    method: "POST",
                    header: {
                        "content-type": "application/json"
                    },
                    success: function(t) {
                        console.log("syncgame:", t),
                        e(t)
                    },
                    fail: function(t) {
                        e(t)
                    },
                    complete: function(t) {}
                })
            })
        }
        function s(t) {
            return new _(function(e, i) {
                c.request({
                    url: d + "getwxagfriendrankboard",
                    data: t,
                    method: "POST",
                    header: {
                        "content-type": "application/json"
                    },
                    success: function(t) {
                        e(t)
                    },
                    fail: function(t) {
                        e(t)
                    },
                    complete: function(t) {}
                })
            })
        }
        function r(t) {
            return new _(function(e, i) {
                c.request({
                    url: d + "createpkroom",
                    data: t,
                    method: "POST",
                    header: {
                        "content-type": "application/json"
                    },
                    success: function(t) {
                        e(t)
                    },
                    fail: function(t) {
                        e(t)
                    },
                    complete: function(t) {}
                })
            })
        }
        function a(t) {
            return new _(function(e, i) {
                c.request({
                    url: d + "getpkroominfo",
                    data: t,
                    method: "POST",
                    header: {
                        "content-type": "application/json"
                    },
                    success: function(t) {
                        e(t)
                    },
                    fail: function(t) {
                        e(t)
                    },
                    complete: function(t) {}
                })
            })
        }
        function o(t) {
            return new _(function(e, i) {
                c.request({
                    url: d + "getwxaggrouprankboard",
                    data: t,
                    method: "POST",
                    header: {
                        "content-type": "application/json"
                    },
                    success: function(t) {
                        e(t)
                    },
                    fail: function(t) {
                        e(t)
                    },
                    complete: function(t) {}
                })
            })
        }
        function h(t) {
            return new _(function(e, i) {
                c.request({
                    url: d + "reportsharepk",
                    data: t,
                    method: "POST",
                    header: {
                        "content-type": "application/json"
                    },
                    success: function(t) {
                        e(t)
                    },
                    fail: function(t) {
                        e(t)
                    },
                    complete: function(t) {}
                })
            })
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.syncGameData = n,
        e.getFriendRank = s,
        e.createPkRoom = r,
        e.getPkRoomInfo = a,
        e.getGroupRank = o,
        e.reportPKRank = h;
        var l, u, c = e.app = {},
        d = "https://game.weixin.qq.com/cgi-bin/gametetrisws/",
        _ = i(34);
        window.navigator.userAgent.indexOf("Ejecta");
        l = {
            appid: "wx7a727ff7d940bb3f",
            app_name: "星轨",
            weapp_type: 10,
            expiredLoginCodeMap: []
        },
        u = i(48),
        u.prepare(c, l),
        console.log(c.session().openid)
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        r = {
            currX: Symbol("currX"),
            currY: Symbol("currY"),
            color: Symbol("color")
        },
        a = function() {
            function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                n(this, t),
                this[r.currX] = e,
                this[r.currY] = i,
                this[r.color] = s
            }
            return s(t, [{
                key: "currX",
                get: function() {
                    return this[r.currX]
                }
            },
            {
                key: "currY",
                get: function() {
                    return this[r.currY]
                }
            },
            {
                key: "color",
                get: function() {
                    return this[r.color]
                }
            }]),
            t
        } ();
        e.
    default = a
    },
    function(t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        for (var n = [{
            url: "huo",
            radius: 97,
            correction: {
                x: 0,
                y: 18
            },
            img: {
                width: 926,
                height: 997,
                coefficient: 300
            }
        },
        {
            url: "di",
            radius: 129.5,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 530,
                height: 502,
                coefficient: 380
            }
        },
        {
            url: "hei",
            radius: 72,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 42,
                height: 55,
                coefficient: 30
            }
        },
        {
            url: "jin",
            radius: 114.5,
            correction: {
                x: 8,
                y: 0
            },
            img: {
                width: 421,
                height: 395,
                coefficient: 380
            }
        },
        {
            url: "yun",
            radius: 72,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 42,
                height: 55,
                coefficient: 30
            }
        },
        {
            url: "ceres",
            radius: 97,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 186,
                height: 180,
                coefficient: 150
            }
        },
        {
            url: "wei",
            radius: 97,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 187,
                height: 187,
                coefficient: 80
            }
        },
        {
            url: "shui",
            radius: 97,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 329,
                height: 337,
                coefficient: 300
            }
        },
        {
            url: "mu",
            radius: 122,
            correction: {
                x: 2,
                y: -2
            },
            img: {
                width: 500,
                height: 501,
                coefficient: 300
            }
        },
        {
            url: "yun2",
            radius: 62.5,
            correction: {
                x: -4,
                y: -3
            },
            img: {
                width: 375,
                height: 391,
                coefficient: 150
            },
            angle: 30
        },
        {
            url: "yun1",
            radius: 62.5,
            correction: {
                x: -2,
                y: 0
            },
            img: {
                width: 422,
                height: 440,
                coefficient: 150
            },
            angle: 325
        },
        {
            url: "tu",
            radius: 109.5,
            correction: {
                x: 3,
                y: -2
            },
            img: {
                width: 853,
                height: 882,
                coefficient: 300
            },
            angle: 0
        },
        {
            url: "yun3",
            radius: 50,
            correction: {
                x: 0,
                y: -2
            },
            img: {
                width: 300,
                height: 300,
                coefficient: 150
            },
            angle: 330
        },
        {
            url: "yun4",
            radius: 42.25,
            correction: {
                x: 0,
                y: -2
            },
            img: {
                width: 300,
                height: 300,
                coefficient: 150
            },
            angle: 330
        },
        {
            url: "yun3",
            radius: 43.75,
            correction: {
                x: 0,
                y: -2
            },
            img: {
                width: 300,
                height: 300,
                coefficient: 150
            },
            angle: 10
        },
        {
            url: "hai",
            radius: 125,
            correction: {
                x: 0,
                y: -2
            },
            img: {
                width: 846,
                height: 823,
                coefficient: 280
            },
            angle: 15
        },
        {
            url: "tian",
            radius: 112.5,
            correction: {
                x: 3,
                y: 3
            },
            img: {
                width: 819,
                height: 828,
                coefficient: 300
            },
            angle: 15
        },
        {
            url: "ming",
            radius: 100,
            correction: {
                x: -1,
                y: 3
            },
            img: {
                width: 790,
                height: 792,
                coefficient: 300
            },
            angle: 350
        },
        {
            url: "out0",
            radius: 100,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 290,
                height: 290,
                coefficient: 100
            }
        }], s = 0; s < n.length; s++) n[s].radius *= window.devicePixelRatio,
        n[s].img.width *= window.devicePixelRatio,
        n[s].img.height *= window.devicePixelRatio,
        n[s].img.coefficient *= window.devicePixelRatio,
        n[s].correction.x *= window.devicePixelRatio,
        n[s].correction.y *= window.devicePixelRatio;
        e.
    default = n
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            try {
                return s(t, e)
            } catch(t) {
                return c.
            default.PREFIX_URL + "result/sharebanner2.png"
            }
        }
        function s(t, e) {
            var i = wx.createCanvas(),
            n = i.getContext("2d");
            i.width = 420 * window.devicePixelRatio,
            i.height = 335 * window.devicePixelRatio;
            var s = new Image;
            return s.src = 1 === e ? "res/share/pk.png": "res/share/share.png",
            n.drawImage(s, 0, 0, d, 335 * window.devicePixelRatio),
            1 === e ? (t.my_head_url ? a(t, n) : (n.font = "bold " + 36 * window.devicePixelRatio + "px Agency FB Bold", n.textAlign = "center", n.fillStyle = "#7ff3fd", n.textBaseline = "Middle", n.fillText("得分", d / 2, 75 * window.devicePixelRatio)), o(t.score, n)) : r(t, n),
            h("6.5.21") ? i.toTempFilePathSync({
                width: i.width,
                height: i.height
            }) : c.
        default.PREFIX_URL + "result/sharebanner2.png"
        }
        function r(t, e) {
            var i = 260 * window.devicePixelRatio,
            n = 258 / 1.4 * window.devicePixelRatio,
            s = 67 / 1.4 * window.devicePixelRatio,
            r = new Image;
            r.src = "res/share/baoshi.png",
            e.drawImage(r, 15 * window.devicePixelRatio, i, n, s);
            var r = new Image;
            r.src = "res/share/combo.png",
            e.drawImage(r, n + 30 * window.devicePixelRatio, i, n, s),
            e.font = "bold " + 36 * window.devicePixelRatio + "px Agency FB Bold",
            e.textAlign = "center",
            e.fillStyle = "#7ff3fd",
            e.textBaseline = "Middle",
            e.fillText(t.score + "分", d / 2, 150 * window.devicePixelRatio),
            e.textAlign = "center",
            e.font = "bold " + 20 * window.devicePixelRatio + "px Agency FB Bold",
            e.fillText("我在星途游戏中得分：" + t.score + "，获得宝石：" + t.energeNum, d / 2, 200 * window.devicePixelRatio),
            e.fillText("已经超过" + t.percent + "%好友，不服来战啊", d / 2, 230 * window.devicePixelRatio),
            l(e, t.energeNum, n / 2 + 30 * window.devicePixelRatio, i + s / 2),
            l(e, t.maxCombo, 235 * window.devicePixelRatio + n / 2, i + s / 2)
        }
        function a(t, e) {
            console.error(t);
            var i = new Image;
            i.src = t.my_head_url;
            var n = 60 * window.devicePixelRatio,
            s = 60 * window.devicePixelRatio,
            r = 30 * window.devicePixelRatio;
            e.save(),
            e.beginPath(),
            e.arc(n + 30 * window.devicePixelRatio + n / 2, r + n / 2, n / 2, 0, 2 * Math.PI),
            e.clip(),
            e.drawImage(i, n + 30 * window.devicePixelRatio, r, n, s),
            e.restore(),
            e.font = 24 * window.devicePixelRatio + "px Agency FB",
            e.textAlign = "center",
            e.fillStyle = "#7ff3fd",
            e.textBaseline = "Middle",
            e.fillText("挑战", d / 2, 75 * window.devicePixelRatio);
            var i = new Image;
            i.src = t.own_head_url,
            e.save(),
            e.beginPath(),
            e.arc(n + 210 * window.devicePixelRatio + n / 2, r + n / 2, n / 2, 0, 2 * Math.PI),
            e.clip(),
            e.drawImage(i, n + 210 * window.devicePixelRatio, r, n, s),
            e.restore(),
            e.font = "bold " + 28 * window.devicePixelRatio + "px Agency FB Bold",
            e.textAlign = "center",
            e.fillStyle = "#7ff3fd",
            e.textBaseline = "Middle",
            e.fillText(t.isSuccess ? "挑战成功": "打成平手", d / 2, 200 * window.devicePixelRatio)
        }
        function o(t, e) {
            for (var i = t.toString().split(""), n = 120 * window.devicePixelRatio, s = 27 * window.devicePixelRatio, r = 42 * window.devicePixelRatio, a = 0; a < i.length; a++) {
                var o = new Image;
                o.src = "res/result_score_num/" + i[a] + ".png",
                e.drawImage(o, 420 * window.devicePixelRatio / 2 - 15 * i.length * window.devicePixelRatio + 30 * a * window.devicePixelRatio, n, s, r)
            }
        }
        function h(t) {
            for (var e = t.split("."), i = wx.getSystemInfoSync().version, n = i.split("."), s = 0; s < e.length; s++) e[s] = +e[s],
            n[s] = +n[s];
            return n[0] > e[0] || (n[0] === e[0] && n[1] > e[1] || n[0] === e[0] && n[1] === e[1] && n[2] > e[2])
        }
        function l(t, e, i, n) {
            for (var s = e.toString().split(""), r = s.length - 1; r > -1; r--) {
                var a = new Image;
                a.src = "res/bar_num/" + s[r] + ".png",
                t.drawImage(a, i + 15 * r * window.devicePixelRatio, n - 8 * window.devicePixelRatio, 16 / 1.2 * window.devicePixelRatio, 17.5 * window.devicePixelRatio)
            }
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.drawShareCanvas = n;
        var u = i(0),
        c = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (u),
        d = 420 * window.devicePixelRatio
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = 161 * window.devicePixelRatio,
        h = 161 * window.devicePixelRatio,
        l = 54 * window.devicePixelRatio,
        u = 152 * window.devicePixelRatio,
        c = 81 * window.devicePixelRatio,
        d = 68 * window.devicePixelRatio;
        o /= 2.5,
        h /= 2.5,
        u /= 2.5,
        l /= 2.5,
        c /= 2.5,
        d /= 2.5;
        var _ = function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.width = o,
                t.height = h,
                t.index = 1,
                t.txtSp = new Laya.Sprite,
                t.bgSp = new Laya.Sprite,
                t.addChild(t.txtSp),
                t.addChild(t.bgSp),
                t
            }
            return r(e, t),
            a(e, [{
                key: "hideCombo",
                value: function() {
                    this.bgSp.visible = !1,
                    this.txtSp.graphics.clear()
                }
            },
            {
                key: "renderCombo",
                value: function(t) {
                    this.bgSp.visible = !0,
                    this.index = 1,
                    this.bgSp.x = 0,
                    this.bgSp.alpha = 1,
                    this.alpha = 1,
                    this.txtSp.x = 0,
                    this.txtSp.graphics.clear(),
                    this.drawNumber(t)
                }
            },
            {
                key: "loadAnimation",
                value: function() {
                    this.bgSp.graphics.clear(),
                    this.bgSp.graphics.loadImage("res/combos/light/" + this.index + ".png", -50 * window.devicePixelRatio, -30 * window.devicePixelRatio, 301.5 * window.devicePixelRatio, 130 * window.devicePixelRatio),
                    this.index++,
                    this.bgSp.x -= 2 * window.devicePixelRatio,
                    6 === this.index && (this.index = 1, Laya.timer.clear(this, this.loadAnimation))
                }
            },
            {
                key: "doAnimation",
                value: function(t) {
                    var e = this;
                    if (window.isDIDUAN) return void setTimeout(function(t) {
                        e.alpha = 0,
                        Laya.Pool.recover("Combo", e)
                    },
                    1e3);
                    Laya.timer.frameLoop(2, this, this.loadAnimation),
                    Laya.Tween.to(this.bgSp, {
                        x: -150 * window.devicePixelRatio,
                        alpha: 0
                    },
                    300, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        Laya.Tween.to(this, {
                            alpha: 0
                        },
                        300, Laya.Ease.linearNone, Laya.Handler.create(this,
                        function() {
                            Laya.Pool.recover("Combo", this)
                        }), 200)
                    })),
                    Laya.Tween.to(this.txtSp, {
                        x: -20 * window.devicePixelRatio
                    },
                    50, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {}))
                }
            },
            {
                key: "drawNumber",
                value: function(t, e) {
                    this.doAnimation(e);
                    var i = 1;
                    t > 15 ? i = 2 : t > 30 && (i = 3),
                    this.txtSp.graphics.loadImage("res/combos/" + i + "/combo.png", 15 * window.devicePixelRatio, (h - l) / 2, u, l);
                    for (var n = t.toString().split(""), s = n.length - 1; s > -1; s--) this.txtSp.graphics.loadImage("res/combos/" + i + "/" + n[s] + ".png", 15 * (s - n.length + .5) * window.devicePixelRatio, (h - c) / 2.7, d, c)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = _
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = n(h),
        u = i(3),
        c = i(2),
        d = i(40),
        _ = (n(d), -40),
        f = 12,
        p = function(t) {
            function e() {
                s(this, e);
                var t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.x = _ * window.devicePixelRatio,
                t.y = f * window.devicePixelRatio,
                t.resetNumber(),
                t.init(),
                t
            }
            return a(e, t),
            o(e, [{
                key: "reset",
                value: function() {
                    this.resetNumber(),
                    this.drawEnergeNumber(0),
                    this.drawNumber(0),
                    this.changeProcess(0)
                }
            },
            {
                key: "resetNumber",
                value: function() {
                    this.lightYear = 100,
                    this.score = 0,
                    this.energeNum = 0,
                    this.maxCombo = 0,
                    this.rewardEnergeNum = 0,
                    this.maxBaoshi = 10
                }
            },
            {
                key: "init",
                value: function() {
                    this.renderBar(),
                    this.renderKuang(),
                    this.renderKuang2(),
                    this.renderProcess(0),
                    this.renderFen(),
                    this.renderBs(),
                    this.initNumberSp()
                }
            },
            {
                key: "initNumberSp",
                value: function() {
                    this.txtSp = new Laya.Sprite,
                    this.addChild(this.txtSp),
                    this.txtSp.pos(180 * window.devicePixelRatio, 8 * window.devicePixelRatio),
                    this.drawNumber(this.score),
                    this.numberSp = new Laya.Sprite,
                    this.addChild(this.numberSp),
                    this.numberSp.pos(328 * window.devicePixelRatio, 8 * window.devicePixelRatio),
                    this.drawEnergeNumber(this.energeNum + this.rewardEnergeNum)
                }
            },
            {
                key: "addEnergeNum",
                value: function(t) {
                    this.energeNum += t,
                    this.drawEnergeNumber(this.energeNum + this.rewardEnergeNum),
                    this.changeProcess(this.energeNum)
                }
            },
            {
                key: "addRewardEnergeNum",
                value: function(t) {
                    this.rewardEnergeNum += t,
                    this.drawEnergeNumber(this.energeNum + this.rewardEnergeNum)
                }
            },
            {
                key: "drawEnergeNumber",
                value: function(t) {
                    this.numberSp.graphics.clear();
                    for (var e = t.toString().split(""), i = e.length - 1; i > -1; i--) this.numberSp.graphics.loadImage("res/bar_num/" + e[i] + ".png", 12 * (i - .5) * window.devicePixelRatio, 12 * window.devicePixelRatio, 16 / 1.5 * window.devicePixelRatio, 14 * window.devicePixelRatio)
                }
            },
            {
                key: "drawNumber",
                value: function(t) {
                    this.txtSp.graphics.clear();
                    for (var e = t.toString().split(""), i = e.length - 1; i > -1; i--) this.txtSp.graphics.loadImage("res/bar_num/" + e[i] + ".png", 12 * (i - e.length + .5) * window.devicePixelRatio, 12 * window.devicePixelRatio, 16 / 1.5 * window.devicePixelRatio, 14 * window.devicePixelRatio)
                }
            },
            {
                key: "renderBar",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/bar/bar1.png",
                    t.width = l.
                default.GameWidth,
                    t.height = 130 * l.
                default.GameWidth / 750,
                    t.x = -this.x,
                    t.y = -this.y,
                    this.barHeight = t.height,
                    this.addChild(t)
                }
            },
            {
                key: "renderKuang",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/bar/kuang2.png",
                    t.width = 78.5 * window.devicePixelRatio,
                    t.height = 67 / 1.8 * window.devicePixelRatio,
                    t.x = 240 * window.devicePixelRatio,
                    t.y = 8 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "changeProcess",
                value: function(t) {
                    var e = t % this.maxBaoshi / this.maxBaoshi,
                    i = 157 / 2.8 * window.devicePixelRatio;
                    this.processImg.width = i * e,
                    this.processTxt.text = Math.round(100 * e) + "%",
                    0 === e && t > 0 && window._Event.emit("play_reward")
                }
            },
            {
                key: "renderProcess",
                value: function(t) {
                    var e = new Laya.Image;
                    e.skin = "res/bar/process.png";
                    var i = 157 / 2.8 * window.devicePixelRatio,
                    n = 67 / 3 * window.devicePixelRatio,
                    s = 250 * window.devicePixelRatio,
                    r = 15.5 * window.devicePixelRatio;
                    e.width = i * t,
                    e.height = n,
                    e.x = s,
                    e.y = r,
                    this.processImg = e;
                    var a = new Laya.Text;
                    a.overflow = Laya.Text.HIDDEN,
                    a.color = "#a9fbff",
                    a.fontSize = 12 * window.devicePixelRatio,
                    a.text = 100 * t + "%",
                    a.width = i,
                    a.height = n,
                    a.align = "center",
                    a.valign = "middle",
                    a.x = s + 2 * window.devicePixelRatio,
                    a.y = r,
                    a.bold = !0,
                    this.processTxt = a,
                    this.addChild(e),
                    this.addChild(a)
                }
            },
            {
                key: "renderKuang2",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/bar/kuang2.png",
                    t.width = 157 / 1.8 * window.devicePixelRatio,
                    t.height = 67 / 1.8 * window.devicePixelRatio,
                    t.x = 105 * window.devicePixelRatio,
                    t.y = 8 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "renderFen",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/bar/fen.png",
                    t.width = 56 / 1.8 * window.devicePixelRatio,
                    t.height = 26 / 1.8 * window.devicePixelRatio,
                    t.x = 70 * window.devicePixelRatio,
                    t.y = 20 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "renderBs",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/bar/baoshi.png",
                    t.width = 56 / 1.8 * window.devicePixelRatio,
                    t.height = 26 / 1.8 * window.devicePixelRatio,
                    t.x = 205 * window.devicePixelRatio,
                    t.y = 20 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "renderCurrentValue",
                value: function() {
                    var t = 10 / 1.2 * window.devicePixelRatio,
                    e = new Laya.Sprite;
                    e.graphics.loadImage("https://wximg.qq.com/wxgame/temp/603acedb3258ff82fac99d109efcb504.png", 1 * window.devicePixelRatio, 0, 12.5 * window.devicePixelRatio, t),
                    this.currentValueSprite = e,
                    this.currentValueTxtNode = this.renderCurrentValueTxt(this.lightYear + "光年"),
                    this.currentValueSprite.addChild(this.currentValueTxtNode),
                    this.currentValueSprite.y = this.barHeight - t < 0 ? 0 : this.barHeight - t,
                    this.addChild(e)
                }
            },
            {
                key: "renderCurrentValueTxt",
                value: function(t) {
                    var e = new Laya.Text;
                    return e.overflow = Laya.Text.HIDDEN,
                    e.color = "#0f9d9d",
                    e.fontSize = 14 * window.devicePixelRatio,
                    e.text = t,
                    e.x = 15 * window.devicePixelRatio,
                    e.y = -5 * window.devicePixelRatio,
                    e
                }
            },
            {
                key: "addLightYear",
                value: function(t) {
                    this.lightYear += 1
                }
            },
            {
                key: "getLightYear",
                value: function() {
                    return this.lightYear
                }
            },
            {
                key: "renderScoreBar",
                value: function() {
                    var t = (window.devicePixelRatio, new Laya.Sprite);
                    t.graphics.loadImage("https://wximg.qq.com/wxgame/temp/d280e68306db5d38c0215b914156578a.png", 0, -30 * window.devicePixelRatio, 56.5 * window.devicePixelRatio, 6 * window.devicePixelRatio),
                    this.scoreBarSprite = t,
                    this.scoreTxtNode = this.renderScoreTxt(this.score),
                    t.addChild(this.scoreTxtNode),
                    this.addChild(t)
                }
            },
            {
                key: "addScore",
                value: function(t) {
                    this.score += t || 1,
                    this.drawNumber(this.score)
                }
            },
            {
                key: "setCombo",
                value: function(t) {
                    this.maxCombo < t && (this.maxCombo = t)
                }
            },
            {
                key: "uploadScore",
                value: function() {
                    var t = [{
                        key: "newscore",
                        value: this.score
                    },
                    {
                        key: "level",
                        value: this.lightYear
                    },
                    {
                        key: "baoshi",
                        value: this.energeNum + this.rewardEnergeNum
                    },
                    {
                        key: "combo",
                        value: this.maxCombo
                    }],
                    e = {
                        appid: "wx7a727ff7d940bb3f",
                        game_behav_list: t,
                        sync_type: window._pk_user_game_id ? 2 : 1,
                        sig: (0, c.getSig)(t),
                        use_time: Math.ceil((Date.now() - this.use_time) / 1e3)
                    };
                    window._pk_user_game_id && (e.user_game_id = window._pk_user_game_id),
                    (0, u.syncGameData)(e).then(function(t) {
                        0 !== t.errcode && wx.getNetworkType({
                            success: function(t) {
                                "none" !== t.networkType && wx.showModal({
                                    title: "温馨提示",
                                    content: "分数提交失败，服务器开小差啦" + (t.errcode || ""),
                                    showCancel: !1
                                })
                            }
                        }),
                        console.log(t)
                    }).
                    catch(function(t) {
                        wx.showModal({
                            title: "温馨提示",
                            content: "网络忙，请稍后再试" + t,
                            showCancel: !1
                        })
                    })
                }
            },
            {
                key: "getScore",
                value: function() {
                    return this.score
                }
            },
            {
                key: "renderScoreTxt",
                value: function(t) {
                    var e = new Laya.Text;
                    return e.overflow = Laya.Text.HIDDEN,
                    e.color = "#0f9d9d",
                    e.fontSize = 14 * window.devicePixelRatio,
                    e.text = t,
                    e.x = 0 * window.devicePixelRatio,
                    e.y = -50 * window.devicePixelRatio,
                    e
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = p
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = n(h),
        u = i(3),
        c = i(6),
        d = i(2),
        _ = i(1),
        f = n(_),
        p = new f.
    default,
        g = "#116bb0",
        y = 40 * window.devicePixelRatio,
        v = function(t) {
            function e(t, i, n) {
                s(this, e);
                var a = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return a.scores = t,
                a.result = n,
                a.width = l.
            default.GameWidth - y,
                a.height = l.
            default.GameHeight - y,
                a.arrayData = i,
                a.initUI(),
                a
            }
            return a(e, t),
            o(e, [{
                key: "initUI",
                value: function() {
                    this.renderBg(),
                    this.renderBack(),
                    this.renderReplay(),
                    this.renderRankBg(),
                    this.setupRank(),
                    this.renderData(),
                    this.addTitle(),
                    this.renderTextSp(),
                    this.createText(this.scores.newscore)
                }
            },
            {
                key: "refresh",
                value: function(t, e) {
                    this.scores = t,
                    this.arrayData = e,
                    this.renderData(),
                    this.createText(this.scores.newscore),
                    this.baoshiTab.color = g,
                    this.comboTab.color = g,
                    this.rankTab.color = "#3bc2cf",
                    this.visible = !0
                }
            },
            {
                key: "renderMySelf",
                value: function() {
                    if (this.selfUserInfo && !this._hasRenderSelf) {
                        var t = new Laya.Sprite; (0, d.loadCircleImage)(this.selfUserInfo.head_img_url || "res/default_head.png", t, 60 * window.devicePixelRatio, 60 * window.devicePixelRatio);
                        var e = new Laya.Label;
                        e.text = this.selfUserInfo.nick_name,
                        e.fontBold = !0,
                        e.fontSize = 14 * window.devicePixelRatio,
                        e.color = "#82b9c7",
                        e.x = (l.
                    default.GameWidth - e.width) / 2,
                        e.y = 90 * window.devicePixelRatio,
                        t.x = (this.width - 40 * window.devicePixelRatio) / 2 + 10 * window.devicePixelRatio,
                        t.y = 20 * window.devicePixelRatio,
                        this._hasRenderSelf = !0,
                        this.addChild(e),
                        this.addChild(t)
                    }
                }
            },
            {
                key: "renderTextSp",
                value: function() {
                    this.txtSp = new Laya.Sprite,
                    this.addChild(this.txtSp)
                }
            },
            {
                key: "createText",
                value: function(t) {
                    var e = 5;
                    this.txtSp.graphics.clear();
                    for (var i = t.toString().split(""), n = 0; n < i.length; n++) this.txtSp.graphics.loadImage("res/result_score_num/" + i[n] + ".png", (97 + 15 * n) * window.devicePixelRatio, 0, 13.5 * window.devicePixelRatio, 21 * window.devicePixelRatio),
                    e += 5;
                    this.txtSp.graphics.loadImage("res/result/defen.png", -5 * window.devicePixelRatio, -2 * window.devicePixelRatio, 97 * window.devicePixelRatio, 23.5 * window.devicePixelRatio),
                    this.txtSp.pos((165 - e) * window.devicePixelRatio, 120 * window.devicePixelRatio)
                }
            },
            {
                key: "renderBg",
                value: function() {
                    this.graphics.loadImage("res/bg1.png", 0, 0, l.
                default.GameWidth, l.
                default.GameWidth * (1500 / 443))
                }
            },
            {
                key: "renderBack",
                value: function() {
                    var t = new Laya.Sprite,
                    e = 68 / 1.8 * window.devicePixelRatio;
                    t.graphics.loadImage("res/rank/back.png", 0, 0, e, e),
                    this.addChild(t),
                    t.pos(10 * window.devicePixelRatio, 20 * window.devicePixelRatio),
                    t.height = e,
                    t.width = e,
                    t.on("click", this,
                    function() {
                        p.playBtn(),
                        this.visible = !1
                    })
                }
            },
            {
                key: "addTitle",
                value: function() {
                    var t = new Laya.Sprite,
                    e = new Laya.Text;
                    e.overflow = Laya.Text.HIDDEN,
                    e.color = "#3bc2cf",
                    e.fontSize = 14 * window.devicePixelRatio,
                    t.x = (l.
                default.GameWidth - e.width) / 2 - 160 * window.devicePixelRatio,
                    t.y = 170 * window.devicePixelRatio,
                    t.height = 35 * window.devicePixelRatio,
                    t.width = 90 * window.devicePixelRatio,
                    e.text = "排行榜",
                    this.addChild(t),
                    e.pos(30 * window.devicePixelRatio, 10 * window.devicePixelRatio),
                    this.rankTab = e,
                    t.addChild(e),
                    this.addLine(),
                    this.addLine2(),
                    this.addTitle1(),
                    this.addTitle2(),
                    t.on("mousedown", this,
                    function() {
                        p.playBtn(),
                        this.baoshiTab.color = g,
                        this.comboTab.color = g,
                        this.rankTab.color = "#3bc2cf",
                        this.selectData("newscore")
                    })
                }
            },
            {
                key: "addLine",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.drawLine(150 * window.devicePixelRatio, 173 * window.devicePixelRatio, 150 * window.devicePixelRatio, 198 * window.devicePixelRatio, g, 1 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "addLine2",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.drawLine(270 * window.devicePixelRatio, 173 * window.devicePixelRatio, 270 * window.devicePixelRatio, 198 * window.devicePixelRatio, g, 1 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "addTitle1",
                value: function() {
                    var t = new Laya.Sprite,
                    e = new Laya.Text;
                    e.overflow = Laya.Text.HIDDEN,
                    e.color = g,
                    e.fontSize = 14 * window.devicePixelRatio,
                    t.x = (l.
                default.GameWidth - e.width) / 2 - 55 * window.devicePixelRatio,
                    t.y = 170 * window.devicePixelRatio,
                    t.height = 35 * window.devicePixelRatio,
                    t.width = 100 * window.devicePixelRatio,
                    e.text = "COMBO",
                    e.pos(30 * window.devicePixelRatio, 10 * window.devicePixelRatio),
                    t.addChild(e),
                    this.addChild(t),
                    this.comboTab = e,
                    t.on("mousedown", this,
                    function() {
                        p.playBtn(),
                        this.baoshiTab.color = g,
                        this.comboTab.color = "#3bc2cf",
                        this.rankTab.color = g,
                        this.selectData("combo")
                    })
                }
            },
            {
                key: "addTitle2",
                value: function() {
                    var t = new Laya.Sprite,
                    e = new Laya.Text;
                    e.overflow = Laya.Text.HIDDEN,
                    e.color = g,
                    e.fontSize = 14 * window.devicePixelRatio,
                    e.text = "宝石",
                    e.pos(20 * window.devicePixelRatio, 10 * window.devicePixelRatio),
                    t.x = (l.
                default.GameWidth - e.width) / 2 + 95 * window.devicePixelRatio,
                    t.y = 170 * window.devicePixelRatio,
                    t.width = 80 * window.devicePixelRatio,
                    t.height = 30 * window.devicePixelRatio,
                    t.addChild(e),
                    this.addChild(t),
                    this.baoshiTab = e,
                    t.on("mousedown", this,
                    function() {
                        p.playBtn(),
                        this.baoshiTab.color = "#3bc2cf",
                        this.comboTab.color = g,
                        this.rankTab.color = g,
                        this.selectData("baoshi")
                    })
                }
            },
            {
                key: "renderReplay",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/rank/replay.png",
                    t.pos((l.
                default.GameWidth - 31.9 * window.devicePixelRatio) / 1.8, 670 * window.devicePixelRatio),
                    t.width = 159.5 * window.devicePixelRatio,
                    t.height = 58.5 * window.devicePixelRatio,
                    t.on("click", this,
                    function() {
                        p.playBtn(),
                        this.result.reStart(),
                        this.visible = !1
                    }),
                    this.addChild(t),
                    this.renderShare()
                }
            },
            {
                key: "renderShare",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/rank/share.png",
                    t.pos((l.
                default.GameWidth - 319 * window.devicePixelRatio) / 2, 670 * window.devicePixelRatio),
                    t.width = 159.5 * window.devicePixelRatio,
                    t.height = 58.5 * window.devicePixelRatio,
                    t.on("click", this,
                    function() {
                        this.shareFunc()
                    }),
                    this.addChild(t)
                }
            },
            {
                key: "shareFunc",
                value: function() {
                    p.playBtn(),
                    wx.shareAppMessage && (window._shareInfo.imageUrl = (0, c.drawShareCanvas)({
                        score: this.scores.newscore || 0,
                        energeNum: this.scores.baoshi || 0,
                        maxCombo: this.scores.combo || 0,
                        percent: this.result.getRankPercent(this.scores.newscore) || 0
                    }), window._shareInfo.title = "星途，穿越未知银河道途", window._shareInfo.query = "modal=qun", wx.shareAppMessage(window._shareInfo))
                }
            },
            {
                key: "renderRankBg",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.loadImage("res/kuang2.png", 20 * window.devicePixelRatio, 140 * window.devicePixelRatio, 485 / 1.3 * window.devicePixelRatio, 698 / 1.4 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "setupRank",
                value: function() {
                    var t = new Laya.List;
                    t.itemRender = Laya.Item,
                    t.repeatX = 1,
                    t.repeatY = 7,
                    t.vScrollBarSkin = "",
                    t.selectEnable = !0,
                    t.renderHandler = new Laya.Handler(this, this.updateItem),
                    this.addChild(t),
                    this.list = t,
                    t.x = 50 * window.devicePixelRatio,
                    t.y = 205 * window.devicePixelRatio,
                    this.addRankInfo()
                }
            },
            {
                key: "addRankInfo",
                value: function() {
                    var t = new Laya.Text;
                    t.overflow = Laya.Text.HIDDEN,
                    t.color = "#3b68b1",
                    t.fontSize = 12 * window.devicePixelRatio,
                    t.text = "只显示前50位好友成绩，每月一日凌晨刷新",
                    t.pos((l.
                default.GameWidth - t.width) / 2, 635 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "renderData",
                value: function() {
                    var t = this;
                    if (this.arrayData) return this.rankData = this.arrayData.user_multi_rank || {},
                    void this.selectData(); (0, u.getFriendRank)({
                        appid: "wx7a727ff7d940bb3f",
                        rank_key_list: ["newscore", "combo", "baoshi"]
                    }).then(function(e) {
                        0 === e.errcode ? (t.rankData = e.data ? e.data.user_multi_rank || {}: {},
                        t.selectData()) : (t.rankData = {},
                        wx.getNetworkType({
                            success: function(t) {
                                var e = "服务器开小差啦，请稍后查看排行榜哦" + (t.errcode || "");
                                "none" === t.networkType && (e = "当前无网络，请联网再查看哦"),
                                wx.showModal({
                                    title: "温馨提示",
                                    content: e,
                                    showCancel: !1
                                })
                            }
                        }))
                    }).
                    catch(function(t) {
                        wx.showModal({
                            title: "温馨提示",
                            content: "网络忙，请稍后再试" + t,
                            showCancel: !1
                        })
                    })
                }
            },
            {
                key: "findData",
                value: function(t, e) {
                    for (var i = 0; i < t.length; i++) if (t[i].key === e) return t[i]
                }
            },
            {
                key: "selectData",
                value: function(t) {
                    t = t || "newscore";
                    var e = [];
                    if (this.rankData && this.rankData.rank_list) {
                        this.list.array = [],
                        this.userinfoObj = this.userinfoObj || this.getUserInfoByUid(this.rankData.user_info_list);
                        var i = 1,
                        n = this.findData(this.rankData.rank_list, t) || {},
                        s = n.self_rank_item || {},
                        r = u.app.session().userId;
                        this.selfUserInfo = this.userinfoObj[s.user_id || r];
                        var a = n.rank_item_list;
                        a = this.parseList(a, r, this.scores[t], n.self_rank_item);
                        var o = this;
                        a.forEach(function(n) {
                            var s = o.getUserInfoByid(n.user_id),
                            r = {
                                index: n.index || i++,
                                score: n.value + o.getDanWeiByKey(t),
                                nick: (0, d.strlen)(s.nick_name || "", 18),
                                src: (s.head_img_url || "").replace(/\/0$/, "/64") || "res/default_head.png"
                            };
                            e.push(r)
                        }),
                        this.renderMySelf(),
                        this.list.array = e,
                        this.list.tweenTo(0, 0)
                    }
                }
            },
            {
                key: "getUserInfoByid",
                value: function(t) {
                    return this.userinfoObj[t] || {}
                }
            },
            {
                key: "getDanWeiByKey",
                value: function(t) {
                    return "newscore" === t ? "分": "combo" === t ? "次": "baoshi" === t ? "个": void 0
                }
            },
            {
                key: "parseList",
                value: function(t, e, i, n) {
                    if (t = t || [], n = n || {},
                    !this.selfUserInfo) return t;
                    for (var s = !1,
                    r = 0; r < t.length; r++) t[r].user_id === this.selfUserInfo.user_id && (s = !0, i > t[r].value && (t[r].value = i));
                    return s || (n.value > i ? (t.push(n), n.index = n.rank) : t.push({
                        value: i,
                        user_id: e,
                        rank: 1
                    })),
                    t.sort(function(t, e) {
                        return e.value - t.value
                    })
                }
            },
            {
                key: "getUserInfoByUid",
                value: function(t) {
                    for (var e = {},
                    i = 0; i < t.length; i++) e[t[i].user_id] = t[i];
                    return e
                }
            },
            {
                key: "updateItem",
                value: function(t, e) {
                    t.setData(t.dataSource)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = v
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = n(h),
        u = i(6),
        c = i(3),
        d = i(2),
        _ = i(9),
        f = n(_),
        p = i(1),
        g = n(p),
        y = (Laya.Box, window.devicePixelRatio, window.devicePixelRatio, new g.
    default),
        v = {
            shui: "水星，Mercury，太阳系最小的行星。旅途才刚刚开始，别灰心重新来过。",
            jin: "金星，Venus，夜空中最亮的星，等你去采撷",
            di: "地球，Earth，唯一存在生命的的天体，人类最美的家园",
            huo: "火星，Mars，荧荧火光，离离乱惑。不要被他所困，朝着目标进发吧",
            mu: "木星，Jupiter，太阳系中最大的行星已被你飞越，不要停下探索的脚步",
            tu: "土星，Saturn，仅次于木星的第二大行星，keep going",
            tian: "天王星，Uranus，灰蓝色是他的代表色，也是你探索星空的幸运色",
            hai: "海王星，Neptune，南半球上的大黑斑，与地球同样大小，加油",
            ming: "冥王星，Pluto，2006年被降级为“矮行星”，但依然屹立于行星之林",
            ceres: "谷神星，Ceres，虽然体内冰封刺骨，但仍爱你如故；别了，回不去的故土。"
        },
        m = 40 * window.devicePixelRatio,
        w = function(t) {
            function e(t) {
                s(this, e);
                var i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return i.width = l.
            default.GameWidth - m,
                i.height = l.
            default.GameHeight - m,
                i.score = t.score,
                i.qiuType = t.type,
                i.baoshi = t.baoshi,
                i.combo = t.combo,
                i.level = t.level,
                i.initUI(),
                i
            }
            return a(e, t),
            o(e, [{
                key: "reset",
                value: function(t) {
                    this.stop(),
                    this.score = t.score,
                    this.qiuType = t.type,
                    this.baoshi = t.baoshi,
                    this.combo = t.combo,
                    this.level = t.level,
                    this.room_id = null,
                    this.resetUI()
                }
            },
            {
                key: "start",
                value: function() {
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            },
            {
                key: "stop",
                value: function(t) {
                    Laya.timer.clear(this, this.animation)
                }
            },
            {
                key: "animation",
                value: function() {
                    this.qiuSp.rotation += .05
                }
            },
            {
                key: "resetUI",
                value: function() {
                    this.renderQiu(this.qiuType),
                    this.createText(this.score),
                    this.createRijiText(),
                    this.drawNumber(this.baosiSp, this.baoshi || 0, 145 * window.devicePixelRatio, 480 * window.devicePixelRatio),
                    this.drawNumber(this.comboSp, this.combo || 0, 320 * window.devicePixelRatio, 480 * window.devicePixelRatio),
                    this.renderData()
                }
            },
            {
                key: "initUI",
                value: function() {
                    this.renderBg(),
                    this.renderStartBtn(),
                    this.renderShareBtn(),
                    this.renderRankBtn(),
                    this.renderShareText(),
                    this.bind(),
                    this.qiuSpParent = new Laya.Sprite,
                    this.addChild(this.qiuSpParent),
                    this.qiuSp = new Laya.Sprite,
                    this.qiuSpParent.addChild(this.qiuSp),
                    this.createRijiPanle(),
                    this.renderCombo(),
                    this.renderTextSp(),
                    this.renderBaoshi(),
                    this.addQiu(),
                    this.resetUI()
                }
            },
            {
                key: "renderData",
                value: function() {
                    var t = this;
                    if (window._allFriendData) return void this.renderFriendData(window._allFriendData); (0, c.getFriendRank)({
                        appid: "wx7a727ff7d940bb3f",
                        rank_key_list: ["newscore", "combo", "baoshi"]
                    }).then(function(e) {
                        0 === e.errcode && t.renderFriendData(e.data)
                    })
                }
            },
            {
                key: "renderFriendData",
                value: function(t) {
                    this.arrayData = t;
                    var e = this.getRankPercent(this.score) || 0;
                    this.renderFriendTxt(e),
                    setTimeout(function() {
                        try {
                            window._shareInfo.imageUrl = (0, u.drawShareCanvas)({
                                score: this.score || 0,
                                energeNum: this.baoshi || 0,
                                maxCombo: this.combo || 0,
                                percent: e || 0
                            })
                        } catch(t) {
                            window._shareInfo.imageUrl = l.
                        default.PREFIX_URL + "result/sharebanner2.png"
                        }
                    }.bind(this), 800),
                    this.renderMySelf()
                }
            },
            {
                key: "findData",
                value: function(t, e) {
                    for (var i = 0; i < t.length; i++) if (t[i].key === e) return t[i]
                }
            },
            {
                key: "getRankPercent",
                value: function(t) {
                    if (!this.arrayData) return 0;
                    if (this.arrayData.user_multi_rank) {
                        var e = this.getUserInfoByUid(this.arrayData.user_multi_rank.user_info_list),
                        i = this.findData(this.arrayData.user_multi_rank.rank_list, "newscore") || {},
                        n = i.self_rank_item || {},
                        s = c.app.session().userId;
                        this.self_user_info = e[n.user_id || s] || {};
                        var r = JSON.parse(JSON.stringify(i)),
                        a = r.rank_item_list || [];
                        if (!r.friend_play_cnt) return 100;
                        for (var o = !1,
                        h = 0; h < a.length; h++) if (a[h].user_id === this.self_user_info.user_id) {
                            var o = !0;
                            a[h].value = t
                        }
                        o || (a.push({
                            value: t,
                            user_id: this.self_user_info.user_id,
                            rank: 1
                        }), r.friend_play_cnt += 1),
                        a = a.sort(function(t, e) {
                            return e.value - t.value
                        });
                        for (var l = 0,
                        h = 0; h < a.length && (l++, a[h].user_id !== this.self_user_info.user_id); h++);
                        var u = r.friend_play_cnt;
                        return Math.round((r.friend_play_cnt + 1 - l) / u * 100)
                    }
                }
            },
            {
                key: "renderFriendTxt",
                value: function(t) {
                    if (this.percentSp) return this.percentSp.text = "您已超过" + t + "%的好友",
                    void(this.percentSp.x = (l.
                default.GameWidth - this.percentSp.width) / 2);
                    var e = new Laya.Text;
                    e.text = "您已超过" + t + "%的好友",
                    e.fontBold = !0,
                    e.fontSize = 14 * window.devicePixelRatio,
                    e.color = "#82b9c7",
                    e.x = (l.
                default.GameWidth - e.width) / 2,
                    e.y = 300 * window.devicePixelRatio,
                    this.addChild(e),
                    this.percentSp = e
                }
            },
            {
                key: "getUserInfoByUid",
                value: function(t) {
                    for (var e = {},
                    i = 0; i < t.length; i++) e[t[i].user_id] = t[i];
                    return e
                }
            },
            {
                key: "renderBg",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.loadImage("res/bg1.png", 0, 0, l.
                default.GameWidth, l.
                default.GameWidth * (1500 / 443)),
                    this.addChild(t)
                }
            },
            {
                key: "addQiu",
                value: function() {
                    this.tipsSp = new Laya.Text,
                    this.tipsSp.fontSize = 16 * window.devicePixelRatio,
                    this.tipsSp.color = "#2b93ca",
                    this.tipsSp.width = (547 / 1.55 - 80) * window.devicePixelRatio,
                    this.tipsSp.wordWrap = !0,
                    this.tipsSp.leading = 10 * window.devicePixelRatio,
                    this.addChild(this.tipsSp),
                    this.comboSp = new Laya.Sprite,
                    this.addChild(this.comboSp),
                    this.baosiSp = new Laya.Sprite,
                    this.addChild(this.baosiSp)
                }
            },
            {
                key: "renderQiu",
                value: function(t) {
                    t = t || "shui",
                    this.qiuSp.rotation = 0,
                    this.qiuSp.graphics.clear();
                    var e, i = -290,
                    n = -470,
                    s = 989;
                    if (t.indexOf("out") > -1) {
                        var i = -65,
                        n = -270,
                        s = 540;
                        e = "res/qiu/" + t + ".png",
                        this.qiuSp.graphics.loadImage(e, 0, 0, s * window.devicePixelRatio, s * window.devicePixelRatio),
                        this.start()
                    } else e = l.
                default.PREFIX_URL + "result/qiu/" + t + ".png",
                    this.qiuSp.graphics.loadImage(e, 0, 0, s * window.devicePixelRatio, s * window.devicePixelRatio);
                    this.qiuSp.pivot(s * window.devicePixelRatio / 2, s * window.devicePixelRatio / 2),
                    this.qiuSpParent.pos(s * window.devicePixelRatio / 2 + i * window.devicePixelRatio, s * window.devicePixelRatio / 2 + n * window.devicePixelRatio)
                }
            },
            {
                key: "renderTextSp",
                value: function() {
                    this.txtSp = new Laya.Sprite,
                    this.txtSp.pos(190 * window.devicePixelRatio, 255 * window.devicePixelRatio),
                    this.addChild(this.txtSp)
                }
            },
            {
                key: "createText",
                value: function(t) {
                    this.txtSp.graphics.clear();
                    var e = 5;
                    this.txtSp.graphics.loadImage("res/result_score_num/fen.png", 15 * window.devicePixelRatio, -2 * window.devicePixelRatio, 34 * window.devicePixelRatio, 34 * window.devicePixelRatio);
                    for (var i = t.toString().split(""), n = i.length - 1; n > -1; n--) this.txtSp.graphics.loadImage("res/result_score_num/" + i[n] + ".png", 20 * (n - i.length + .5) * window.devicePixelRatio, 0 * window.devicePixelRatio, 18 * window.devicePixelRatio, 28 * window.devicePixelRatio),
                    e += 9;
                    this.txtSp.pos((177 + e) * window.devicePixelRatio, 255 * window.devicePixelRatio)
                }
            },
            {
                key: "lightTab",
                value: function(t) {
                    t.graphics.clear(),
                    t.graphics.loadImage("https://wximg.qq.com/wxgame/xingji/result/1.png", 0, 0, 160 * window.devicePixelRatio, 40 * window.devicePixelRatio)
                }
            },
            {
                key: "changeTab",
                value: function(t) {
                    t.graphics.clear(),
                    t.graphics.loadImage("https://wximg.qq.com/wxgame/xingji/result/2.png", 0, 0, 160 * window.devicePixelRatio, 40 * window.devicePixelRatio)
                }
            },
            {
                key: "createRijiPanle",
                value: function() {
                    var t = new Laya.Sprite;
                    return t.loadImage("res/result/concent-new.png", 0, 0, 547 / 1.55 * window.devicePixelRatio, 224.5 * window.devicePixelRatio),
                    this.addChild(t),
                    t.x = 30 * window.devicePixelRatio,
                    t.y = 320 * window.devicePixelRatio,
                    this.rijiSprite = t,
                    t
                }
            },
            {
                key: "renderBaoshi",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/share/baoshi.png", 0, 0, 258 / 1.8 * window.devicePixelRatio, 68 / 1.8 * window.devicePixelRatio),
                    t.x = 55 * window.devicePixelRatio,
                    t.y = 480 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "renderCombo",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/share/combo.png", 0, 0, 258 / 1.8 * window.devicePixelRatio, 68 / 1.8 * window.devicePixelRatio),
                    t.x = 215 * window.devicePixelRatio,
                    t.y = 480 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "drawNumber",
                value: function(t, e, i, n) {
                    t.graphics.clear();
                    for (var s = e.toString().split(""), r = s.length - 1; r > -1; r--) t.graphics.loadImage("res/bar_num/" + s[r] + ".png", 12 * (r - s.length + .5) * window.devicePixelRatio, 12 * window.devicePixelRatio, 16 / 1.5 * window.devicePixelRatio, 14 * window.devicePixelRatio);
                    t.pos(i + 5 * (s.length - 1), n)
                }
            },
            {
                key: "createRijiText",
                value: function() {
                    this.tipsSp.text = v[this.qiuType] || "千万年来，人类总试图解开宇宙运行的秘密，在不断地探索中，人类意识到需要走出地球，开启对未知宇宙的探索之旅。",
                    this.tipsSp.pos((l.
                default.GameWidth - this.tipsSp.width) / 2 + 5 * window.devicePixelRatio, 360 * window.devicePixelRatio)
                }
            },
            {
                key: "renderStartBtn",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/result/replay.png", 0, 0, 185 / 1.8 * window.devicePixelRatio, 151 / 1.8 * window.devicePixelRatio),
                    this.addChild(t);
                    t.getBounds().width;
                    return t.x = (this.width - 92.5 * window.devicePixelRatio) / 2 + 15 * window.devicePixelRatio,
                    t.y = 580 * window.devicePixelRatio,
                    this.btnSprite = t,
                    t
                }
            },
            {
                key: "renderRankBtn",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/result/rank.png", 0, 0, 158 / 1.8 * window.devicePixelRatio, 129 / 1.8 * window.devicePixelRatio),
                    this.addChild(t);
                    t.getBounds().width;
                    return t.x = (this.width - 92.5 * window.devicePixelRatio) / 2 - 95 * window.devicePixelRatio,
                    t.y = 590 * window.devicePixelRatio,
                    t.on("click", this,
                    function() {
                        if (y.playBtn(), window.rankUI) return void window.rankUI.refresh({
                            newscore: this.score,
                            combo: this.combo,
                            baoshi: this.baoshi
                        },
                        this.arrayData);
                        window.rankUI = new f.
                    default({
                            newscore:
                            this.score,
                            combo: this.combo,
                            baoshi: this.baoshi
                        },
                        this.arrayData, this),
                        window.stage.addChild(window.rankUI)
                    }),
                    t
                }
            },
            {
                key: "renderShareText",
                value: function() {
                    var t = new Laya.Image;
                    return t.skin = "res/result/share_title.png",
                    t.width = 148.5 * window.devicePixelRatio,
                    t.height = 12.5 * window.devicePixelRatio,
                    this.addChild(t),
                    t.x = (l.
                default.GameWidth - t.width) / 2,
                    t.y = 685 * window.devicePixelRatio,
                    t.on("click", this,
                    function() {
                        try {
                            window._shareInfo.imageUrl = (0, u.drawShareCanvas)({
                                score: this.score || 0,
                                energeNum: this.baoshi || 0,
                                maxCombo: this.combo || 0,
                                percent: this.getRankPercent(this.score) || 0
                            })
                        } catch(t) {
                            window._shareInfo.imageUrl = l.
                        default.PREFIX_URL + "result/sharebanner2.png"
                        }
                        window._shareInfo.query = "modal=qun",
                        window._shareInfo.title = "星途，穿越未知银河道途",
                        y.playBtn(),
                        wx.shareAppMessage && wx.shareAppMessage(window._shareInfo)
                    }),
                    t
                }
            },
            {
                key: "renderShareBtn",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/result/pk.png", 0, 0, 169 / 1.8 * window.devicePixelRatio, 129 / 1.8 * window.devicePixelRatio),
                    this.addChild(t);
                    t.getBounds().width;
                    return t.x = (this.width - 92.5 * window.devicePixelRatio) / 2 + 140 * window.devicePixelRatio,
                    t.y = 590 * window.devicePixelRatio,
                    t.on("click", this,
                    function() {
                        this.shareFunc()
                    }),
                    t
                }
            },
            {
                key: "shareFunc",
                value: function() {
                    var t = this;
                    if (y.playBtn(), wx.shareAppMessage) {
                        var e = [{
                            key: "newscore",
                            value: this.score
                        },
                        {
                            key: "level",
                            value: this.level
                        },
                        {
                            key: "baoshi",
                            value: this.baoshi
                        },
                        {
                            key: "combo",
                            value: this.combo
                        }],
                        i = this;
                        window._shareInfo.success = function() {
                            i.room_id && (0, c.reportPKRank)({
                                appid: "wx7a727ff7d940bb3f",
                                game_behav_list: e,
                                sig: (0, d.getSig)(e)
                            }).then(function(t) {
                                console.log(t)
                            })
                        };
                        try {
                            window._shareInfo.imageUrl = (0, u.drawShareCanvas)({
                                score: this.score || 0,
                                energeNum: this.baoshi || 0,
                                maxCombo: this.combo || 0
                            },
                            1)
                        } catch(t) {
                            window._shareInfo.imageUrl = l.
                        default.PREFIX_URL + "result/sharebanner2.png"
                        }
                        if (window._shareInfo.title = "不服来战", this.room_id) return window._shareInfo.query = "room_id=" + this.room_id + "&share_user_openid=" + this.self_user_info.user_id,
                        void wx.shareAppMessage(window._shareInfo); (0, c.createPkRoom)({
                            appid: "wx7a727ff7d940bb3f",
                            my_behav_list: e,
                            sig: (0, d.getSig)(e)
                        }).then(function(e) {
                            0 === e.errcode ? (window._shareInfo.query = "room_id=" + e.data.room_id + "&share_user_openid=" + t.self_user_info.user_id, wx.shareAppMessage(window._shareInfo), t.room_id = e.data.room_id) : wx.getNetworkType({
                                success: function(t) {
                                    var e = "服务器开小差啦，无法PK好友" + (t.errcode || "");
                                    "none" === t.networkType && (e = "当前无网络，请联网再PK好友"),
                                    wx.showModal({
                                        title: "温馨提示",
                                        content: e,
                                        showCancel: !1
                                    })
                                }
                            })
                        }).
                        catch(function(t) {
                            wx.showModal({
                                title: "温馨提示",
                                content: "网络忙，请稍后再试" + t,
                                showCancel: !1
                            })
                        })
                    }
                }
            },
            {
                key: "bind",
                value: function() {
                    this.btnSprite.on("click", this,
                    function() {
                        y.playBtn(),
                        this.reStart()
                    })
                }
            },
            {
                key: "reStart",
                value: function() {
                    window.Main.reStart(),
                    this.visible = !1
                }
            },
            {
                key: "renderMySelf",
                value: function() {
                    if (!this._renderMySelf && this.self_user_info) {
                        var t = new Laya.Sprite; (0, d.loadCircleImage)(this.self_user_info.head_img_url || "res/default_head.png", t, 80 * window.devicePixelRatio, 80 * window.devicePixelRatio);
                        var e = new Laya.Label;
                        e.text = this.self_user_info.nick_name,
                        e.fontBold = !0,
                        e.fontSize = 18 * window.devicePixelRatio,
                        e.color = "#82b9c7",
                        e.x = (l.
                    default.GameWidth - e.width) / 2,
                        e.y = 220 * window.devicePixelRatio,
                        t.x = (this.width - 40 * window.devicePixelRatio) / 2,
                        t.y = 135 * window.devicePixelRatio,
                        this.addChild(e),
                        this.addChild(t),
                        this._renderMySelf = !0
                    }
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = w
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        for (var o = (function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } ()), h = i(0), l = n(h), u = i(4), c = n(u), d = i(12), _ = n(d), f = i(13), p = n(f), g = i(16), y = n(g), v = i(15), m = n(v), w = i(14), x = n(w), b = i(42), S = n(b), C = i(1), P = n(C), k = new P.
    default, T = 30 * window.devicePixelRatio, M = 80 * window.devicePixelRatio / 1, R = 77 * window.devicePixelRatio / 1, I = (window.devicePixelRatio, window.devicePixelRatio, 81 * window.devicePixelRatio / 1), L = 68 * window.devicePixelRatio / 1, D = [{
            url: "res/rewards/1.png",
            radius: 104.5,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 295,
                height: 294,
                coefficient: 200
            }
        },
        {
            url: "res/rewards/3.png",
            radius: 129.5,
            correction: {
                x: 0,
                y: 0
            },
            img: {
                width: 369,
                height: 369,
                coefficient: 200
            }
        }], B = 0; B < D.length; B++) D[B].radius *= window.devicePixelRatio,
        D[B].img.width *= window.devicePixelRatio,
        D[B].img.height *= window.devicePixelRatio,
        D[B].img.coefficient *= window.devicePixelRatio,
        D[B].correction.x *= window.devicePixelRatio,
        D[B].correction.y *= window.devicePixelRatio;
        var E = function(t) {
            function e() {
                s(this, e);
                var t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.width = l.
            default.GameWidth,
                t.height = l.
            default.GameHeight,
                t.blocks = [],
                t.score = 0,
                t.initUI(),
                t
            }
            return a(e, t),
            o(e, [{
                key: "initUI",
                value: function() {
                    this.initBackGround(),
                    this.initBlocks(),
                    this.initAirPlane(),
                    this.bind(),
                    this.initTimer()
                }
            },
            {
                key: "preStart",
                value: function() {
                    function t() {
                        i.text = s[n++],
                        n > 3 && (Laya.timer.clear(this, t), i.destroy(), e.destroy())
                    }
                    var e = new Laya.Sprite;
                    this.addChild(e),
                    e.graphics.drawRect(0, 0, this.width, this.height, "rgba(0,0,0,0.5)");
                    var i = new Laya.Text;
                    i.text = "3",
                    i.fontSize = 100 * window.devicePixelRatio,
                    i.color = "#5fb8f7",
                    i.wordWrap = !0,
                    i.width = 1e3,
                    i.align = "center",
                    i.pos((l.
                default.GameWidth - i.width) / 2, 80 * window.devicePixelRatio),
                    this.addChild(i);
                    var n = 0,
                    s = [2, 1, "GO", ""];
                    Laya.timer.loop(1e3, this, t)
                }
            },
            {
                key: "initTimer",
                value: function() {
                    function t() {
                        e < 5 && e > 0 && k.playTime(),
                        this._timer.renderTimer(e--),
                        this.uirender.renderOneEnergyPoint(this.blocks[this.getRandomNumber(2)], this.getOneRandomBaoshi()),
                        e < 0 && (Laya.timer.clear(this, t), Laya.Tween.to(this._timer, {
                            y: -100
                        },
                        100, Laya.Ease.linearNone, Laya.Handler.create(this,
                        function() {
                            this.showResult()
                        })), this.airPlane.stop())
                    }
                    var e = 14;
                    this._timer ? (this._timer.visible = 0, this._timer.y = 0) : (this._timer = new S.
                default, this.addChild(this._timer)),
                    Laya.timer.loop(1e3, this, t)
                }
            },
            {
                key: "reset",
                value: function() {
                    this.uirender.visible = !0,
                    this._backGround.visible = !0,
                    this.visible = !0,
                    this._showed = !1,
                    this.initTimer()
                }
            },
            {
                key: "showResult",
                value: function(t) {
                    if (!this._showed) {
                        if (this._showed = !0, t = t || this.airPlane.baoshi_num, this.resultSp) var e = this.resultSp;
                        else {
                            var e = new Laya.Sprite;
                            this.resultSp = e,
                            this.addChild(e)
                        }
                        k.playResult(),
                        e.graphics.loadImage("res/rewards/2.png", 0, 0, R, M);
                        for (var i = t.toString().split(""), n = 0; n < i.length; n++) e.graphics.loadImage("res/combos/3/" + i[n] + ".png", R / 1.5 + L * n / 1.5, 0, L, I);
                        e.pos(l.
                    default.GameWidth / 2 - 60 * (i.length - 1), 150 * window.devicePixelRatio),
                        e.pivot(60 * window.devicePixelRatio, 40 * window.devicePixelRatio),
                        e.alpha = 0,
                        e.scaleX = .1,
                        e.scaleY = .1,
                        Laya.Tween.to(e, {
                            alpha: 1,
                            scaleX: 1,
                            scaleY: 1
                        },
                        200, Laya.Ease.linearNone, Laya.Handler.create(this,
                        function() {
                            this.showLight()
                        }))
                    }
                }
            },
            {
                key: "showLight",
                value: function() {
                    k.playZhuan1();
                    var t = new Laya.Sprite;
                    t.graphics.drawRect(0, 0, l.
                default.GameWidth, l.
                default.GameHeight, "#fff"),
                    t.alpha = 0,
                    this.addChild(t),
                    Laya.Tween.to(t, {
                        alpha: 1
                    },
                    400, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        this._backGround.visible = !1,
                        this.uirender.visible = !1,
                        this._timer.visible = !1,
                        this.airPlane.visible = !1,
                        Laya.Tween.to(t, {
                            alpha: 0
                        },
                        500, Laya.Ease.linearNone, Laya.Handler.create(this,
                        function() {
                            this.endRewards()
                        }), 200),
                        Laya.Tween.to(this.resultSp, {
                            x: l.
                        default.GameWidth - 120 * window.devicePixelRatio,
                            y: 40 * window.devicePixelRatio,
                            scaleX: 0,
                            scaleY: 0
                        },
                        500, Laya.Ease.linearNone, Laya.Handler.create(this,
                        function() {}), 200)
                    }), 1e3)
                }
            },
            {
                key: "bind",
                value: function() {
                    var t = this;
                    this.on("mousedown", this,
                    function() {
                        if (this.airPlane && !this.airPlane.gameOver) {
                            var t;
                            if (1 === this.airPlane.getSideState()) if (t = this.checkInSideEdge()) {
                                var e = this.getNextBlock(t);
                                this.airPlane.reRender(e, this.currentBlock, t),
                                this.currentBlock = e
                            } else this.airPlane.changeSide();
                            else this.airPlane.changeSide()
                        }
                    }),
                    window._Event.on("end_rewards",
                    function(e) {
                        t.showResult(),
                        Laya.timer.clearAll(t)
                    }),
                    window._Event.on("start_rewards",
                    function(e) {
                        t.airPlane.start()
                    })
                }
            },
            {
                key: "endRewards",
                value: function() {
                    window._Event.removeListener("end_rewards"),
                    window._Event.removeListener("start_rewards"),
                    this.destroy(),
                    window._Event.emit("go_on")
                }
            },
            {
                key: "checkInSideEdge",
                value: function() {
                    for (var t = this.airPlane.plane,
                    e = {
                        x: t.x,
                        y: t.y
                    },
                    i = this.currentBlock.cutOffPoints, n = 0; n < i.length; n++) {
                        var s = e.x - i[n].currX,
                        r = e.y - i[n].currY;
                        if (Math.sqrt(s * s + r * r) < T) return i[n]
                    }
                    return ! 1
                }
            },
            {
                key: "initAirPlane",
                value: function() {
                    this.currentBlock = this.blocks[0],
                    this.airPlane = new x.
                default(this.currentBlock, this.blocks, "", "rewards"),
                    this.airPlane.SPEED = 2.5,
                    this.addChild(this.airPlane),
                    this.airPlane.stop()
                }
            },
            {
                key: "addBaoshiRandom",
                value: function(t) {
                    t.energyPoints = [];
                    for (var e = 0; e < this.getRandomNumber(5, 2); e++) t.energyPoints.push(this.getOneRandomBaoshi());
                    return t
                }
            },
            {
                key: "getOneRandomBaoshi",
                value: function() {
                    return {
                        side: this.getRandomNumber(2, 1),
                        angle: this.getRandomNumber(2) % 2 ? this.getRandomNumber(120, 30) : this.getRandomNumber(120, 210)
                    }
                }
            },
            {
                key: "getRandomNumber",
                value: function(t, e) {
                    return~~ (Math.random() * t) + (e || 0)
                }
            },
            {
                key: "getLastBlock",
                value: function() {
                    return this.blocks[this.blocks.length - 1]
                }
            },
            {
                key: "initBlocks",
                value: function() {
                    for (var t, e = JSON.parse(JSON.stringify(D)), i = 0; i < e.length; i++) t = this.addBaoshiRandom(e[i]),
                    this.createBlock(t, i);
                    this.uirender = new y.
                default(this.blocks),
                    this.addChild(this.uirender)
                }
            },
            {
                key: "createPoint",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l.
                default.startX,
                    e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : l.
                default.GameHeight / 1.5;
                    return new c.
                default(t, e)
                }
            },
            {
                key: "createCircle",
                value: function(t, e) {
                    return new _.
                default(t, e)
                }
            },
            {
                key: "createCutOffPoint",
                value: function(t, e, i) {
                    return new p.
                default(t, e, i)
                }
            },
            {
                key: "getPreBlock",
                value: function(t) {
                    return this.blocks[t - 1]
                }
            },
            {
                key: "getNextBlock",
                value: function(t) {
                    for (var e = this,
                    i = 0; i < t.blocks.length; i++) {
                        var n = t.blocks[i];
                        if (n !== e.currentBlock.key_id) return this.getBlockByKeyId(n)
                    }
                }
            },
            {
                key: "getBlockByKeyId",
                value: function(t) {
                    for (var e = 0; e < this.blocks.length; e++) if (t === this.blocks[e].key_id) return this.blocks[e]
                }
            },
            {
                key: "getNextPoint",
                value: function(t, e, i) {
                    var n = Math.sin(Math.PI * (i || 0) / 180),
                    s = Math.cos(Math.PI * (i || 0) / 180),
                    r = t.radius + e - t.border,
                    a = n * r,
                    o = t.radius,
                    h = n * o,
                    l = -s * r,
                    u = -s * o;
                    return {
                        nextPoint: new c.
                    default(t.point.currX + a, t.point.currY + l),
                        cutOffPoint: new c.
                    default(t.point.currX + h, t.point.currY + u)
                    }
                }
            },
            {
                key: "createBlock",
                value: function(t, e) {
                    if (this.blocks.length) var i = this.getNextPoint(this.getLastBlock().circle, t.radius, t.angle),
                    n = i.nextPoint,
                    s = this.createCircle(n, t.radius);
                    else var n = this.createPoint(),
                    s = this.createCircle(n, t.radius);
                    var r = new m.
                default(s, n, "", t, e);
                    if (e > 0) {
                        var a = this.getPreBlock(e);
                        if (!a) return;
                        var o = this.createCutOffPoint(i.cutOffPoint.currX, i.cutOffPoint.currY, [a.key_id, r.key_id]);
                        a.addCutOffPoints(o),
                        r.addCutOffPoints(o)
                    }
                    return this.blocks.push(r),
                    r
                }
            },
            {
                key: "initBackGround",
                value: function() {
                    var t = new A("res/rewards/bg.png", "", 2 * window.devicePixelRatio);
                    this.addChild(t),
                    this._backGround = t
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = E;
        var A = function(t) {
            function e(t, i) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                s(this, e);
                var a = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return a.width = l.
            default.GameWidth,
                a.height = l.
            default.GameHeight,
                a.speed = n,
                a.url = t,
                a.url2 = i || t,
                a.init(),
                a
            }
            return a(e, t),
            o(e, [{
                key: "init",
                value: function() {
                    this.renderBg(),
                    this.renderCycleBg(),
                    this.start()
                }
            },
            {
                key: "renderBg",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = this.url;
                    var e = t.height,
                    i = t.width;
                    t.width = l.
                default.GameWidth,
                    t.height = l.
                default.GameWidth / (i / e),
                    this.staticImgHeight = t.height,
                    this.y = l.
                default.GameHeight - this.staticImgHeight,
                    this.addChild(t)
                }
            },
            {
                key: "renderCycleBg",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = this.url2;
                    var e = t.height,
                    i = t.width;
                    t.width = l.
                default.GameWidth,
                    t.height = l.
                default.GameWidth / (i / e),
                    this.bgImgHeight = -t.height,
                    t.y = this.bgImgHeight + 1,
                    this.addChild(t)
                }
            },
            {
                key: "animation",
                value: function() {
                    this.y >= this.staticImgHeight && (this.y = 0),
                    this.y += this.speed
                }
            },
            {
                key: "stop",
                value: function() {
                    Laya.timer.clear(this, this.animation)
                }
            },
            {
                key: "start",
                value: function() {
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            }]),
            e
        } (Laya.Sprite)
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        r = i(4),
        a = (function(t) {
            t && t.__esModule
        } (r), {
            radius: Symbol("radius"),
            point: Symbol("points"),
            radiusBuffer: Symbol("radiusBuffer")
        }),
        o = function() {
            function t(e, i) {
                var s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 10;
                n(this, t),
                this[a.point] = e,
                this[a.radius] = i,
                this[a.radiusBuffer] = s,
                this.border = 2,
                this.color = "#606e93"
            }
            return s(t, [{
                key: "radius",
                get: function() {
                    return this[a.radius]
                }
            },
            {
                key: "radiusBuffer",
                get: function() {
                    return this[a.radiusBuffer]
                }
            },
            {
                key: "point",
                get: function() {
                    return this[a.point]
                }
            }]),
            t
        } ();
        e.
    default = o
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(4),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = {
            block: Symbol("block")
        },
        u = function(t) {
            function e(t, i, r) {
                n(this, e);
                var a = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t, i));
                return a[l.block] = r || [],
                a
            }
            return r(e, t),
            a(e, [{
                key: "addBlock",
                value: function(t) {
                    this[l.block].push(t)
                }
            },
            {
                key: "blocks",
                get: function() {
                    return this[l.block]
                }
            }]),
            e
        } (h.
    default);
        e.
    default = u
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = (n(h), i(1)),
        u = n(l),
        c = i(17),
        d = i(7),
        _ = n(d),
        f = i(39),
        p = n(f),
        g = new u.
    default,
        y = 40 * window.devicePixelRatio,
        v = 90 * window.devicePixelRatio,
        m = 57 * window.devicePixelRatio,
        w = m / 5,
        x = 97 * window.devicePixelRatio,
        b = function(t) {
            function e(t, i, n, a) {
                s(this, e);
                var o = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return o.initData(t, i, n),
                o.type = a,
                o.initSelf(),
                o
            }
            return a(e, t),
            o(e, [{
                key: "initData",
                value: function(t, e, i) {
                    this.block = t,
                    this.blocks = e,
                    this.SPEED = 1.5,
                    this.speed = this.SPEED,
                    this.radius = t.circle.radius,
                    this.direction = i || 1,
                    this._rotation = 0,
                    this.planeRotation = 0,
                    this.lifes = 1,
                    this.protectiveLayer = [],
                    this.blockArr = [],
                    this.level = 1,
                    this.baoshi_num = 0,
                    this.runCircleRotation = 0,
                    this.playHistory = [],
                    this.getNextPreBlockArr()
                }
            },
            {
                key: "initSelf",
                value: function() {
                    this.initUI(),
                    this.alpha = 0,
                    this.start(),
                    "rewards" !== this.type && this.bind()
                }
            },
            {
                key: "bind",
                value: function() {
                    window._Event.on("play_reward",
                    function() {
                        var t = this;
                        this.stop(),
                        this.playRewards(),
                        g.playZhuan(),
                        setTimeout(function(e) {
                            t._light ? t._light.reset() : (t._light = new p.
                        default, window.stage.addChild(t._light), t._light.createSp())
                        },
                        300)
                    }.bind(this)),
                    window._Event.on("go_on",
                    function() {
                        this.start()
                    }.bind(this))
                }
            },
            {
                key: "reset",
                value: function(t, e, i) {
                    this.stop(),
                    this.zOrder = 1e3,
                    this.gameOver = !1,
                    this.initData(t, e, i),
                    this.setPlanPos(),
                    this.loadImg(),
                    this.visible = !0,
                    this.plane.visible = !0,
                    this.start(),
                    this.dead_sp && this.dead_sp.graphics.clear()
                }
            },
            {
                key: "setPlanPos",
                value: function() {
                    var t = this.block.point.currX - m / 2.5 / 2,
                    e = this.block.point.currY - v / 2.5 / 2;
                    this.plane.pivotX = m / 2.5 / 2,
                    this.plane.pivotY = v / 2.5 / 2,
                    this.plane.x = t,
                    this.plane.y = e
                }
            },
            {
                key: "initUI",
                value: function() {
                    var t = new Laya.Sprite;
                    this.plane = t,
                    this.loadImg(),
                    this.setPlanPos(),
                    this.addChild(t)
                }
            },
            {
                key: "changeSpeed",
                value: function() {
                    this.speed = x / this._radius * (this.SPEED + .08 * Math.floor(this.level / 4))
                }
            },
            {
                key: "loadImg",
                value: function() {
                    this.plane.graphics.clear(),
                    this.plane.graphics.loadImage("res/fei1.png", 0, 0, m / 2.5, v / 2.5)
                }
            },
            {
                key: "renderLight",
                value: function() {
                    this.plane.graphics.loadImage("https://wximg.qq.com/wxgame/temp/53c914c3d30c663fe9c26819ef54882d.png", -12, -1, 33.5, 34)
                }
            },
            {
                key: "renderTail",
                value: function() {
                    this.plane.graphics.loadImage("https://wximg.qq.com/wxgame/temp/871f2e463d2b893ba247f3062179b504.png", 2.5, 10, 4, 106.5)
                }
            },
            {
                key: "addProtectiveLayer",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.loadImage("https://wximg.qq.com/wxgame/temp/d558e69de270dd8ce38301f5b7ed141d.png", -m / 2.5 / 2 - 1, -v / 2.5 / 2 + 1, 42.4, 42.4),
                    this.plane.addChild(t),
                    this.protectiveLayer.push(t),
                    this.lifes++,
                    console.warn("add: " + this.lifes)
                }
            },
            {
                key: "removeProtectiveLayer",
                value: function() {
                    var t = this.protectiveLayer.pop();
                    t && t.destroy(),
                    this.lifes--,
                    console.warn("remove:" + this.lifes)
                }
            },
            {
                key: "checkRotation",
                value: function(t, e) {
                    var i = t.key_id % 2 ? 1 : 2;
                    return e.key_id < t.key_id ? 1 === i ? this._rotation - (360 - t.blockInfo.angle) > 2 : this._rotation - (180 - t.blockInfo.angle) : 2 === i ? this._rotation - (360 - e.blockInfo.angle) : this._rotation - (180 - e.blockInfo.angle)
                }
            },
            {
                key: "reRender",
                value: function(t, e) {
                    this.jumpCircle(t, e)
                }
            },
            {
                key: "jumpCircle",
                value: function(t, e) {
                    this.block = t,
                    this.getNextPreBlockArr(),
                    this.radius = t.circle.radius,
                    this.direction = t.key_id % 2 ? 1 : 2;
                    if ((e.key_id || -1) < t.key_id) {
                        var i = t.blockInfo.angle || 0;
                        1 === this.direction ? this._rotation = 360 - i + 10 : this._rotation = 180 - i - 10,
                        "rewards" !== this.type && (this.playHistory.push(e && e.isRewardCircle || this.runCircleRotation < 360 ? 1 : 0), this.addScore(t, 0, this.plane.x, this.plane.y, this.direction)),
                        this.runCircleRotation = 0
                    } else {
                        var i = e.blockInfo.angle || 0;
                        2 === this.direction ? this._rotation = 360 - i - 10 : this._rotation = 180 - i + 10
                    }
                    this.planeRotation = -this._rotation,
                    this._radius = this.radius - this.block.circle.border - w,
                    "rewards" !== this.type && (window.coordinate.addLightYear(this.block.key_id), this.level++, this.destroyPassBlock())
                }
            },
            {
                key: "destroyPassBlock",
                value: function() {
                    if (this.block.key_id > 7) {
                        var t = this.blocks[this.block.key_id - 7 - 1];
                        if (t._destroy) return;
                        if (!t.planetUI) return;
                        t.planetUI.destroy(),
                        t.planetUI = null,
                        t.friends.forEach(function(t) {
                            t.destroy()
                        }),
                        t.obstacles.forEach(function(t) {
                            t.destroy()
                        }),
                        t.energyPoints.forEach(function(t) {
                            t.destroy()
                        }),
                        t = null
                    }
                }
            },
            {
                key: "addScore",
                value: function(t, e, i, n, s) {
                    var e = e || this.getFlyScore(i, n, s);
                    "rewards" !== this.type && this.drawScoreNum(e, i || t.point.currX, n || t.point.currY),
                    window.coordinate.addScore(e)
                }
            },
            {
                key: "getFlyScore",
                value: function(t, e, i) {
                    function n() {
                        if (a > 1) {
                            var n = Laya.Pool.getItemByClass("Combo", _.
                        default);
                            n.pos(1 === i ? t - 20 * window.devicePixelRatio: t + 20 * window.devicePixelRatio, e - 40 * window.devicePixelRatio),
                            s.addChild(n),
                            n.renderCombo(a - 1, i),
                            g.playCombo(),
                            window.coordinate.setCombo(a - 1)
                        } else g.playSuccess()
                    }
                    for (var s = this,
                    r = 100,
                    a = 0,
                    o = this.playHistory.length - 1; o >= 0; o--) {
                        if (!this.playHistory[o]) return n(),
                        r;
                        a += 1,
                        r = 200,
                        a > 16 ? r = 300 : a > 31 && (r = 400)
                    }
                    return n(),
                    r
                }
            },
            {
                key: "drawScoreNum",
                value: function(t, e, i) {
                    var n = Laya.Pool.getItemByClass("scoreSp", Laya.Sprite);
                    n.graphics.clear(),
                    n.scaleX = 1,
                    n.scaleY = 1,
                    n.alpha = 1,
                    n.graphics.loadImage("res/result/" + t + ".png", -10 * window.devicePixelRatio, -40 * window.devicePixelRatio, 34.5 * window.devicePixelRatio, 13 * window.devicePixelRatio),
                    n.pos(e, i),
                    this.addChild(n),
                    Laya.Tween.to(n, {
                        y: n.y - 50 * window.devicePixelRatio,
                        alpha: 0,
                        scaleX: 1.2,
                        scaleY: 1.2
                    },
                    1e3, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        Laya.Pool.recover("scoreSp", n)
                    }))
                }
            },
            {
                key: "start",
                value: function() {
                    c.GuideControl._guide ? this._radius = this.radius + this.block.circle.border + w: this._radius = this.radius + this.block.circle.border - w,
                    Laya.timer.frameLoop(1, this, this.animation, [this.plane]),
                    Laya.timer.frameLoop(3, this, this.checkAnimation),
                    this.stoped = !1
                }
            },
            {
                key: "reStart",
                value: function() {
                    this.status = "",
                    Laya.timer.frameLoop(1, this, this.animation, [this.plane]),
                    Laya.timer.frameLoop(3, this, this.checkAnimation),
                    this.stoped = !1
                }
            },
            {
                key: "stop",
                value: function(t) {
                    Laya.timer.clear(this, this.animation),
                    Laya.timer.clear(this, this.checkAnimation),
                    t || (this.stoped = !0)
                }
            },
            {
                key: "animation",
                value: function() {
                    c.GuideControl.showGuideStep1(this),
                    c.GuideControl.showGuideStep2(this),
                    this.setPosition(),
                    this.alpha = 1,
                    this.plane.rotation = this.planeRotation + 90,
                    this.changeSpeed(),
                    2 === this.direction ? (this.planeRotation += this.speed, this._rotation -= this.speed) : (this.planeRotation -= this.speed, this._rotation += this.speed),
                    this.runCircleRotation += this.speed
                }
            },
            {
                key: "checkAnimation",
                value: function() {
                    this.isGameOver(),
                    this.checkEnergeCollision(),
                    this.checkObstacleCollision(),
                    this.checkFriendCollision()
                }
            },
            {
                key: "checkEnergeCollision",
                value: function() {
                    var t = this.plane.x,
                    e = this.plane.y;
                    this.blockArr.forEach(function(i) {
                        i.energyPoints.forEach(function(i) { ! i.isDestory && i.checkCollision(t, e) && (i.isDestory = !0, this.addScore({},
                            300, t, e), "rewards" === this.type ? window.coordinate.addRewardEnergeNum(1) : window.coordinate.addEnergeNum(1), g.playEnergy(), this.baoshi_num++)
                        }.bind(this))
                    }.bind(this))
                }
            },
            {
                key: "checkObstacleCollision",
                value: function() {
                    var t = this.plane.x,
                    e = this.plane.y;
                    this.blockArr.forEach(function(i) {
                        i.obstacles.forEach(function(i) { ! i.isDestory && i.checkCollision(t, e) && (i.isDestory = !0, this._destory(), g.playBond(), i.visible = !1)
                        }.bind(this))
                    }.bind(this))
                }
            },
            {
                key: "checkFriendCollision",
                value: function() {
                    var t = this.plane.x,
                    e = this.plane.y;
                    this.blockArr.forEach(function(i) {
                        i.friends.forEach(function(i) { ! i.isDestory && i.checkCollision(t, e) && (this.addScore({},
                            400, t, e), i.isDestory = !0, g.playFriend())
                        }.bind(this))
                    }.bind(this))
                }
            },
            {
                key: "getNextPreBlockArr",
                value: function() {
                    var t = 0;
                    1 == this.block.key_id ? this.blockArr = this.blocks.slice(t, t + 2) : (t = this.block.key_id - 1, this.blockArr = this.blocks.slice(t - 1, t + 2))
                }
            },
            {
                key: "speed",
                value: function(t) {
                    this.speed = t
                }
            },
            {
                key: "setPosition",
                value: function() {
                    1 === this.getSideState() ? this.inSide() : this.outSide();
                    var t = this._rotation;
                    2 === this.direction && (t += 180);
                    var e = this.block.circle.point;
                    this.plane.pos(this._radius * Math.sin(Math.PI * t / 180) + e.currX, this._radius * Math.cos(Math.PI * t / 180) + e.currY)
                }
            },
            {
                key: "setDirection",
                value: function(t) {
                    this.direction = t
                }
            },
            {
                key: "changeSide",
                value: function() {
                    this._radius > this.radius ? this.inSide() : this.outSide()
                }
            },
            {
                key: "outSide",
                value: function() {
                    this._radius = this.radius + this.block.circle.border + w
                }
            },
            {
                key: "inSide",
                value: function() {
                    this._radius = this.radius - this.block.circle.border - w
                }
            },
            {
                key: "getSideState",
                value: function() {
                    return this._radius > this.radius ? 2 : 1
                }
            },
            {
                key: "checkOutSideEdge",
                value: function() {
                    for (var t = this.block.cutOffPoints,
                    e = 0; e < t.length; e++) if (Math.sqrt(Math.pow(this.plane.x - t[e].currX, 2) + Math.pow(this.plane.y - t[e].currY, 2)) < y) return g.playBond(),
                    !0;
                    return ! 1
                }
            },
            {
                key: "isPlanetTangent",
                value: function(t) {
                    for (var e, i = 0; i < t.blocks.length; i++) {
                        e = t.blocks[i];
                        if (this.getBlockByKeyId(e).planetUI.scaleDelta < .95) return ! 1
                    }
                    return ! 0
                }
            },
            {
                key: "getBlockByKeyId",
                value: function(t) {
                    for (var e = 0; e < this.blocks.length; e++) if (t === this.blocks[e].key_id) return this.blocks[e]
                }
            },
            {
                key: "_destory",
                value: function() {
                    var t = this;
                    "rewards" == this.type ? (this._times = 0, this.rewardsDead()) : (this.plane.graphics.clear(), this.startDead()),
                    this.gameOver = 1,
                    this.stop(),
                    setTimeout(function(e) {
                        window._Event.emit("rewards" == t.type ? "end_rewards": "dead", Date.now())
                    },
                    400)
                }
            },
            {
                key: "rewardsDead",
                value: function() {
                    if (this._times >= 2) return this.plane.visible = !1,
                    void(this.visible = !0);
                    Laya.Tween.to(this.plane, {
                        alpha: 0
                    },
                    300, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        this.showPLane(),
                        this._times++
                    }))
                }
            },
            {
                key: "showPLane",
                value: function() {
                    Laya.Tween.to(this.plane, {
                        alpha: 1
                    },
                    300, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        this.rewardsDead()
                    }))
                }
            },
            {
                key: "startDead",
                value: function() {
                    this._index = 1,
                    this.dead_sp || (this.dead_sp = new Laya.Sprite, this.plane.addChild(this.dead_sp)),
                    Laya.timer.frameLoop(7, this, this.animaDead)
                }
            },
            {
                key: "stopDead",
                value: function() {
                    Laya.timer.clear(this, this.animaDead),
                    this.dead_sp.graphics.clear(),
                    this.plane.visible = !1,
                    this.visible = !0
                }
            },
            {
                key: "animaDead",
                value: function() {
                    this._index++,
                    this.dead_sp.graphics.clear(),
                    this.dead_sp.graphics.loadImage("res/bone/" + this._index + ".png", -129 * window.devicePixelRatio / 2 + 40, -112 * window.devicePixelRatio / 2 + 40, 129 * window.devicePixelRatio, 112 * window.devicePixelRatio),
                    this._index >= 5 && (this.dead_sp.graphics.clear(), this.stopDead())
                }
            },
            {
                key: "isGameOver",
                value: function() {
                    return ! (2 !== this.getSideState() || !this.checkOutSideEdge()) && (this._destory(), !0)
                }
            },
            {
                key: "setAnchor",
                value: function(t) {
                    this.block = t,
                    this.radius = t.circle.radius
                }
            },
            {
                key: "getAnchor",
                value: function() {
                    return this.block
                }
            },
            {
                key: "playRewards",
                value: function() {
                    if (this.currentBlock.isRewardCircle = !0, this.light) return this.light.alpha = 1,
                    this.light.scaleX = 1,
                    this.light.scaleY = 1,
                    void Laya.Tween.to(this.light, {
                        scaleX: 4,
                        scaleY: 4,
                        alpha: 0
                    },
                    500);
                    this.light = new Laya.Sprite,
                    this.light.loadImage("res/light/light.png"),
                    Laya.Tween.to(this.light, {
                        scaleX: 4,
                        scaleY: 4,
                        alpha: 0
                    },
                    500),
                    this.plane.addChild(this.light),
                    this.light.pivot(141, 141)
                }
            },
            {
                key: "currentBlock",
                get: function() {
                    return this.block
                }
            },
            {
                key: "nextBlock",
                get: function() {
                    for (var t = 0; t < this.blocks.length; t++) if (this.blocks[t].key_id === this.block.key_id + 1) return this.blocks[t]
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = b
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        r = function() {
            function t(e, i, s, r, a) {
                n(this, t),
                this.cutOffPoints = [],
                this.energyPoints = [],
                this.obstacles = [],
                this.friends = [],
                s && this.cutOffPoints.push(s),
                this.circle = e,
                this.point = i,
                this.blockInfo = r,
                this.key_id = a + 1
            }
            return s(t, [{
                key: "destroy",
                value: function() {
                    this.friends = null,
                    this.cutOffPoints = null,
                    this.energyPoints = null,
                    this.obstacles = null,
                    this.circle = null,
                    this.point = null,
                    this.blockInfo = null,
                    this._destroy = 1
                }
            },
            {
                key: "setCircle",
                value: function(t) {
                    return this.circle = circle,
                    this.circle
                }
            },
            {
                key: "addCutOffPoints",
                value: function(t) {
                    return this.cutOffPoints.push(t),
                    this.cutOffPoints
                }
            },
            {
                key: "addFriend",
                value: function(t) {
                    return this.friends.push(t),
                    this.friends
                }
            },
            {
                key: "addEnergyPoints",
                value: function(t) {
                    return this.energyPoints.push(t),
                    this.energyPoints
                }
            },
            {
                key: "addObstacle",
                value: function(t) {
                    return this.obstacles.push(t),
                    this.obstacles
                }
            },
            {
                key: "setPoint",
                value: function(t) {
                    return this.point = t,
                    this.point
                }
            }]),
            t
        } ();
        e.
    default = r
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = (n(h), i(37)),
        u = n(l),
        c = i(35),
        d = n(c),
        _ = i(38),
        f = n(_),
        p = i(36),
        g = n(p),
        y = function(t) {
            function e(t) {
                s(this, e);
                var i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return i.blocks = t,
                i.initSelf(),
                i
            }
            return a(e, t),
            o(e, [{
                key: "initSelf",
                value: function() {
                    this.initUI()
                }
            },
            {
                key: "reset",
                value: function(t) {
                    this.blocks = t,
                    this.initSelf(t)
                }
            },
            {
                key: "renderObstacles",
                value: function(t) { (t.blockInfo.obstacles || []).forEach(function(e) {
                        var i = new Laya.Pool.getItemByClass("Obstacle", u.
                    default);
                        i.init(t, e.side, e.angle, e.move),
                        i.visible = !0,
                        t.addObstacle(i),
                        this.addChild(i)
                    }.bind(this))
                }
            },
            {
                key: "renderEnergyPoints",
                value: function(t) { (t.blockInfo.energyPoints || []).forEach(function(e) {
                        var i = new d.
                    default;
                        i.init(t, e.side, e.angle),
                        i.visible = !0,
                        t.addEnergyPoints(i),
                        i.zOrder = 1e4,
                        this.addChild(i)
                    }.bind(this))
                }
            },
            {
                key: "renderFriend",
                value: function(t) { (t.blockInfo.friends || []).forEach(function(e) {
                        var i = Laya.Pool.getItemByClass("Friend", g.
                    default);
                        i.init(t, e),
                        i.visible = !0,
                        t.addFriend(i),
                        i.zOrder = 1e4,
                        this.addChild(i)
                    }.bind(this))
                }
            },
            {
                key: "initUI",
                value: function() {
                    var t = this;
                    this.blocks.forEach(function(e) {
                        e.planetUI = Laya.Pool.getItemByClass("PlanetUI", f.
                    default),
                        e.planetUI.reset(e),
                        e.planetUI.visible = !0,
                        t.addChild(e.planetUI),
                        t.renderObstacles(e),
                        t.renderEnergyPoints(e),
                        t.renderFriend(e)
                    })
                }
            },
            {
                key: "renderOnePlanet",
                value: function(t) {
                    t.planetUI = Laya.Pool.getItemByClass("PlanetUI", f.
                default),
                    t.planetUI.reset(t),
                    t.planetUI.visible = !0,
                    this.addChild(t.planetUI),
                    this.renderObstacles(t),
                    this.renderEnergyPoints(t),
                    this.renderFriend(t)
                }
            },
            {
                key: "renderOneEnergyPoint",
                value: function(t, e) {
                    var i = (t.blockInfo, new d.
                default);
                    i.init(t, e.side, e.angle),
                    t.addEnergyPoints(i),
                    i.zOrder = 1e4,
                    this.addChild(i)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = y
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.GuideControl = void 0;
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = 146 * window.devicePixelRatio,
        u = 170 * window.devicePixelRatio,
        c = 43 * window.devicePixelRatio,
        d = 65 * window.devicePixelRatio,
        _ = 34 * window.devicePixelRatio,
        f = 48 * window.devicePixelRatio;
        l /= 2,
        u /= 2,
        d /= 2,
        c /= 2,
        _ /= 2,
        f /= 2;
        var p = 15 * window.devicePixelRatio,
        g = wx.getStorageSync("guide"),
        y = g,
        v = (e.GuideControl = {
            status: !1,
            initGuide: function(t) {
                "1" !== g && "2" !== g && (this._guide = new v, this._guide.pos(10 * window.devicePixelRatio, -500 * window.devicePixelRatio), this._guide.visible = !1, t.addChild(this._guide))
            },
            getGuideStatus: function() {
                return g
            },
            getGuideClickStatus: function() {
                return y
            },
            switchGuide: function() {
                this._guide && (this._guide.visible = !1, this._guide.hideStep1(), this._guide.showStep2(), this._guide.tipsSp.text = "点击屏幕可飞跃至下个轨道", "2" == g ? (this._guide.destroy(), console.log("guide destroy"), this.resetGuide(), y = !0) : y = !1)
            },
            resetGuide: function() {
                this._guide = null
            },
            showGuideStep1: function(t) {
                if (this._guide && "1" !== g && "2" !== g && t._rotation > 75) {
                    this.status = !0,
                    this._guide.visible = !0;
                    try {
                        wx.setStorageSync("guide", "1")
                    } catch(t) {}
                    g = "1",
                    t.stop(1),
                    y = !0
                }
            },
            showGuideStep2: function(t) {
                if (this._guide && "2" !== g && t._rotation > 145) {
                    this.status = !0,
                    this._guide.visible = !0;
                    try {
                        wx.setStorageSync("guide", "2")
                    } catch(t) {}
                    g = "2",
                    t.stop(1),
                    y = !0
                }
            }
        },
        function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.width = l,
                t.height = u,
                t.txtSp = new Laya.Sprite,
                t.bgSp = new Laya.Sprite,
                t.bgSp.pivot(l / 2, u / 2),
                t.bgSp.pos(l / 2, u / 2),
                t.addChild(t.txtSp),
                t.addChild(t.bgSp),
                t.initUi(),
                t.renderCombo(),
                t
            }
            return r(e, t),
            a(e, [{
                key: "hideCombo",
                value: function() {
                    this.bgSp.visible = !1,
                    this.txtSp.graphics.clear()
                }
            },
            {
                key: "renderCombo",
                value: function() {
                    for (var t = 0; t < 4; t++) {
                        var e, i, n = this["jiantou" + t];
                        1 === t ? (e = -p, i = 0) : 2 === t ? (e = p, i = -p) : 3 === t ? (e = +p, i = 0) : (e = -p, i = p),
                        Laya.Tween.to(n, {
                            y: n.y - i,
                            x: n.x - e,
                            scaleX: 1.2,
                            scaleY: 1.2,
                            alpha: .5
                        },
                        1e3, Laya.Ease.linearNone, Laya.Handler.create(this, this.moveTextEnd, [n, e, i]))
                    }
                }
            },
            {
                key: "moveTextEnd",
                value: function(t, e, i) {
                    Laya.Tween.to(t, {
                        y: t.y + i,
                        x: t.x + e,
                        alpha: 1,
                        scaleX: 1,
                        scaleY: 1
                    },
                    1e3, Laya.Ease.linearNone, Laya.Handler.create(this, this.txtEnd, [e, i]))
                }
            },
            {
                key: "txtEnd",
                value: function(t, e) {
                    t === -15 * window.devicePixelRatio && e === 15 * window.devicePixelRatio && this.renderCombo()
                }
            },
            {
                key: "initUi",
                value: function() {
                    this.drawCircle(),
                    this.drawNeiCircle(),
                    this.drawHand(),
                    this.drawText(),
                    this.drawJianTou()
                }
            },
            {
                key: "drawHand",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/hand.png",
                    t.width = l,
                    t.height = u,
                    t.pos((h.
                default.GameWidth - l) / 2, h.
                default.GameHeight - 200 * window.devicePixelRatio),
                    this.handSp = t,
                    this.addChild(t),
                    this.handUpAnimation()
                }
            },
            {
                key: "handUpAnimation",
                value: function() {
                    Laya.Tween.to(this.handSp, {
                        y: this.handSp.y - 8 * window.devicePixelRatio
                    },
                    1e3, Laya.Ease.linearNone, Laya.Handler.create(this, this.handDownAnimation, [this]))
                }
            },
            {
                key: "handDownAnimation",
                value: function() {
                    Laya.Tween.to(this.handSp, {
                        y: this.handSp.y + 8 * window.devicePixelRatio
                    },
                    1e3, Laya.Ease.linearNone, Laya.Handler.create(this, this.handUpAnimation, [this]))
                }
            },
            {
                key: "hideStep1",
                value: function() {
                    this.jiantou1.visible = !1,
                    this.jiantou3.visible = !1
                }
            },
            {
                key: "showStep2",
                value: function() {
                    this.jiantou0.visible = !0,
                    this.jiantou2.visible = !0
                }
            },
            {
                key: "drawCircle",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/circle.png",
                    t.width = 36 * window.devicePixelRatio,
                    t.height = 36 * window.devicePixelRatio,
                    t.pivot(t.width / 2, t.height / 2),
                    t.pos(h.
                default.GameWidth / 2 - 8 * window.devicePixelRatio, h.
                default.GameHeight - 190 * window.devicePixelRatio),
                    this.circleSp = t,
                    this.addChild(t),
                    this.circleAnimation()
                }
            },
            {
                key: "circleAnimation",
                value: function() {
                    this.circleSp.alpha = 1,
                    this.circleSp.scale(1, 1),
                    Laya.Tween.to(this.circleSp, {
                        alpha: 0,
                        scaleY: 1.5,
                        scaleX: 1.5
                    },
                    1e3, Laya.Ease.linearNone, Laya.Handler.create(this, this.circleAnimation, [this]))
                }
            },
            {
                key: "drawNeiCircle",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/circle_nei.png",
                    t.width = 88 / 3 * window.devicePixelRatio,
                    t.height = 88 / 3 * window.devicePixelRatio,
                    t.pivot(t.width / 2, t.height / 2),
                    t.pos(h.
                default.GameWidth / 2 - 8 * window.devicePixelRatio, h.
                default.GameHeight - 190 * window.devicePixelRatio),
                    this.circleNeiSp = t,
                    this.addChild(t),
                    this.circleNeiAnimation()
                }
            },
            {
                key: "drawText",
                value: function() {
                    var t = new Laya.Text;
                    t.text = "点击屏幕可内外切换轨道",
                    t.fontSize = 14 * window.devicePixelRatio,
                    t.color = "#82b9c7",
                    t.pos((h.
                default.GameWidth - t.width) / 2, h.
                default.GameHeight - 100 * window.devicePixelRatio),
                    this.tipsSp = t,
                    this.addChild(t)
                }
            },
            {
                key: "circleNeiAnimation",
                value: function() {
                    this.circleNeiSp.alpha = 1,
                    this.circleNeiSp.scale(1, 1),
                    Laya.Tween.to(this.circleNeiSp, {
                        alpha: 0,
                        scaleY: 1.5,
                        scaleX: 1.5
                    },
                    1200, Laya.Ease.linearNone, Laya.Handler.create(this, this.circleNeiAnimation, [this]))
                }
            },
            {
                key: "drawJianTou",
                value: function() {
                    for (var t = 30 * window.devicePixelRatio,
                    e = 0; e < 4; e++) {
                        this["jiantou" + e] = new m,
                        this["jiantou" + e].pivot(d / 2, c / 2);
                        var i = h.
                    default.GameWidth / 2 + 85 * window.devicePixelRatio,
                        n = c / 2 + h.
                    default.GameHeight / 2 - 25 * window.devicePixelRatio;
                        1 === e ? (this["jiantou" + e].pos(i + t / 2, n + 2 * t), this["jiantou" + e].rotation = 90 * e) : 2 === e ? (this["jiantou" + e].pos(i - 2 * t + 10 * window.devicePixelRatio, n), this["jiantou" + e].rotation = 90 * e + 30, this["jiantou" + e].visible = !1) : 3 === e ? (this["jiantou" + e].pos(i - t / 2, n + 2 * t), this["jiantou" + e].rotation = 90 * e) : (this["jiantou" + e].pos(i - 1.5 * t + 5, n - t), this["jiantou" + e].rotation = 90 * e + 30, this["jiantou" + e].visible = !1),
                        this.addChild(this["jiantou" + e])
                    }
                }
            }]),
            e
        } (Laya.Sprite)),
        m = function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.renderUI(),
                t
            }
            return r(e, t),
            a(e, [{
                key: "renderUI",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/jiantou.png",
                    t.width = d,
                    t.height = c,
                    t.pos(0, 0),
                    this.addChild(t);
                    var e = new Laya.Image;
                    e.skin = "res/jiantou1.png",
                    e.width = f,
                    e.height = _,
                    e.pos(4 * window.devicePixelRatio, 10 * window.devicePixelRatio),
                    this.addChild(e)
                }
            }]),
            e
        } (Laya.Sprite)
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = n(h),
        u = i(3),
        c = i(6),
        d = i(2),
        _ = i(1),
        f = n(_),
        p = new f.
    default,
        g = 40 * window.devicePixelRatio,
        y = function(t) {
            function e() {
                s(this, e);
                var t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.scores = {},
                t.width = l.
            default.GameWidth - g,
                t.height = l.
            default.GameHeight - g,
                t.visible = !1,
                t.initUI(),
                t
            }
            return a(e, t),
            o(e, [{
                key: "initUI",
                value: function() {
                    this.renderBg(),
                    this.renderBack(),
                    this.renderRankBg(),
                    this.setupRank(),
                    this.initSp(),
                    this.renderTextSp()
                }
            },
            {
                key: "initSp",
                value: function() {
                    this.replayBtn = new Laya.Image,
                    this.replayBtn.width = 180 * window.devicePixelRatio,
                    this.replayBtn.height = 61 * window.devicePixelRatio,
                    this.addChild(this.replayBtn),
                    this.timeInfoText = new Laya.Text,
                    this.timeInfoText.overflow = Laya.Text.HIDDEN,
                    this.timeInfoText.color = "#5fb8f7",
                    this.timeInfoText.alpha = .6,
                    this.timeInfoText.fontSize = 14 * window.devicePixelRatio,
                    this.addChild(this.timeInfoText),
                    this.noBodyTxt = new Laya.Text,
                    this.noBodyTxt.overflow = Laya.Text.HIDDEN,
                    this.noBodyTxt.color = "#5fb8f7",
                    this.noBodyTxt.alpha = .6,
                    this.noBodyTxt.fontSize = 14 * window.devicePixelRatio,
                    this.addChild(this.noBodyTxt),
                    this.tzTxt = new Laya.Text,
                    this.addChild(this.tzTxt),
                    this.tzTxt.overflow = Laya.Text.HIDDEN,
                    this.tzTxt.color = "#4ddae8",
                    this.tzTxt.fontSize = 14 * window.devicePixelRatio,
                    this.nickTxt = new Laya.Text,
                    this.nickTxt.fontBold = !0,
                    this.nickTxt.fontSize = 16 * window.devicePixelRatio,
                    this.nickTxt.color = "#d0d1e6",
                    this.nickTxt.y = 130 * window.devicePixelRatio,
                    this.addChild(this.nickTxt),
                    this.headSprite = new Laya.Sprite,
                    this.addChild(this.headSprite)
                }
            },
            {
                key: "initData",
                value: function(t, e, i, n) {
                    this.room_id = t.room_id,
                    this.share_user_openid = t.share_user_openid,
                    this.group_info = e,
                    this.callback = i,
                    this.scores = n || {},
                    this.zOrder = 1e4,
                    n || (this.arrayData = null),
                    this._hasRenderSelf = !1,
                    this.replayBtn.visible = !1,
                    this.replayBtn.offAll("click"),
                    this.headSprite.removeChildren(0, 1),
                    this.nickTxt.text = "",
                    this.noBodyTxt.text = "",
                    this.timeInfoText.text = "",
                    this.tzTxt.text = "",
                    this.txtSp.graphics.clear(),
                    this.renderData()
                }
            },
            {
                key: "renderMySelf",
                value: function() {
                    this.selfUserInfo && (this._hasRenderSelf || ((0, d.loadCircleImage)(this.selfUserInfo.head_img_url || "res/default_head.png", this.headSprite, 80 * window.devicePixelRatio, 80 * window.devicePixelRatio), this.nickTxt.text = this.selfUserInfo.nick_name + "发起的挑战", this.nickTxt.x = (l.
                default.GameWidth - this.nickTxt.width) / 2, this.headSprite.x = (this.width - 40 * window.devicePixelRatio) / 2, this.headSprite.y = 40 * window.devicePixelRatio, this._hasRenderSelf = !0))
                }
            },
            {
                key: "renderTextSp",
                value: function() {
                    this.txtSp = new Laya.Sprite,
                    this.addChild(this.txtSp)
                }
            },
            {
                key: "createText",
                value: function(t) {
                    var e = 0;
                    this.txtSp.graphics.clear();
                    for (var i = t.toString().split(""), n = 0; n < i.length; n++) this.txtSp.graphics.loadImage("res/result_score_num/" + i[n] + ".png", 30 * n * window.devicePixelRatio, 0, 27 * window.devicePixelRatio, 42 * window.devicePixelRatio),
                    e += 30 * window.devicePixelRatio;
                    this.txtSp.pos((l.
                default.GameWidth - e) / 2, 240 * window.devicePixelRatio)
                }
            },
            {
                key: "renderBg",
                value: function() {
                    this.graphics.loadImage("res/bg1.png", 0, 0, l.
                default.GameWidth, l.
                default.GameWidth * (1500 / 443))
                }
            },
            {
                key: "renderBack",
                value: function() {
                    var t = new Laya.Sprite,
                    e = 68 / 1.8 * window.devicePixelRatio;
                    t.graphics.loadImage("res/rank/back.png", 0, 0, e, e),
                    this.addChild(t),
                    t.pos(10 * window.devicePixelRatio, 20 * window.devicePixelRatio),
                    t.height = e,
                    t.width = e,
                    t.on("click", this,
                    function() {
                        p.playBtn(),
                        wx.exitMiniProgram ? wx.exitMiniProgram() : (this.callback && this.callback(), this.reStart(), this.hideUI())
                    })
                }
            },
            {
                key: "hideUI",
                value: function() {
                    Laya.Tween.to(this, {
                        alpha: 0
                    },
                    1e3, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        this.visible = !1,
                        this.alpha = 1,
                        window._GC()
                    }))
                }
            },
            {
                key: "renderReplay",
                value: function(t, e) {
                    this.replayBtn.skin = e ? "res/pk/over.png": t ? "res/rank/replay.png": "res/pk/tz.png",
                    this.replayBtn.pos((l.
                default.GameWidth - 180 * window.devicePixelRatio) / 2, 330 * window.devicePixelRatio),
                    this.replayBtn.visible = !0,
                    this.replayBtn.on("click", this,
                    function() {
                        e || (p.playBtn(), this.callback && this.callback(), this.reStart(), window._pk_user_game_id = this.arrayData.pk_room_info.user_game_id, this.hideUI())
                    })
                }
            },
            {
                key: "renderRankBg",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.loadImage("res/pk/pkk.png", 12 * window.devicePixelRatio, 150 * window.devicePixelRatio, 742 / 1.9 * window.devicePixelRatio, 1012 / 1.9 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "setupRank",
                value: function() {
                    this.list = new Laya.List,
                    this.list.itemRender = Laya.Item,
                    this.list.repeatX = 1,
                    this.list.repeatY = 4,
                    this.list.vScrollBarSkin = "",
                    this.list.selectEnable = !0,
                    this.list.renderHandler = new Laya.Handler(this, this.updateItem),
                    this.addChild(this.list),
                    this.list.x = 50 * window.devicePixelRatio,
                    this.list.y = 432 * window.devicePixelRatio,
                    this.addRankInfo(),
                    this.addShareBtn()
                }
            },
            {
                key: "addRankInfo",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/pk/restart.png",
                    t.width = 318 * window.devicePixelRatio / 2,
                    t.height = 115 * window.devicePixelRatio / 2,
                    t.pos((l.
                default.GameWidth - t.width) / 5, 675 * window.devicePixelRatio),
                    t.on("click", this,
                    function() {
                        p.playBtn(),
                        this.callback && this.callback(),
                        this.reStart(),
                        window._pk_user_game_id = null,
                        this.hideUI()
                    }),
                    t.visible = !1,
                    this.addChild(t),
                    this.reStartBtn = t
                }
            },
            {
                key: "addShareBtn",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/pk/share.png",
                    t.width = 318 * window.devicePixelRatio / 2,
                    t.height = 115 * window.devicePixelRatio / 2,
                    t.pos((l.
                default.GameWidth - t.width) / 1.2, 675 * window.devicePixelRatio),
                    t.on("click", this,
                    function() {
                        p.playBtn(),
                        wx.shareAppMessage && wx.shareAppMessage(window._shareInfo)
                    }),
                    t.visible = !1,
                    this.addChild(t),
                    this.shareBtn = t
                }
            },
            {
                key: "createShareInfo",
                value: function(t, e) {
                    window._shareInfo.title = "不服来战",
                    window._shareInfo.query = "room_id=" + this.room_id;
                    var i = {
                        score: t || 0,
                        energeNum: 0,
                        maxCombo: 0,
                        percent: 0
                    };
                    t >= e && (i.isSuccess = t > e, i.my_head_url = (this.userinfoObj[this.arrayData.pk_room_info.my_user_id] || {}).head_img_url || "res/default_head.png", i.own_head_url = (this.selfUserInfo || {}).head_img_url || "res/default_head.png"),
                    this.loadHeadImage(i)
                }
            },
            {
                key: "loadHeadImage",
                value: function(t) {
                    if (t.my_head_url) for (var e = [], i = 0, n = [t.my_head_url, t.own_head_url], s = n.length, r = 0; r < s; r++) e[r] = new Image,
                    e[r].src = n[r],
                    e[r].onload = function() {++i == s && (window._shareInfo.imageUrl = (0, c.drawShareCanvas)(t, 1))
                    };
                    else window._shareInfo.imageUrl = (0, c.drawShareCanvas)(t, 1)
                }
            },
            {
                key: "reStart",
                value: function() {
                    window.Main && (window.Main.startUpSprite ? (console.error("deep start"), window.Main.startUpSprite.startGame()) : (console.error("light start"), window.Main.reStart()), window.Main.resultSprite && (window.Main.resultSprite.visible = !1), window.rankUI && (window.rankUI.visible = !1))
                }
            },
            {
                key: "addTimeInfo",
                value: function(t) {
                    var e = new Date(1e3 * t);
                    this.timeInfoText.text = 1e3 * t <= Date.now() ? "已过期": "有效时间至 " + this.fomateNum(e.getHours()) + ":" + this.fomateNum(e.getMinutes()),
                    this.timeInfoText.pos((l.
                default.GameWidth - this.timeInfoText.width) / 2, 400 * window.devicePixelRatio)
                }
            },
            {
                key: "addNoBody",
                value: function() {
                    this.noBodyTxt.text = "暂无人应战",
                    this.noBodyTxt.pos((l.
                default.GameWidth - this.noBodyTxt.width) / 2, 500 * window.devicePixelRatio)
                }
            },
            {
                key: "fomateNum",
                value: function(t) {
                    return t > 9 ? t: "0" + t
                }
            },
            {
                key: "addTzInfo",
                value: function(t, e) {
                    console.error(t, e),
                    this.tzTxt.text = e > t ? "挑战成功": e === t ? "打成平手": "挑战失败",
                    this.tzTxt.pos((l.
                default.GameWidth - this.tzTxt.width) / 2, 200 * window.devicePixelRatio)
                }
            },
            {
                key: "renderData",
                value: function() {
                    var t = this;
                    if (this.arrayData) return this.rankData = this.arrayData.user_multi_rank,
                    this.selectData(),
                    wx.hideLoading && wx.hideLoading(),
                    void(this.visible = !0);
                    var e = {
                        appid: "wx7a727ff7d940bb3f",
                        room_id: this.room_id,
                        share_user_openid: this.share_user_openid
                    };
                    this.group_info && (e.group_info = this.group_info),
                    (0, u.getPkRoomInfo)(e).then(function(e) {
                        if (wx.hideLoading && wx.hideLoading(), 0 === e.errcode) {
                            if (console.error(e), !e.data.pk_room_info) return t.visible = !1,
                            void(t.callback && t.callback());
                            t.arrayData = e.data,
                            t.rankData = e.data ? e.data.user_multi_rank: {},
                            t.selectData(),
                            t.visible = !0
                        } else {
                            t.rankData = {};
                            var i = t;
                            wx.showModal({
                                title: "温馨提示",
                                content: "获取PK数据失败,点击确定回到游戏" + e.errcode,
                                showCancel: !1,
                                success: function(t) {
                                    t.confirm && (i.callback && i.callback(), this.visible = !1)
                                }
                            })
                        }
                    }).
                    catch(function(e) {
                        console.error(e),
                        t.visible = !1,
                        t.callback && t.callback(),
                        wx.hideLoading && wx.hideLoading()
                    })
                }
            },
            {
                key: "findData",
                value: function(t, e) {
                    for (var i = 0; i < t.length; i++) if (t[i].key === e) return t[i]
                }
            },
            {
                key: "selectData",
                value: function(t) {
                    if (this.rankData) {
                        t = t || "newscore";
                        var e = [];
                        this.userinfoObj = this.userinfoObj || this.getUserInfoByUid(this.rankData.user_info_list);
                        var i = 1,
                        n = this.findData(this.rankData.rank_list, t) || {};
                        this.selfUserInfo = this.userinfoObj[this.arrayData.pk_room_info.creator_user_id];
                        var s = n.rank_item_list,
                        r = this.getLeizhuScore(s);
                        if (this.addTimeInfo(this.arrayData.pk_room_info.expire_time), this.arrayData.pk_room_info.creator_user_id !== this.arrayData.pk_room_info.my_user_id) {
                            if (n.self_rank_item || void 0 !== this.scores[t]) {
                                if (n.self_rank_item) {
                                    var a = Math.max(n.self_rank_item.value, this.scores[t] || 0);
                                    this.addTzInfo(r, a),
                                    this.createShareInfo(a, r)
                                } else this.addTzInfo(r, this.scores[t]),
                                this.createShareInfo(this.scores[t], r);
                                this.reStartBtn.visible = !0,
                                this.shareBtn.visible = !0,
                                this.reStartBtn.x = (l.
                            default.GameWidth - this.reStartBtn.width) / 5
                            } else this.reStartBtn.visible = !0,
                            this.shareBtn.visible = !1,
                            this.reStartBtn.x = (l.
                        default.GameWidth - this.reStartBtn.width) / 2;
                            this.renderReplay(n.self_rank_item || void 0 !== this.scores[t], 1e3 * this.arrayData.pk_room_info.expire_time < Date.now()),
                            this.list.y = 432 * window.devicePixelRatio,
                            this.timeInfoText.y = 400 * window.devicePixelRatio
                        } else this.list.y = 352 * window.devicePixelRatio,
                        this.timeInfoText.y = 330 * window.devicePixelRatio,
                        this.reStartBtn.visible = !0,
                        this.shareBtn.visible = !1,
                        this.reStartBtn.x = (l.
                    default.GameWidth - this.reStartBtn.width) / 2;
                        s = this.parseList(s, this.arrayData.pk_room_info.creator_user_id, this.scores[t]);
                        var o = this;
                        s.forEach(function(n) {
                            var s = o.getUserInfoByid(n.user_id),
                            a = {
                                index: n.index || i++,
                                score: n.value + o.getDanWeiByKey(t),
                                nick: (0, d.strlen)(s.nick_name || "", 12),
                                src: (s.head_img_url || "").replace(/\/0$/, "/64") || "res/default_head.png",
                                status: n.value > r ? "成功": n.value == r ? "平局": "失败"
                            };
                            e.push(a)
                        }),
                        this.renderMySelf(),
                        e.length || this.addNoBody(),
                        this.list.array = e,
                        this.list.tweenTo(0, 0)
                    }
                }
            },
            {
                key: "getUserInfoByid",
                value: function(t) {
                    return this.userinfoObj[t] || {}
                }
            },
            {
                key: "getLeizhuScore",
                value: function(t) {
                    for (var e = 0; e < t.length; e++) if (t[e].user_id === this.arrayData.pk_room_info.creator_user_id) return t[e].value
                }
            },
            {
                key: "getDanWeiByKey",
                value: function(t) {
                    return "newscore" === t ? "分": "combo" === t ? "次": "baoshi" === t ? "个": void 0
                }
            },
            {
                key: "parseList",
                value: function(t, e, i) {
                    if (t = t || [], !this.selfUserInfo) return t;
                    for (var n = !1,
                    s = 0; s < t.length; s++) t[s].user_id === this.arrayData.pk_room_info.my_user_id && (n = !0, i > t[s].value && (t[s].value = i));
                    n || void 0 === i || t.push({
                        value: i,
                        user_id: this.arrayData.pk_room_info.my_user_id,
                        rank: 1
                    });
                    for (var r = [], s = 0; s < t.length; s++) t[s].user_id !== e ? r.push(t[s]) : this.createText(t[s].value);
                    return r.sort(function(t, e) {
                        return e.value - t.value
                    })
                }
            },
            {
                key: "getUserInfoByUid",
                value: function(t) {
                    for (var e = {},
                    i = 0; i < t.length; i++) e[t[i].user_id] = t[i];
                    return e
                }
            },
            {
                key: "updateItem",
                value: function(t, e) {
                    t.setData(t.dataSource)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = y
    },
    function(t, e) {
        var i;
        i = function() {
            return this
        } ();
        try {
            i = i || Function("return this")() || (0, eval)("this")
        } catch(t) {
            "object" == typeof window && (i = window)
        }
        t.exports = i
    },
    function(t, e, i) { !
        function(t, e, i) {
            var n = (i.un, i.uns, i.static),
            s = i.class,
            r = i.getset,
            a = i.__newvec,
            o = laya.maths.Bezier,
            h = laya.utils.Browser,
            l = laya.utils.Byte,
            u = (laya.events.Event, laya.events.EventDispatcher),
            c = laya.display.Graphics,
            d = laya.resource.HTMLCanvas,
            _ = laya.utils.Handler,
            f = laya.net.Loader,
            p = laya.maths.MathUtil,
            g = laya.maths.Matrix,
            y = (laya.display.Node, laya.maths.Point, laya.maths.Rectangle),
            v = laya.renders.Render,
            m = (laya.renders.RenderContext, laya.resource.Resource),
            w = laya.utils.RunDriver,
            x = laya.display.Sprite,
            b = laya.utils.Stat,
            S = laya.resource.Texture,
            C = laya.net.URL,
            P = laya.utils.Utils,
            k = function() {
                function t() {
                    this.nodes = null,
                    this.name = null,
                    this.playTime = NaN,
                    this.bone3DMap = null,
                    this.totalKeyframeDatasLength = 0
                }
                return s(t, "laya.ani.AnimationContent"),
                t
            } (),
            T = function() {
                function t() {
                    this.name = null,
                    this.parentIndex = 0,
                    this.parent = null,
                    this.keyframeWidth = 0,
                    this.lerpType = 0,
                    this.interpolationMethod = null,
                    this.childs = null,
                    this.keyFrame = null,
                    this.playTime = NaN,
                    this.extenData = null,
                    this.dataOffset = 0
                }
                return s(t, "laya.ani.AnimationNodeContent"),
                t
            } (),
            M = function() {
                function t() {}
                return s(t, "laya.ani.AnimationParser01"),
                t.parse = function(t, e) {
                    var i = e.__getBuffer(),
                    n = 0,
                    s = 0,
                    r = 0,
                    a = 0,
                    o = 0,
                    h = 0,
                    u = 0,
                    c = e.readUTFString();
                    t._aniClassName = c;
                    var d, _ = e.readUTFString().split("\n"),
                    f = e.getUint8(),
                    p = e.getUint32(),
                    g = e.getUint32();
                    p > 0 && (d = i.slice(p, g));
                    var y = new l(d);
                    for (g > 0 && (t._publicExtData = i.slice(g, i.byteLength)), t._useParent = !!e.getUint8(), t._anis.length = f, n = 0; n < f; n++) {
                        var v = t._anis[n] = new k;
                        v.nodes = new Array;
                        var m = v.name = _[e.getUint16()];
                        t._aniMap[m] = n,
                        v.bone3DMap = {},
                        v.playTime = e.getFloat32();
                        var w = v.nodes.length = e.getUint8();
                        for (v.totalKeyframeDatasLength = 0, s = 0; s < w; s++) {
                            var x = v.nodes[s] = new T;
                            x.childs = [];
                            var b = e.getInt16();
                            b >= 0 && (x.name = _[b], v.bone3DMap[x.name] = s),
                            x.keyFrame = new Array,
                            x.parentIndex = e.getInt16(),
                            -1 == x.parentIndex ? x.parent = null: x.parent = v.nodes[x.parentIndex],
                            x.lerpType = e.getUint8();
                            var S = e.getUint32();
                            y.pos = S;
                            var C = x.keyframeWidth = y.getUint16();
                            if (v.totalKeyframeDatasLength += C, 0 === x.lerpType || 1 === x.lerpType) for (x.interpolationMethod = [], x.interpolationMethod.length = C, r = 0; r < C; r++) x.interpolationMethod[r] = it.interpolation[y.getUint8()];
                            null != x.parent && x.parent.childs.push(x);
                            var P = e.getUint16();
                            P > 0 && (x.extenData = i.slice(e.pos, e.pos + P), e.pos += P);
                            var M = e.getUint16();
                            x.keyFrame.length = M;
                            var R, I = 0;
                            for (r = 0, a = M; r < a; r++) {
                                if (R = x.keyFrame[r] = new Q, R.duration = e.getFloat32(), R.startTime = I, 2 === x.lerpType) {
                                    R.interpolationData = [];
                                    var L = e.getUint8(),
                                    D = 0;
                                    switch (D = e.getFloat32()) {
                                    case 254:
                                        for (R.interpolationData.length = C, u = 0; u < C; u++) R.interpolationData[u] = 0;
                                        break;
                                    case 255:
                                        for (R.interpolationData.length = C, u = 0; u < C; u++) R.interpolationData[u] = 5;
                                        break;
                                    default:
                                        for (R.interpolationData.push(D), h = 1; h < L; h++) R.interpolationData.push(e.getFloat32())
                                    }
                                }
                                for (R.data = new Float32Array(C), R.dData = new Float32Array(C), R.nextData = new Float32Array(C), o = 0; o < C; o++) R.data[o] = e.getFloat32(),
                                R.data[o] > -1e-8 && R.data[o] < 1e-8 && (R.data[o] = 0);
                                I += R.duration
                            }
                            R.startTime = v.playTime,
                            x.playTime = v.playTime,
                            t._calculateKeyFrame(x, M, C)
                        }
                    }
                },
                t
            } (),
            R = function() {
                function t() {}
                return s(t, "laya.ani.AnimationParser02"),
                t.READ_DATA = function() {
                    t._DATA.offset = t._reader.getUint32(),
                    t._DATA.size = t._reader.getUint32()
                },
                t.READ_BLOCK = function() {
                    for (var e = t._BLOCK.count = t._reader.getUint16(), i = t._BLOCK.blockStarts = [], n = t._BLOCK.blockLengths = [], s = 0; s < e; s++) i.push(t._reader.getUint32()),
                    n.push(t._reader.getUint32())
                },
                t.READ_STRINGS = function() {
                    var e = t._reader.getUint32(),
                    i = t._reader.getUint16(),
                    n = t._reader.pos;
                    t._reader.pos = e + t._DATA.offset;
                    for (var s = 0; s < i; s++) t._strings[s] = t._reader.readUTFString();
                    t._reader.pos = n
                },
                t.parse = function(e, i) {
                    t._templet = e,
                    t._reader = i;
                    i.__getBuffer();
                    t.READ_DATA(),
                    t.READ_BLOCK(),
                    t.READ_STRINGS();
                    for (var n = 0,
                    s = t._BLOCK.count; n < s; n++) {
                        var r = i.getUint16(),
                        a = t._strings[r],
                        o = t["READ_" + a];
                        if (null == o) throw new Error("model file err,no this function:" + r + " " + a);
                        o.call()
                    }
                },
                t.READ_ANIMATIONS = function() {
                    var e = t._reader,
                    i = e.__getBuffer(),
                    n = 0,
                    s = 0,
                    r = 0,
                    a = 0,
                    o = e.getUint16(),
                    h = [];
                    for (h.length = o, n = 0; n < o; n++) h[n] = it.interpolation[e.getByte()];
                    var l = e.getUint8();
                    for (t._templet._anis.length = l, n = 0; n < l; n++) {
                        var u = t._templet._anis[n] = {};
                        u.nodes = new Array;
                        var c = u.name = t._strings[e.getUint16()];
                        t._templet._aniMap[c] = n,
                        u.bone3DMap = {},
                        u.playTime = e.getFloat32();
                        var d = u.nodes.length = e.getInt16();
                        for (u.totalKeyframeDatasLength = 0, s = 0; s < d; s++) {
                            var _ = u.nodes[s] = {};
                            _.keyframeWidth = o,
                            _.childs = [];
                            var f = e.getUint16();
                            f >= 0 && (_.name = t._strings[f], u.bone3DMap[_.name] = s),
                            _.keyFrame = new Array,
                            _.parentIndex = e.getInt16(),
                            -1 == _.parentIndex ? _.parent = null: _.parent = u.nodes[_.parentIndex],
                            u.totalKeyframeDatasLength += o,
                            _.interpolationMethod = h,
                            null != _.parent && _.parent.childs.push(_);
                            var p = e.getUint16();
                            _.keyFrame.length = p;
                            var g = null,
                            y = null;
                            for (r = 0, a = p; r < a; r++) {
                                g = _.keyFrame[r] = {},
                                g.startTime = e.getFloat32(),
                                y && (y.duration = g.startTime - y.startTime),
                                g.dData = new Float32Array(o),
                                g.nextData = new Float32Array(o);
                                var v = t._DATA.offset,
                                m = e.getUint32(),
                                w = 4 * o,
                                x = i.slice(v + m, v + m + w);
                                g.data = new Float32Array(x),
                                y = g
                            }
                            g.duration = 0,
                            _.playTime = u.playTime,
                            t._templet._calculateKeyFrame(_, p, o)
                        }
                    }
                },
                t._templet = null,
                t._reader = null,
                t._strings = [],
                n(t, ["_BLOCK",
                function() {
                    return this._BLOCK = {
                        count: 0
                    }
                },
                "_DATA",
                function() {
                    return this._DATA = {
                        offset: 0,
                        size: 0
                    }
                }]),
                t
            } (),
            I = (function() {
                function t() {}
                s(t, "laya.ani.AnimationState"),
                t.stopped = 0,
                t.paused = 1,
                t.playing = 2
            } (),
            function() {
                function t() {
                    this.name = null,
                    this.root = null,
                    this.parentBone = null,
                    this.length = 10,
                    this.transform = null,
                    this.inheritScale = !0,
                    this.inheritRotation = !0,
                    this.rotation = NaN,
                    this.resultRotation = NaN,
                    this.d = -1,
                    this._tempMatrix = null,
                    this._sprite = null,
                    this.resultTransform = new q,
                    this.resultMatrix = new g,
                    this._children = []
                }
                s(t, "laya.ani.bone.Bone");
                var e = t.prototype;
                return e.setTempMatrix = function(t) {
                    this._tempMatrix = t;
                    var e, i = 0,
                    n = 0;
                    for (i = 0, n = this._children.length; i < n; i++) e = this._children[i],
                    e.setTempMatrix(this._tempMatrix)
                },
                e.update = function(t) {
                    this.rotation = this.transform.skX;
                    var e;
                    if (t) e = this.resultTransform.getMatrix(),
                    g.mul(e, t, this.resultMatrix),
                    this.resultRotation = this.rotation;
                    else if (this.resultRotation = this.rotation + this.parentBone.resultRotation, this.parentBone) if (this.inheritRotation && this.inheritScale) e = this.resultTransform.getMatrix(),
                    g.mul(e, this.parentBone.resultMatrix, this.resultMatrix);
                    else {
                        var i = this.parentBone,
                        n = NaN,
                        s = NaN,
                        r = NaN,
                        a = this.parentBone.resultMatrix;
                        e = this.resultTransform.getMatrix();
                        var o = a.a * e.tx + a.c * e.ty + a.tx,
                        h = a.b * e.tx + a.d * e.ty + a.ty,
                        l = new g;
                        this.inheritRotation ? (n = Math.atan2(i.resultMatrix.b, i.resultMatrix.a), s = Math.cos(n), r = Math.sin(n), l.setTo(s, r, -r, s, 0, 0), g.mul(this._tempMatrix, l, g.TEMP), g.TEMP.copyTo(l), e = this.resultTransform.getMatrix(), g.mul(e, l, this.resultMatrix), this.resultTransform.scX * this.resultTransform.scY < 0 && this.resultMatrix.rotate(.5 * Math.PI), this.resultMatrix.tx = o, this.resultMatrix.ty = h) : (this.inheritScale, e = this.resultTransform.getMatrix(), g.TEMP.identity(), g.TEMP.d = this.d, g.mul(e, g.TEMP, this.resultMatrix), this.resultMatrix.tx = o, this.resultMatrix.ty = h)
                    } else e = this.resultTransform.getMatrix(),
                    e.copyTo(this.resultMatrix);
                    var u, c = 0,
                    d = 0;
                    for (c = 0, d = this._children.length; c < d; c++) u = this._children[c],
                    u.update()
                },
                e.updateChild = function() {
                    var t, e = 0,
                    i = 0;
                    for (e = 0, i = this._children.length; e < i; e++) t = this._children[e],
                    t.update()
                },
                e.setRotation = function(t) {
                    this._sprite && (this._sprite.rotation = 180 * t / Math.PI)
                },
                e.updateDraw = function(e, n) {
                    t.ShowBones && !t.ShowBones[this.name] || (this._sprite ? (this._sprite.x = e + this.resultMatrix.tx, this._sprite.y = n + this.resultMatrix.ty) : (this._sprite = new x, this._sprite.graphics.drawCircle(0, 0, 5, "#ff0000"), this._sprite.graphics.drawLine(0, 0, this.length, 0, "#00ff00"), this._sprite.graphics.fillText(this.name, 0, 0, "20px Arial", "#00ff00", "center"), i.stage.addChild(this._sprite), this._sprite.x = e + this.resultMatrix.tx, this._sprite.y = n + this.resultMatrix.ty));
                    var s, r = 0,
                    a = 0;
                    for (r = 0, a = this._children.length; r < a; r++) s = this._children[r],
                    s.updateDraw(e, n)
                },
                e.addChild = function(t) {
                    this._children.push(t),
                    t.parentBone = this
                },
                e.findBone = function(t) {
                    if (this.name == t) return this;
                    var e, i, n = 0,
                    s = 0;
                    for (n = 0, s = this._children.length; n < s; n++) if (e = this._children[n], i = e.findBone(t)) return i;
                    return null
                },
                e.localToWorld = function(t) {
                    var e = t[0],
                    i = t[1];
                    t[0] = e * this.resultMatrix.a + i * this.resultMatrix.c + this.resultMatrix.tx,
                    t[1] = e * this.resultMatrix.b + i * this.resultMatrix.d + this.resultMatrix.ty
                },
                t.ShowBones = {},
                t
            } ()),
            L = function() {
                function t() {
                    this.name = null,
                    this.parent = null,
                    this.attachmentName = null,
                    this.srcDisplayIndex = -1,
                    this.type = "src",
                    this.templet = null,
                    this.currSlotData = null,
                    this.currTexture = null,
                    this.currDisplayData = null,
                    this.displayIndex = -1,
                    this._diyTexture = null,
                    this._parentMatrix = null,
                    this._resultMatrix = null,
                    this._replaceDic = {},
                    this._curDiyUV = null,
                    this._curDiyVS = null,
                    this._skinSprite = null,
                    this.deformData = null,
                    this._mVerticleArr = null
                }
                s(t, "laya.ani.bone.BoneSlot");
                var e = t.prototype;
                return e.showSlotData = function(t, e) {
                    void 0 === e && (e = !0),
                    this.currSlotData = t,
                    e && (this.displayIndex = this.srcDisplayIndex),
                    this.currDisplayData = null,
                    this.currTexture = null
                },
                e.showDisplayByName = function(t) {
                    this.currSlotData && this.showDisplayByIndex(this.currSlotData.getDisplayByName(t))
                },
                e.replaceDisplayByName = function(t, e) {
                    if (this.currSlotData) {
                        var i = 0;
                        i = this.currSlotData.getDisplayByName(t);
                        var n = 0;
                        n = this.currSlotData.getDisplayByName(e),
                        this.replaceDisplayByIndex(i, n)
                    }
                },
                e.replaceDisplayByIndex = function(t, e) {
                    this.currSlotData && (this._replaceDic[t] = e, this.displayIndex == t && this.showDisplayByIndex(t))
                },
                e.showDisplayByIndex = function(t) {
                    if (this._replaceDic[t] && (t = this._replaceDic[t]), this.currSlotData && t > -1 && t < this.currSlotData.displayArr.length) {
                        if (this.displayIndex = t, this.currDisplayData = this.currSlotData.displayArr[t], this.currDisplayData) {
                            var e = this.currDisplayData.name;
                            this.currTexture = this.templet.getTexture(e),
                            this.currTexture && v.isWebGL && 0 == this.currDisplayData.type && this.currDisplayData.uvs && (this.currTexture = this.currDisplayData.createTexture(this.currTexture))
                        }
                    } else this.displayIndex = -1,
                    this.currDisplayData = null,
                    this.currTexture = null
                },
                e.replaceSkin = function(t) {
                    this._diyTexture = t,
                    this._curDiyUV && (this._curDiyUV.length = 0),
                    this.currDisplayData && this._diyTexture == this.currDisplayData.texture && (this._diyTexture = null)
                },
                e.setParentMatrix = function(t) {
                    this._parentMatrix = t
                },
                e.draw = function(e, i, n, s) {
                    if (void 0 === n && (n = !1), void 0 === s && (s = 1), (null != this._diyTexture || null != this.currTexture) && null != this.currDisplayData || this.currDisplayData && 3 == this.currDisplayData.type) {
                        var r = this.currTexture;
                        this._diyTexture && (r = this._diyTexture);
                        var a;
                        switch (this.currDisplayData.type) {
                        case 0:
                            if (e) {
                                var o = this.getDisplayMatrix();
                                if (this._parentMatrix) {
                                    var h = !1;
                                    if (o) {
                                        g.mul(o, this._parentMatrix, g.TEMP);
                                        var l;
                                        if (n ? (null == this._resultMatrix && (this._resultMatrix = new g), l = this._resultMatrix) : l = new g, !v.isWebGL && this.currDisplayData.uvs || v.isWebGL && this._diyTexture && this.currDisplayData.uvs) {
                                            var u = t._tempMatrix;
                                            u.identity(),
                                            this.currDisplayData.uvs[1] > this.currDisplayData.uvs[5] && (u.d = -1),
                                            this.currDisplayData.uvs[0] > this.currDisplayData.uvs[4] && this.currDisplayData.uvs[1] > this.currDisplayData.uvs[5] && (h = !0, u.rotate( - Math.PI / 2)),
                                            g.mul(u, g.TEMP, l)
                                        } else g.TEMP.copyTo(l);
                                        h ? e.drawTexture(r, -this.currDisplayData.height / 2, -this.currDisplayData.width / 2, this.currDisplayData.height, this.currDisplayData.width, l) : e.drawTexture(r, -this.currDisplayData.width / 2, -this.currDisplayData.height / 2, this.currDisplayData.width, this.currDisplayData.height, l)
                                    }
                                }
                            }
                            break;
                        case 1:
                            if (n ? (null == this._skinSprite && (this._skinSprite = t.createSkinMesh()), a = this._skinSprite) : a = t.createSkinMesh(), null == a) return;
                            var c;
                            if (null == this.currDisplayData.bones) {
                                var d = this.currDisplayData.weights;
                                this.deformData && (d = this.deformData);
                                var _;
                                this._diyTexture ? (this._curDiyUV || (this._curDiyUV = []), 0 == this._curDiyUV.length && (this._curDiyUV = K.getRelativeUV(this.currTexture.uv, this.currDisplayData.uvs, this._curDiyUV), this._curDiyUV = K.getAbsoluteUV(this._diyTexture.uv, this._curDiyUV, this._curDiyUV)), _ = this._curDiyUV) : _ = this.currDisplayData.uvs,
                                this._mVerticleArr = d;
                                this.currDisplayData.triangles.length;
                                c = this.currDisplayData.triangles,
                                a.init2(r, null, c, this._mVerticleArr, _);
                                var f = this.getDisplayMatrix();
                                if (this._parentMatrix && f) {
                                    g.mul(f, this._parentMatrix, g.TEMP);
                                    var p;
                                    n ? (null == this._resultMatrix && (this._resultMatrix = new g), p = this._resultMatrix) : p = new g,
                                    g.TEMP.copyTo(p),
                                    a.transform = p
                                }
                            } else this.skinMesh(i, a, s);
                            e.drawSkin(a);
                            break;
                        case 2:
                            if (n ? (null == this._skinSprite && (this._skinSprite = t.createSkinMesh()), a = this._skinSprite) : a = t.createSkinMesh(), null == a) return;
                            this.skinMesh(i, a, s),
                            e.drawSkin(a)
                        }
                    }
                },
                e.skinMesh = function(t, e, i) {
                    var n, s = this.currTexture,
                    r = this.currDisplayData.bones;
                    this._diyTexture ? (s = this._diyTexture, this._curDiyUV || (this._curDiyUV = []), 0 == this._curDiyUV.length && (this._curDiyUV = K.getRelativeUV(this.currTexture.uv, this.currDisplayData.uvs, this._curDiyUV), this._curDiyUV = K.getAbsoluteUV(this._diyTexture.uv, this._curDiyUV, this._curDiyUV)), n = this._curDiyUV) : n = this.currDisplayData.uvs;
                    var a, o, h = this.currDisplayData.weights,
                    l = this.currDisplayData.triangles,
                    u = 0,
                    c = 0,
                    d = 0,
                    _ = NaN,
                    f = NaN,
                    p = 0,
                    g = 0,
                    y = [],
                    v = 0,
                    m = 0;
                    if (this.deformData && this.deformData.length > 0) {
                        var w = 0;
                        for (v = 0, m = r.length; v < m;) {
                            for (d = r[v++] + v, u = 0, c = 0; v < d; v++) o = t[r[v]],
                            _ = h[p] + this.deformData[w++],
                            f = h[p + 1] + this.deformData[w++],
                            g = h[p + 2],
                            u += (_ * o.a + f * o.c + o.tx) * g,
                            c += (_ * o.b + f * o.d + o.ty) * g,
                            p += 3;
                            y.push(u, c)
                        }
                    } else for (v = 0, m = r.length; v < m;) {
                        for (d = r[v++] + v, u = 0, c = 0; v < d; v++) o = t[r[v]],
                        _ = h[p],
                        f = h[p + 1],
                        g = h[p + 2],
                        u += (_ * o.a + f * o.c + o.tx) * g,
                        c += (_ * o.b + f * o.d + o.ty) * g,
                        p += 3;
                        y.push(u, c)
                    }
                    this._mVerticleArr = y,
                    a = l,
                    e.init2(s, null, a, this._mVerticleArr, n)
                },
                e.drawBonePoint = function(t) {
                    t && this._parentMatrix && t.drawCircle(this._parentMatrix.tx, this._parentMatrix.ty, 5, "#ff0000")
                },
                e.getDisplayMatrix = function() {
                    return this.currDisplayData ? this.currDisplayData.transform.getMatrix() : null
                },
                e.getMatrix = function() {
                    return this._resultMatrix
                },
                e.copy = function() {
                    var e = new t;
                    return e.type = "copy",
                    e.name = this.name,
                    e.attachmentName = this.attachmentName,
                    e.srcDisplayIndex = this.srcDisplayIndex,
                    e.parent = this.parent,
                    e.displayIndex = this.displayIndex,
                    e.templet = this.templet,
                    e.currSlotData = this.currSlotData,
                    e.currTexture = this.currTexture,
                    e.currDisplayData = this.currDisplayData,
                    e
                },
                t.createSkinMesh = function() {
                    return v.isWebGL || v.isConchApp ? w.skinAniSprite() : v.isWebGL ? null: st.useSimpleMeshInCanvas ? new nt: new et
                },
                n(t, ["_tempMatrix",
                function() {
                    return this._tempMatrix = new g
                }]),
                t
            } (),
            D = function() {
                function t() {
                    this.mesh = null,
                    this.transform = null,
                    this.context = null,
                    this.mode = 0
                }
                s(t, "laya.ani.bone.canvasmesh.CanvasMeshRender");
                var e = t.prototype;
                return e.renderToContext = function(t) {
                    this.context = t.ctx || t,
                    this.mesh && (0 == this.mode ? this._renderWithIndexes(this.mesh) : this._renderNoIndexes(this.mesh))
                },
                e._renderNoIndexes = function(t) {
                    var e = 0,
                    i = t.vertices.length / 2,
                    n = 0;
                    for (e = 0; e < i - 2; e++) n = 2 * e,
                    this._renderDrawTriangle(t, n, n + 2, n + 4)
                },
                e._renderWithIndexes = function(t) {
                    var e = t.indexes,
                    i = 0,
                    n = e.length;
                    for (i = 0; i < n; i += 3) {
                        var s = 2 * e[i],
                        r = 2 * e[i + 1],
                        a = 2 * e[i + 2];
                        this._renderDrawTriangle(t, s, r, a)
                    }
                },
                e._renderDrawTriangle = function(t, e, i, n) {
                    var s = this.context,
                    r = t.uvs,
                    a = t.vertices,
                    o = t.texture,
                    h = o.bitmap,
                    l = h.source,
                    u = o.width,
                    c = o.height,
                    d = h.width,
                    _ = h.height,
                    f = NaN,
                    p = NaN,
                    g = NaN,
                    y = NaN,
                    v = NaN,
                    m = NaN;
                    if (t.useUvTransform) {
                        var w = t.uvTransform;
                        f = (r[e] * w.a + r[e + 1] * w.c + w.tx) * d,
                        p = (r[i] * w.a + r[i + 1] * w.c + w.tx) * d,
                        g = (r[n] * w.a + r[n + 1] * w.c + w.tx) * d,
                        y = (r[e] * w.b + r[e + 1] * w.d + w.ty) * _,
                        v = (r[i] * w.b + r[i + 1] * w.d + w.ty) * _,
                        m = (r[n] * w.b + r[n + 1] * w.d + w.ty) * _
                    } else f = r[e] * d,
                    p = r[i] * d,
                    g = r[n] * d,
                    y = r[e + 1] * _,
                    v = r[i + 1] * _,
                    m = r[n + 1] * _;
                    var x = a[e],
                    b = a[i],
                    S = a[n],
                    C = a[e + 1],
                    P = a[i + 1],
                    k = a[n + 1];
                    if (t.canvasPadding > 0) {
                        var T = t.canvasPadding,
                        M = t.canvasPadding,
                        R = (x + b + S) / 3,
                        I = (C + P + k) / 3,
                        L = x - R,
                        D = C - I,
                        B = Math.sqrt(L * L + D * D);
                        x = R + L / B * (B + T),
                        C = I + D / B * (B + M),
                        L = b - R,
                        D = P - I,
                        B = Math.sqrt(L * L + D * D),
                        b = R + L / B * (B + T),
                        P = I + D / B * (B + M),
                        L = S - R,
                        D = k - I,
                        B = Math.sqrt(L * L + D * D),
                        S = R + L / B * (B + T),
                        k = I + D / B * (B + M)
                    }
                    if (s.save(), this.transform) {
                        var E = this.transform;
                        s.transform(E.a, E.b, E.c, E.d, E.tx, E.ty)
                    }
                    s.beginPath(),
                    s.moveTo(x, C),
                    s.lineTo(b, P),
                    s.lineTo(S, k),
                    s.closePath(),
                    s.clip();
                    var A = f * v + y * g + p * m - v * g - y * p - f * m,
                    O = 1 / A,
                    N = x * v + y * S + b * m - v * S - y * b - x * m,
                    F = f * b + x * g + p * S - b * g - x * p - f * S,
                    U = f * v * S + y * b * g + x * p * m - x * v * g - y * p * S - f * b * m,
                    G = C * v + y * k + P * m - v * k - y * P - C * m,
                    W = f * P + C * g + p * k - P * g - C * p - f * k,
                    H = f * v * k + y * P * g + C * p * m - C * v * g - y * p * k - f * P * m;
                    s.transform(N * O, G * O, F * O, W * O, U * O, H * O),
                    s.drawImage(l, o.uv[0] * d, o.uv[1] * _, u, c, o.uv[0] * d, o.uv[1] * _, u, c),
                    s.restore()
                },
                t
            } (),
            B = function() {
                function t() {
                    this.texture = null,
                    this.uvs = [0, 0, 1, 0, 1, 1, 0, 1],
                    this.vertices = [0, 0, 100, 0, 100, 100, 0, 100],
                    this.indexes = [0, 1, 3, 3, 1, 2],
                    this.uvTransform = null,
                    this.useUvTransform = !1,
                    this.canvasPadding = 1
                }
                return s(t, "laya.ani.bone.canvasmesh.MeshData"),
                t.prototype.getBounds = function() {
                    return y._getWrapRec(this.vertices)
                },
                t
            } (),
            E = function() {
                function t() {
                    this.skinName = null,
                    this.deformSlotDataList = []
                }
                return s(t, "laya.ani.bone.DeformAniData"),
                t
            } (),
            A = function() {
                function t() {
                    this.deformSlotDisplayList = []
                }
                return s(t, "laya.ani.bone.DeformSlotData"),
                t
            } (),
            O = function() {
                function t() {
                    this.boneSlot = null,
                    this.slotIndex = -1,
                    this.attachment = null,
                    this.deformData = null,
                    this.frameIndex = 0,
                    this.timeList = [],
                    this.vectices = [],
                    this.tweenKeyList = []
                }
                s(t, "laya.ani.bone.DeformSlotDisplayData");
                var e = t.prototype;
                return e.binarySearch1 = function(t, e) {
                    var i = 0,
                    n = t.length - 2;
                    if (0 == n) return 1;
                    for (var s = n >>> 1;;) {
                        if (t[Math.floor(s + 1)] <= e ? i = s + 1 : n = s, i == n) return i + 1;
                        s = i + n >>> 1
                    }
                    return 0
                },
                e.apply = function(t, e, i) {
                    if (void 0 === i && (i = 1), t += .05, !(this.timeList.length <= 0)) {
                        var n = 0;
                        if (! (t < this.timeList[0])) {
                            var s = this.vectices[0].length,
                            r = [],
                            a = this.binarySearch1(this.timeList, t);
                            if (this.frameIndex = a, t >= this.timeList[this.timeList.length - 1]) {
                                var o = this.vectices[this.vectices.length - 1];
                                if (i < 1) for (n = 0; n < s; n++) r[n] += (o[n] - r[n]) * i;
                                else for (n = 0; n < s; n++) r[n] = o[n];
                                return void(this.deformData = r)
                            }
                            var h = (this.tweenKeyList[this.frameIndex], this.vectices[this.frameIndex - 1]),
                            l = this.vectices[this.frameIndex],
                            u = this.timeList[this.frameIndex - 1],
                            c = this.timeList[this.frameIndex];
                            i = this.tweenKeyList[a - 1] ? (t - u) / (c - u) : 0;
                            var d = NaN;
                            for (n = 0; n < s; n++) d = h[n],
                            r[n] = d + (l[n] - d) * i;
                            this.deformData = r
                        }
                    }
                },
                t
            } (),
            N = function() {
                function t() {
                    this.time = NaN,
                    this.drawOrder = []
                }
                return s(t, "laya.ani.bone.DrawOrderData"),
                t
            } (),
            F = function() {
                function t() {
                    this.name = null,
                    this.intValue = 0,
                    this.floatValue = NaN,
                    this.stringValue = null,
                    this.time = NaN
                }
                return s(t, "laya.ani.bone.EventData"),
                t
            } (),
            U = function() {
                function t(t, e) {
                    this._targetBone = null,
                    this._bones = null,
                    this._data = null,
                    this.name = null,
                    this.mix = NaN,
                    this.bendDirection = NaN,
                    this.isSpine = !0,
                    this._sp = null,
                    this.isDebug = !1,
                    this._data = t,
                    this._targetBone = e[t.targetBoneIndex],
                    this.isSpine = t.isSpine,
                    null == this._bones && (this._bones = []),
                    this._bones.length = 0;
                    for (var i = 0,
                    n = t.boneIndexs.length; i < n; i++) this._bones.push(e[t.boneIndexs[i]]);
                    this.name = t.name,
                    this.mix = t.mix,
                    this.bendDirection = t.bendDirection
                }
                s(t, "laya.ani.bone.IkConstraint");
                var e = t.prototype;
                return e.apply = function() {
                    switch (this._bones.length) {
                    case 1:
                        this._applyIk1(this._bones[0], this._targetBone.resultMatrix.tx, this._targetBone.resultMatrix.ty, this.mix);
                        break;
                    case 2:
                        this.isSpine ? this._applyIk2(this._bones[0], this._bones[1], this._targetBone.resultMatrix.tx, this._targetBone.resultMatrix.ty, this.bendDirection, this.mix) : this._applyIk3(this._bones[0], this._bones[1], this._targetBone.resultMatrix.tx, this._targetBone.resultMatrix.ty, this.bendDirection, this.mix)
                    }
                },
                e._applyIk1 = function(e, i, n, s) {
                    var r = e.parentBone,
                    a = 1 / (r.resultMatrix.a * r.resultMatrix.d - r.resultMatrix.b * r.resultMatrix.c),
                    o = i - r.resultMatrix.tx,
                    h = n - r.resultMatrix.ty,
                    l = (o * r.resultMatrix.d - h * r.resultMatrix.c) * a - e.transform.x,
                    u = (h * r.resultMatrix.a - o * r.resultMatrix.b) * a - e.transform.y,
                    c = Math.atan2(u, l) * t.radDeg - 0 - e.transform.skX;
                    e.transform.scX < 0 && (c += 180),
                    c > 180 ? c -= 360 : c < -180 && (c += 360),
                    e.transform.skX = e.transform.skY = e.transform.skX + c * s,
                    e.update()
                },
                e.updatePos = function(t, e) {
                    this._sp && this._sp.pos(t, e)
                },
                e._applyIk2 = function(e, n, s, r, a, o) {
                    if (0 != o) {
                        var h = e.resultTransform.x,
                        l = e.resultTransform.y,
                        u = e.transform.scX,
                        c = e.transform.scY,
                        d = n.transform.scX,
                        _ = 0,
                        f = 0,
                        p = 0;
                        u < 0 ? (u = -u, _ = 180, p = -1) : (_ = 0, p = 1),
                        c < 0 && (c = -c, p = -p),
                        d < 0 ? (d = -d, f = 180) : f = 0;
                        var g = n.resultTransform.x,
                        y = NaN,
                        v = NaN,
                        m = NaN,
                        w = e.resultMatrix.a,
                        b = e.resultMatrix.c,
                        S = e.resultMatrix.b,
                        C = e.resultMatrix.d,
                        P = Math.abs(u - c) <= 1e-4;
                        P ? (y = n.resultTransform.y, v = w * g + b * y + e.resultMatrix.tx, m = S * g + C * y + e.resultMatrix.ty) : (y = 0, v = w * g + e.resultMatrix.tx, m = S * g + e.resultMatrix.ty),
                        this.isDebug && (this._sp || (this._sp = new x, i.stage.addChild(this._sp)), this._sp.graphics.clear(), this._sp.graphics.drawCircle(s, r, 15, "#ffff00"), this._sp.graphics.drawCircle(v, m, 15, "#ff00ff")),
                        e.setRotation(Math.atan2(m - e.resultMatrix.ty, v - e.resultMatrix.tx));
                        var k = e.parentBone;
                        w = k.resultMatrix.a,
                        b = k.resultMatrix.c,
                        S = k.resultMatrix.b,
                        C = k.resultMatrix.d;
                        var T = 1 / (w * C - b * S),
                        M = s - k.resultMatrix.tx,
                        R = r - k.resultMatrix.ty,
                        I = (M * C - R * b) * T - h,
                        L = (R * w - M * S) * T - l;
                        M = v - k.resultMatrix.tx,
                        R = m - k.resultMatrix.ty;
                        var D = (M * C - R * b) * T - h,
                        B = (R * w - M * S) * T - l,
                        E = Math.sqrt(D * D + B * B),
                        A = n.length * d,
                        O = NaN,
                        N = NaN;
                        if (P) {
                            A *= u;
                            var F = (I * I + L * L - E * E - A * A) / (2 * E * A);
                            F < -1 ? F = -1 : F > 1 && (F = 1),
                            N = Math.acos(F) * a,
                            w = E + A * F,
                            b = A * Math.sin(N),
                            O = Math.atan2(L * w - I * b, I * w + L * b)
                        } else {
                            w = u * A,
                            b = c * A;
                            var U = w * w,
                            G = b * b,
                            W = I * I + L * L,
                            H = Math.atan2(L, I);
                            S = G * E * E + U * W - U * G;
                            var z = -2 * G * E,
                            Y = G - U;
                            if ((C = z * z - 4 * Y * S) > 0) {
                                var j = Math.sqrt(C);
                                z < 0 && (j = -j),
                                j = -(z + j) / 2;
                                var X = j / Y,
                                V = S / j,
                                $ = Math.abs(X) < Math.abs(V) ? X: V;
                                $ * $ <= W && (R = Math.sqrt(W - $ * $) * a, O = H - Math.atan2(R, $), N = Math.atan2(R / c, ($ - E) / u))
                            }
                            var q = 0,
                            K = Number.MAX_VALUE,
                            Q = 0,
                            J = 0,
                            Z = 0,
                            tt = 0,
                            et = 0,
                            it = 0;
                            M = E + w,
                            C = M * M,
                            C > tt && (Z = 0, tt = C, et = M),
                            M = E - w,
                            C = M * M,
                            C < K && (q = Math.PI, K = C, Q = M);
                            var nt = Math.acos( - w * E / (U - G));
                            M = w * Math.cos(nt) + E,
                            R = b * Math.sin(nt),
                            C = M * M + R * R,
                            C < K && (q = nt, K = C, Q = M, J = R),
                            C > tt && (Z = nt, tt = C, et = M, it = R),
                            W <= (K + tt) / 2 ? (O = H - Math.atan2(J * a, Q), N = q * a) : (O = H - Math.atan2(it * a, et), N = Z * a)
                        }
                        var st = Math.atan2(y, g) * p,
                        rt = e.resultTransform.skX;
                        O = (O - st) * t.radDeg + _ - rt,
                        O > 180 ? O -= 360 : O < -180 && (O += 360),
                        e.resultTransform.x = h,
                        e.resultTransform.y = l,
                        e.resultTransform.skX = e.resultTransform.skY = rt + O * o,
                        rt = n.resultTransform.skX,
                        rt %= 360,
                        N = ((N + st) * t.radDeg - 0) * p + f - rt,
                        N > 180 ? N -= 360 : N < -180 && (N += 360),
                        n.resultTransform.x = g,
                        n.resultTransform.y = y,
                        n.resultTransform.skX = n.resultTransform.skY = n.resultTransform.skY + N * o,
                        e.update()
                    }
                },
                e._applyIk3 = function(e, n, s, r, a, o) {
                    if (0 != o) {
                        var h = NaN,
                        l = NaN,
                        u = n.resultMatrix.a * n.length,
                        c = n.resultMatrix.b * n.length,
                        d = u * u + c * c,
                        _ = Math.sqrt(d),
                        f = e.resultMatrix.tx,
                        p = e.resultMatrix.ty,
                        g = n.resultMatrix.tx,
                        y = n.resultMatrix.ty,
                        v = g - f,
                        m = y - p,
                        w = v * v + m * m,
                        b = Math.sqrt(w);
                        v = s - e.resultMatrix.tx,
                        m = r - e.resultMatrix.ty;
                        var S = v * v + m * m,
                        C = Math.sqrt(S);
                        if (_ + b <= C || C + _ <= b || C + b <= _) {
                            var P = NaN;
                            P = _ + b <= C ? 1 : -1,
                            g = f + P * (s - f) * b / C,
                            y = p + P * (r - p) * b / C
                        } else {
                            var k = (w - d + S) / (2 * S),
                            T = Math.sqrt(w - k * k * S) / C,
                            M = f + v * k,
                            R = p + m * k,
                            I = -m * T,
                            L = v * T;
                            a > 0 ? (g = M - I, y = R - L) : (g = M + I, y = R + L)
                        }
                        h = g,
                        l = y,
                        this.isDebug && (this._sp || (this._sp = new x, i.stage.addChild(this._sp)), this._sp.graphics.clear(), this._sp.graphics.drawCircle(f, p, 15, "#ff00ff"), this._sp.graphics.drawCircle(s, r, 15, "#ffff00"), this._sp.graphics.drawCircle(h, l, 15, "#ff00ff"));
                        var D = NaN;
                        D = Math.atan2(l - e.resultMatrix.ty, h - e.resultMatrix.tx),
                        e.setRotation(D);
                        var B;
                        B = t._tempMatrix,
                        B.identity(),
                        B.rotate(D),
                        B.scale(e.resultMatrix.getScaleX(), e.resultMatrix.getScaleY()),
                        B.translate(e.resultMatrix.tx, e.resultMatrix.ty),
                        B.copyTo(e.resultMatrix),
                        e.updateChild();
                        var E = NaN;
                        E = Math.atan2(r - l, s - h),
                        n.setRotation(E);
                        var A;
                        A = t._tempMatrix,
                        A.identity(),
                        A.rotate(E),
                        A.scale(n.resultMatrix.getScaleX(), n.resultMatrix.getScaleY()),
                        A.translate(h, l),
                        B.copyTo(n.resultMatrix),
                        n.updateChild()
                    }
                },
                n(t, ["radDeg",
                function() {
                    return this.radDeg = 180 / Math.PI
                },
                "degRad",
                function() {
                    return this.degRad = Math.PI / 180
                },
                "_tempMatrix",
                function() {
                    return this._tempMatrix = new g
                }]),
                t
            } (),
            G = function() {
                function t() {
                    this.name = null,
                    this.targetBoneName = null,
                    this.bendDirection = 1,
                    this.mix = 1,
                    this.isSpine = !0,
                    this.targetBoneIndex = -1,
                    this.boneNames = [],
                    this.boneIndexs = []
                }
                return s(t, "laya.ani.bone.IkConstraintData"),
                t
            } (),
            W = function() {
                function t() {}
                return s(t, "laya.ani.bone.MeshTools"),
                t.findEdge = function(t, e, i) {
                    void 0 === e && (e = 0),
                    void 0 === i && (i = !0);
                    var n = 0,
                    s = 0,
                    r = 0;
                    for (s = t.length, r = -1, n = 0; n < s; n += 2)(r < 0 || i == t[r + e] < t[n + e]) && (r = n);
                    return r
                },
                t.findBestTriangle = function(e) {
                    var i = 0;
                    i = t.findEdge(e, 1, !0);
                    var n = 0;
                    n = t.findEdge(e, 1, !1);
                    var s = 0;
                    s = t.findEdge(e, 0, !0);
                    var r = 0;
                    r = t.findEdge(e, 0, !1);
                    var a;
                    return a = t._bestTriangle,
                    a.length = 0,
                    a.push(s, r),
                    a.indexOf(i) < 0 && a.push(i),
                    a.indexOf(n) < 0 && a.push(n),
                    a
                },
                t.solveMesh = function(e, i) {
                    i = i || [],
                    i.length = 0;
                    var n;
                    n = e.uvs;
                    var s;
                    s = e.vertices;
                    var r, a;
                    a = t.findBestTriangle(n);
                    var o = 0,
                    h = 0,
                    l = 0;
                    o = a[0],
                    h = a[1],
                    l = a[2],
                    t._absArr.length = 0,
                    r = t.solvePoints(e.texture.uv, n[o], n[o + 1], n[h] - n[o], n[h + 1] - n[o + 1], n[l] - n[o], n[l + 1] - n[o + 1], t._absArr);
                    return t.transPoints(r, s[o], s[o + 1], s[h] - s[o], s[h + 1] - s[o + 1], s[l] - s[o], s[l + 1] - s[o + 1], i)
                },
                t.solvePoints = function(e, i, n, s, r, a, o, h) {
                    h = h || [];
                    var l = 0,
                    u = 0;
                    u = e.length;
                    var c;
                    for (l = 0; l < u; l += 2) c = t.solve2(e[l], e[l + 1], i, n, s, r, a, o),
                    h.push(c[0], c[1]);
                    return h
                },
                t.transPoints = function(e, i, n, s, r, a, o, h) {
                    h = h || [];
                    var l = 0,
                    u = 0;
                    u = e.length;
                    for (l = 0; l < u; l += 2) t.transPoint(e[l], e[l + 1], i, n, s, r, a, o, h);
                    return h
                },
                t.transPoint = function(t, e, i, n, s, r, a, o, h) {
                    h = h || [];
                    var l = NaN,
                    u = NaN;
                    return l = i + s * t + a * e,
                    u = n + r * t + o * e,
                    h.push(l, u),
                    h
                },
                t.solve2 = function(e, i, n, s, r, a, o, h, l, u) {
                    void 0 === l && (l = !1),
                    u = u || [];
                    var c = NaN,
                    d = NaN;
                    if (0 == r) return t.solve2(e, i, n, s, o, h, r, a, !0, u);
                    var _ = NaN,
                    f = NaN;
                    return _ = e - n,
                    f = i - s,
                    d = (f - _ * a / r) / (h - o * a / r),
                    c = (_ - d * o) / r,
                    l ? u.push(d, c) : u.push(c, d),
                    u
                },
                t.solve = function(e, i, n, s) {
                    return t.solve2(e.x, e.y, i.x, i.y, n.x, n.y, s.x, s.y)
                },
                t._bestTriangle = [],
                t._absArr = [],
                t
            } (),
            H = function() {
                function t(t, e) {
                    this.target = null,
                    this.data = null,
                    this.bones = null,
                    this.position = NaN,
                    this.spacing = NaN,
                    this.rotateMix = NaN,
                    this.translateMix = NaN,
                    this._debugKey = !1,
                    this._spaces = null,
                    this._segments = [],
                    this._curves = [],
                    this.data = t,
                    this.position = t.position,
                    this.spacing = t.spacing,
                    this.rotateMix = t.rotateMix,
                    this.translateMix = t.translateMix,
                    this.bones = [];
                    for (var i = this.data.bones,
                    n = 0,
                    s = i.length; n < s; n++) this.bones.push(e[i[n]])
                }
                s(t, "laya.ani.bone.PathConstraint");
                var e = t.prototype;
                return e.apply = function(t, e) {
                    var i = this.translateMix,
                    n = this.translateMix,
                    s = n > 0,
                    r = this.data.spacingMode,
                    a = "length" == r,
                    o = this.data.rotateMode,
                    h = "tangent" == o,
                    l = "chainScale" == o,
                    u = [],
                    c = this.bones.length,
                    d = h ? c: c + 1,
                    _ = [];
                    this._spaces = _,
                    _[0] = this.position;
                    var f = this.spacing;
                    if (l || a) for (var p = 0,
                    g = d - 1; p < g;) {
                        var y = this.bones[p],
                        v = y.length,
                        m = v * y.resultMatrix.a,
                        w = v * y.resultMatrix.b;
                        v = Math.sqrt(m * m + w * w),
                        l && (u[p] = v),
                        _[++p] = a ? Math.max(0, v + f) : f
                    } else for (p = 1; p < d; p++) _[p] = f;
                    var x = this.computeWorldPositions(this.target, t, e, d, h, "percent" == this.data.positionMode, "percent" == r);
                    if (this._debugKey) {
                        for (p = 0; p < x.length; p++) e.drawCircle(x[p++], x[p++], 5, "#00ff00");
                        var b = [];
                        for (p = 0; p < x.length; p++) b.push(x[p++], x[p++]);
                        e.drawLines(0, 0, b, "#ff0000")
                    }
                    var S = x[0],
                    C = x[1],
                    P = this.data.offsetRotation,
                    k = "chain" == o && 0 == P,
                    T = NaN;
                    for (p = 0, T = 3; p < c; p++, T += 3) {
                        y = this.bones[p],
                        y.resultMatrix.tx += (S - y.resultMatrix.tx) * i,
                        y.resultMatrix.ty += (C - y.resultMatrix.ty) * i,
                        m = x[T],
                        w = x[T + 1];
                        var M = m - S,
                        R = w - C;
                        if (l && 0 != (v = u[p])) {
                            var I = (Math.sqrt(M * M + R * R) / v - 1) * n + 1;
                            y.resultMatrix.a *= I,
                            y.resultMatrix.c *= I
                        }
                        if (S = m, C = w, s) {
                            var L = y.resultMatrix.a,
                            D = y.resultMatrix.c,
                            B = y.resultMatrix.b,
                            E = y.resultMatrix.d,
                            A = NaN,
                            O = NaN,
                            N = NaN;
                            A = h ? x[T - 1] : 0 == _[p + 1] ? x[T + 2] : Math.atan2(R, M),
                            A -= Math.atan2(B, L) - P / 180 * Math.PI,
                            k && (O = Math.cos(A), N = Math.sin(A), v = y.length, S += (v * (O * L - N * B) - M) * n, C += (v * (N * L + O * B) - R) * n),
                            A > Math.PI ? A -= 2 * Math.PI: A < -Math.PI && (A += 2 * Math.PI),
                            A *= n,
                            O = Math.cos(A),
                            N = Math.sin(A),
                            y.resultMatrix.a = O * L - N * B,
                            y.resultMatrix.c = O * D - N * E,
                            y.resultMatrix.b = N * L + O * B,
                            y.resultMatrix.d = N * D + O * E
                        }
                    }
                },
                e.computeWorldVertices2 = function(e, i, n, s, r, a) {
                    var o, h, l = e.currDisplayData.bones,
                    u = e.currDisplayData.weights,
                    c = e.currDisplayData.triangles,
                    d = 0,
                    _ = 0,
                    f = 0,
                    p = 0,
                    g = 0,
                    y = 0,
                    v = 0,
                    m = 0,
                    w = 0,
                    x = 0,
                    b = 0;
                    if (null != l) {
                        for (d = 0; d < n; d += 2) p = l[_],
                        _ += p + 1,
                        f += p;
                        var S = i;
                        for (g = a, y = 3 * f; g < s; g += 2) {
                            for (v = 0, m = 0, p = l[_++], p += _; _ < p; _++, y += 3) {
                                o = S[l[_]].resultMatrix,
                                w = u[y],
                                x = u[y + 1];
                                var C = u[y + 2];
                                v += (w * o.a + x * o.c + o.tx) * C,
                                m += (w * o.b + x * o.d + o.ty) * C
                            }
                            r[g] = v,
                            r[g + 1] = m
                        }
                    } else {
                        c || (c = u),
                        e.deformData && (c = e.deformData);
                        var P;
                        if (P = e.parent, i) for (b = i.length, d = 0; d < b; d++) if (i[d].name = P) {
                            h = i[d];
                            break
                        }
                        var k;
                        h && (k = h.resultMatrix),
                        k || (k = t._tempMt);
                        var T = k.tx,
                        M = k.ty,
                        R = k.a,
                        I = k.b,
                        L = k.c,
                        D = k.d;
                        for (h && (D *= h.d), _ = n, g = a; g < s; _ += 2, g += 2) w = c[_],
                        x = c[_ + 1],
                        r[g] = w * R + x * I + T,
                        r[g + 1] = -(w * L + x * D + M)
                    }
                },
                e.computeWorldPositions = function(t, e, i, n, s, r, a) {
                    var o = (t.currDisplayData.bones, t.currDisplayData.weights, t.currDisplayData.triangles, []),
                    h = 0,
                    l = t.currDisplayData.verLen,
                    u = this.position,
                    c = this._spaces,
                    d = [],
                    _ = [],
                    f = l / 6,
                    p = -1,
                    g = NaN,
                    y = 0,
                    v = 0,
                    m = NaN,
                    w = NaN,
                    x = NaN,
                    b = NaN;
                    if (f--, l -= 4, this.computeWorldVertices2(t, e, 2, l, o, 0), this._debugKey) for (h = 0; h < o.length;) i.drawCircle(o[h++], o[h++], 10, "#ff0000");
                    d = o,
                    this._curves.length = f;
                    var S = this._curves;
                    g = 0;
                    var C = d[0],
                    P = d[1],
                    k = 0,
                    T = 0,
                    M = 0,
                    R = 0,
                    I = 0,
                    L = 0,
                    D = NaN,
                    B = NaN,
                    E = NaN,
                    A = NaN,
                    O = NaN,
                    N = NaN,
                    F = NaN,
                    U = NaN,
                    G = 0;
                    for (h = 0, G = 2; h < f; h++, G += 6) k = d[G],
                    T = d[G + 1],
                    M = d[G + 2],
                    R = d[G + 3],
                    I = d[G + 4],
                    L = d[G + 5],
                    D = .1875 * (C - 2 * k + M),
                    B = .1875 * (P - 2 * T + R),
                    E = .09375 * (3 * (k - M) - C + I),
                    A = .09375 * (3 * (T - R) - P + L),
                    O = 2 * D + E,
                    N = 2 * B + A,
                    F = .75 * (k - C) + D + .16666667 * E,
                    U = .75 * (T - P) + B + .16666667 * A,
                    g += Math.sqrt(F * F + U * U),
                    F += O,
                    U += N,
                    O += E,
                    N += A,
                    g += Math.sqrt(F * F + U * U),
                    F += O,
                    U += N,
                    g += Math.sqrt(F * F + U * U),
                    F += O + E,
                    U += N + A,
                    g += Math.sqrt(F * F + U * U),
                    S[h] = g,
                    C = I,
                    P = L;
                    if (r && (u *= g), a) for (h = 0; h < n; h++) c[h] *= g;
                    var W = this._segments,
                    H = 0,
                    z = 0;
                    for (h = 0, y = 0, v = 0, z = 0; h < n; h++, y += 3) if (w = c[h], u += w, (m = u) < 0) this.addBeforePosition(m, d, 0, _, y);
                    else if (m > g) this.addAfterPosition(m - g, d, l - 4, _, y);
                    else {
                        for (;; v++) if (b = S[v], !(m > b)) {
                            0 == v ? m /= b: (x = S[v - 1], m = (m - x) / (b - x));
                            break
                        }
                        if (v != p) {
                            p = v;
                            var Y = 6 * v;
                            for (C = d[Y], P = d[Y + 1], k = d[Y + 2], T = d[Y + 3], M = d[Y + 4], R = d[Y + 5], I = d[Y + 6], L = d[Y + 7], D = .03 * (C - 2 * k + M), B = .03 * (P - 2 * T + R), E = .006 * (3 * (k - M) - C + I), A = .006 * (3 * (T - R) - P + L), O = 2 * D + E, N = 2 * B + A, F = .3 * (k - C) + D + .16666667 * E, U = .3 * (T - P) + B + .16666667 * A, H = Math.sqrt(F * F + U * U), W[0] = H, Y = 1; Y < 8; Y++) F += O,
                            U += N,
                            O += E,
                            N += A,
                            H += Math.sqrt(F * F + U * U),
                            W[Y] = H;
                            F += O,
                            U += N,
                            H += Math.sqrt(F * F + U * U),
                            W[8] = H,
                            F += O + E,
                            U += N + A,
                            H += Math.sqrt(F * F + U * U),
                            W[9] = H,
                            z = 0
                        }
                        for (m *= H;; z++) if (b = W[z], !(m > b)) {
                            0 == z ? m /= b: (x = W[z - 1], m = z + (m - x) / (b - x));
                            break
                        }
                        this.addCurvePosition(.1 * m, C, P, k, T, M, R, I, L, _, y, s || h > 0 && 0 == w)
                    }
                    return _
                },
                e.addBeforePosition = function(t, e, i, n, s) {
                    var r = e[i],
                    a = e[i + 1],
                    o = e[i + 2] - r,
                    h = e[i + 3] - a,
                    l = Math.atan2(h, o);
                    n[s] = r + t * Math.cos(l),
                    n[s + 1] = a + t * Math.sin(l),
                    n[s + 2] = l
                },
                e.addAfterPosition = function(t, e, i, n, s) {
                    var r = e[i + 2],
                    a = e[i + 3],
                    o = r - e[i],
                    h = a - e[i + 1],
                    l = Math.atan2(h, o);
                    n[s] = r + t * Math.cos(l),
                    n[s + 1] = a + t * Math.sin(l),
                    n[s + 2] = l
                },
                e.addCurvePosition = function(t, e, i, n, s, r, a, o, h, l, u, c) {
                    0 == t && (t = 1e-4);
                    var d = t * t,
                    _ = d * t,
                    f = 1 - t,
                    p = f * f,
                    g = p * f,
                    y = f * t,
                    v = 3 * y,
                    m = f * v,
                    w = v * t,
                    x = e * g + n * m + r * w + o * _,
                    b = i * g + s * m + a * w + h * _;
                    l[u] = x,
                    l[u + 1] = b,
                    l[u + 2] = c ? Math.atan2(b - (i * p + s * y * 2 + a * d), x - (e * p + n * y * 2 + r * d)) : 0
                },
                t.NONE = -1,
                t.BEFORE = -2,
                t.AFTER = -3,
                n(t, ["_tempMt",
                function() {
                    return this._tempMt = new g
                }]),
                t
            } (),
            z = function() {
                function t() {
                    this.name = null,
                    this.target = null,
                    this.positionMode = null,
                    this.spacingMode = null,
                    this.rotateMode = null,
                    this.offsetRotation = NaN,
                    this.position = NaN,
                    this.spacing = NaN,
                    this.rotateMix = NaN,
                    this.translateMix = NaN,
                    this.bones = []
                }
                return s(t, "laya.ani.bone.PathConstraintData"),
                t
            } (),
            Y = function() {
                function t() {
                    this.name = null,
                    this.slotArr = []
                }
                return s(t, "laya.ani.bone.SkinData"),
                t
            } (),
            j = function() {
                function t() {
                    this.name = null,
                    this.attachmentName = null,
                    this.type = 0,
                    this.transform = null,
                    this.width = NaN,
                    this.height = NaN,
                    this.texture = null,
                    this.bones = null,
                    this.uvs = null,
                    this.weights = null,
                    this.triangles = null,
                    this.vertices = null,
                    this.lengths = null,
                    this.verLen = 0
                }
                s(t, "laya.ani.bone.SkinSlotDisplayData");
                var e = t.prototype;
                return e.createTexture = function(t) {
                    return this.texture ? this.texture: (this.texture = new S(t.bitmap, this.uvs), this.uvs[0] > this.uvs[4] && this.uvs[1] > this.uvs[5] ? (this.texture.width = t.height, this.texture.height = t.width, this.texture.offsetX = -t.offsetX, this.texture.offsetY = -t.offsetY, this.texture.sourceWidth = t.sourceHeight, this.texture.sourceHeight = t.sourceWidth) : (this.texture.width = t.width, this.texture.height = t.height, this.texture.offsetX = -t.offsetX, this.texture.offsetY = -t.offsetY, this.texture.sourceWidth = t.sourceWidth, this.texture.sourceHeight = t.sourceHeight), this.texture)
                },
                e.destory = function() {
                    this.texture && this.texture.destroy()
                },
                t
            } (),
            X = function() {
                function t() {
                    this.name = null,
                    this.displayArr = []
                }
                return s(t, "laya.ani.bone.SlotData"),
                t.prototype.getDisplayByName = function(t) {
                    for (var e, i = 0,
                    n = this.displayArr.length; i < n; i++) if (e = this.displayArr[i], e.attachmentName == t) return i;
                    return - 1
                },
                t
            } (),
            V = function() {
                function t(t, e) {
                    this._data = null,
                    this._bones = null,
                    this.target = null,
                    this.rotateMix = NaN,
                    this.translateMix = NaN,
                    this.scaleMix = NaN,
                    this.shearMix = NaN,
                    this._temp = a(2, 0),
                    this._data = t,
                    null == this._bones && (this._bones = []),
                    this.target = e[t.targetIndex];
                    var i = 0,
                    n = 0;
                    for (i = 0, n = t.boneIndexs.length; i < n; i++) this._bones.push(e[t.boneIndexs[i]]);
                    this.rotateMix = t.rotateMix,
                    this.translateMix = t.translateMix,
                    this.scaleMix = t.scaleMix,
                    this.shearMix = t.shearMix
                }
                return s(t, "laya.ani.bone.TfConstraint"),
                t.prototype.apply = function() {
                    for (var t, e = this.target.resultMatrix.a,
                    i = this.target.resultMatrix.b,
                    n = this.target.resultMatrix.c,
                    s = this.target.resultMatrix.d,
                    r = 0,
                    a = this._bones.length; r < a; r++) {
                        if (t = this._bones[r], this.rotateMix > 0) {
                            var o = t.resultMatrix.a,
                            h = t.resultMatrix.b,
                            l = t.resultMatrix.c,
                            u = t.resultMatrix.d,
                            c = Math.atan2(n, e) - Math.atan2(l, o) + this._data.offsetRotation * Math.PI / 180;
                            c > Math.PI ? c -= 2 * Math.PI: c < -Math.PI && (c += 2 * Math.PI),
                            c *= this.rotateMix;
                            var d = Math.cos(c),
                            _ = Math.sin(c);
                            t.resultMatrix.a = d * o - _ * l,
                            t.resultMatrix.b = d * h - _ * u,
                            t.resultMatrix.c = _ * o + d * l,
                            t.resultMatrix.d = _ * h + d * u
                        }
                        if (this.translateMix && (this._temp[0] = this._data.offsetX, this._temp[1] = this._data.offsetY, this.target.localToWorld(this._temp), t.resultMatrix.tx += (this._temp[0] - t.resultMatrix.tx) * this.translateMix, t.resultMatrix.ty += (this._temp[1] - t.resultMatrix.ty) * this.translateMix, t.updateChild()), this.scaleMix > 0) {
                            var f = Math.sqrt(t.resultMatrix.a * t.resultMatrix.a + t.resultMatrix.c * t.resultMatrix.c),
                            p = Math.sqrt(e * e + n * n),
                            g = f > 1e-5 ? (f + (p - f + this._data.offsetScaleX) * this.scaleMix) / f: 0;
                            t.resultMatrix.a *= g,
                            t.resultMatrix.c *= g,
                            f = Math.sqrt(t.resultMatrix.b * t.resultMatrix.b + t.resultMatrix.d * t.resultMatrix.d),
                            p = Math.sqrt(i * i + s * s),
                            g = f > 1e-5 ? (f + (p - f + this._data.offsetScaleY) * this.scaleMix) / f: 0,
                            t.resultMatrix.b *= g,
                            t.resultMatrix.d *= g
                        }
                        if (this.shearMix > 0) {
                            h = t.resultMatrix.b,
                            u = t.resultMatrix.d;
                            var y = Math.atan2(u, h);
                            c = Math.atan2(s, i) - Math.atan2(n, e) - (y - Math.atan2(t.resultMatrix.c, t.resultMatrix.a)),
                            c > Math.PI ? c -= 2 * Math.PI: c < -Math.PI && (c += 2 * Math.PI),
                            c = y + (c + this._data.offsetShearY * Math.PI / 180) * this.shearMix,
                            g = Math.sqrt(h * h + u * u),
                            t.resultMatrix.b = Math.cos(c) * g,
                            t.resultMatrix.d = Math.sin(c) * g
                        }
                    }
                },
                t
            } (),
            $ = function() {
                function t() {
                    this.name = null,
                    this.targetIndex = 0,
                    this.rotateMix = NaN,
                    this.translateMix = NaN,
                    this.scaleMix = NaN,
                    this.shearMix = NaN,
                    this.offsetRotation = NaN,
                    this.offsetX = NaN,
                    this.offsetY = NaN,
                    this.offsetScaleX = NaN,
                    this.offsetScaleY = NaN,
                    this.offsetShearY = NaN,
                    this.boneIndexs = []
                }
                return s(t, "laya.ani.bone.TfConstraintData"),
                t
            } (),
            q = function() {
                function t() {
                    this.skX = 0,
                    this.skY = 0,
                    this.scX = 1,
                    this.scY = 1,
                    this.x = 0,
                    this.y = 0,
                    this.skewX = 0,
                    this.skewY = 0,
                    this.mMatrix = null
                }
                s(t, "laya.ani.bone.Transform");
                var e = t.prototype;
                return e.initData = function(t) {
                    void 0 != t.x && (this.x = t.x),
                    void 0 != t.y && (this.y = t.y),
                    void 0 != t.skX && (this.skX = t.skX),
                    void 0 != t.skY && (this.skY = t.skY),
                    void 0 != t.scX && (this.scX = t.scX),
                    void 0 != t.scY && (this.scY = t.scY)
                },
                e.getMatrix = function() {
                    var t;
                    return t = this.mMatrix ? this.mMatrix: this.mMatrix = new g,
                    t.identity(),
                    t.scale(this.scX, this.scY),
                    (this.skewX || this.skewY) && this.skew(t, this.skewX * Math.PI / 180, this.skewY * Math.PI / 180),
                    t.rotate(this.skX * Math.PI / 180),
                    t.translate(this.x, this.y),
                    t
                },
                e.skew = function(t, e, i) {
                    var n = Math.sin(i),
                    s = Math.cos(i),
                    r = Math.sin(e),
                    a = Math.cos(e);
                    return t.setTo(t.a * a - t.b * n, t.a * r + t.b * s, t.c * a - t.d * n, t.c * r + t.d * s, t.tx * a - t.ty * n, t.tx * r + t.ty * s),
                    t
                },
                t
            } (),
            K = function() {
                function t() {}
                return s(t, "laya.ani.bone.UVTools"),
                t.getRelativeUV = function(t, e, i) {
                    var n = t[0],
                    s = t[2] - t[0],
                    r = t[1],
                    a = t[5] - t[1];
                    i || (i = []),
                    i.length = e.length;
                    var o = 0,
                    h = 0;
                    h = i.length;
                    var l = 1 / s,
                    u = 1 / a;
                    for (o = 0; o < h; o += 2) i[o] = (e[o] - n) * l,
                    i[o + 1] = (e[o + 1] - r) * u;
                    return i
                },
                t.getAbsoluteUV = function(t, e, i) {
                    if (0 == t[0] && 0 == t[1] && 1 == t[4] && 1 == t[5]) return i ? (P.copyArray(i, e), i) : e;
                    var n = t[0],
                    s = t[2] - t[0],
                    r = t[1],
                    a = t[5] - t[1];
                    i || (i = []),
                    i.length = e.length;
                    var o = 0,
                    h = 0;
                    for (h = i.length, o = 0; o < h; o += 2) i[o] = e[o] * s + n,
                    i[o + 1] = e[o + 1] * a + r;
                    return i
                },
                t
            } (),
            Q = function() {
                function t() {
                    this.startTime = NaN,
                    this.duration = NaN,
                    this.interpolationData = null,
                    this.data = null,
                    this.dData = null,
                    this.nextData = null
                }
                return s(t, "laya.ani.KeyFramesContent"),
                t
            } (),
            J = function() {
                function t() {}
                return s(t, "laya.ani.math.BezierLerp"),
                t.getBezierRate = function(e, i, n, s, r) {
                    var a = t._getBezierParamKey(i, n, s, r),
                    o = 100 * a + e;
                    if (t._bezierResultCache[o]) return t._bezierResultCache[o];
                    var h = t._getBezierPoints(i, n, s, r, a),
                    l = 0,
                    u = 0;
                    for (u = h.length, l = 0; l < u; l += 2) if (e <= h[l]) return t._bezierResultCache[o] = h[l + 1],
                    h[l + 1];
                    return t._bezierResultCache[o] = 1,
                    1
                },
                t._getBezierParamKey = function(t, e, i, n) {
                    return 100 * (100 * (100 * (100 * t + e) + i) + n)
                },
                t._getBezierPoints = function(e, i, n, s, r) {
                    if (t._bezierPointsCache[r]) return t._bezierPointsCache[r];
                    var a;
                    a = [0, 0, e, i, n, s, 1, 1];
                    var h;
                    h = new o;
                    var l;
                    return l = h.getBezierPoints(a, 100, 3),
                    t._bezierPointsCache[r] = l,
                    l
                },
                t._bezierResultCache = {},
                t._bezierPointsCache = {},
                t
            } (),
            Z = function(t) {
                function e() {
                    this._destroyed = !1,
                    this._templet = null,
                    this._currentTime = NaN,
                    this._currentFrameTime = NaN,
                    this._playStart = NaN,
                    this._playEnd = NaN,
                    this._playDuration = NaN,
                    this._overallDuration = NaN,
                    this._stopWhenCircleFinish = !1,
                    this._elapsedPlaybackTime = NaN,
                    this._startUpdateLoopCount = NaN,
                    this._currentAnimationClipIndex = 0,
                    this._currentKeyframeIndex = 0,
                    this._paused = !1,
                    this._cacheFrameRate = 0,
                    this._cacheFrameRateInterval = NaN,
                    this._cachePlayRate = NaN,
                    this._fullFrames = null,
                    this.isCache = !0,
                    this.playbackRate = 1,
                    this.returnToZeroStopped = !1,
                    e.__super.call(this),
                    this._destroyed = !1,
                    this._currentAnimationClipIndex = -1,
                    this._currentKeyframeIndex = -1,
                    this._currentTime = 0,
                    this._overallDuration = Number.MAX_VALUE,
                    this._stopWhenCircleFinish = !1,
                    this._elapsedPlaybackTime = 0,
                    this._startUpdateLoopCount = -1,
                    this._cachePlayRate = 1,
                    this.cacheFrameRate = 60,
                    this.returnToZeroStopped = !1
                }
                s(e, "laya.ani.AnimationPlayer", t);
                var n = e.prototype;
                return i.imps(n, {
                    "laya.resource.IDestroy": !0
                }),
                n._onTempletLoadedComputeFullKeyframeIndices = function(t, e, i) {
                    this._templet === i && this._cachePlayRate === t && this._cacheFrameRate === e && this._computeFullKeyframeIndices()
                },
                n._computeFullKeyframeIndices = function() {
                    for (var t = this._fullFrames = [], e = this._templet, i = this._cacheFrameRateInterval * this._cachePlayRate, n = 0, s = e.getAnimationCount(); n < s; n++) {
                        for (var r = [], a = 0, o = e.getAnimation(n).nodes.length; a < o; a++) {
                            for (var h = e.getAnimation(n).nodes[a], l = Math.floor(h.playTime / i + .01), u = new Uint16Array(l + 1), c = -1, d = 0, _ = h.keyFrame.length; d < _; d++) {
                                var f = h.keyFrame[d],
                                p = f.startTime,
                                g = p + f.duration + i;
                                do {
                                    for (var y = Math.floor(p / i + .5), v = c + 1; v < y; v++) u[v] = d;
                                    c = y, u[y] = d, p += i
                                } while ( p <= g )
                            }
                            r.push(u)
                        }
                        t.push(r)
                    }
                },
                n._onAnimationTempletLoaded = function() {
                    this.destroyed || this._calculatePlayDuration()
                },
                n._calculatePlayDuration = function() {
                    if (0 !== this.state) {
                        var t = this._templet.getAniDuration(this._currentAnimationClipIndex);
                        0 === this._playEnd && (this._playEnd = t),
                        this._playEnd > t && (this._playEnd = t),
                        this._playDuration = this._playEnd - this._playStart
                    }
                },
                n._setPlayParams = function(t, e) {
                    this._currentTime = t,
                    this._currentKeyframeIndex = Math.floor(this.currentPlayTime / e + .01),
                    this._currentFrameTime = this._currentKeyframeIndex * e
                },
                n._setPlayParamsWhenStop = function(t, e) {
                    this._currentTime = t,
                    this._currentKeyframeIndex = Math.floor(t / e + .01),
                    this._currentFrameTime = this._currentKeyframeIndex * e,
                    this._currentAnimationClipIndex = -1
                },
                n._update = function(t) {
                    if ( - 1 !== this._currentAnimationClipIndex && !this._paused && this._templet && this._templet.loaded) {
                        var e = this._cacheFrameRateInterval * this._cachePlayRate,
                        i = 0;
                        this._startUpdateLoopCount !== b.loopCount && (i = t * this.playbackRate, this._elapsedPlaybackTime += i);
                        var n = this.playDuration;
                        if (0 !== this._overallDuration && this._elapsedPlaybackTime >= this._overallDuration || 0 === this._overallDuration && this._elapsedPlaybackTime >= n) return this._setPlayParamsWhenStop(n, e),
                        void this.event("stopped");
                        if (i += this._currentTime, n > 0) if (i >= n) do {
                            if (i -= n, this._stopWhenCircleFinish) return this._setPlayParamsWhenStop(n, e), this._stopWhenCircleFinish = !1, void this.event("stopped");
                            i < n && (this._setPlayParams(i, e), this.event("complete"))
                        } while ( i >= n );
                        else this._setPlayParams(i, e);
                        else {
                            if (this._stopWhenCircleFinish) return this._setPlayParamsWhenStop(n, e),
                            this._stopWhenCircleFinish = !1,
                            void this.event("stopped");
                            this._currentTime = this._currentFrameTime = this._currentKeyframeIndex = 0,
                            this.event("complete")
                        }
                    }
                },
                n._destroy = function() {
                    this.offAll(),
                    this._templet = null,
                    this._fullFrames = null,
                    this._destroyed = !0
                },
                n.play = function(t, e, i, n, s) {
                    if (void 0 === t && (t = 0), void 0 === e && (e = 1), void 0 === i && (i = 2147483647), void 0 === n && (n = 0), void 0 === s && (s = 0), !this._templet) throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");
                    if (i < 0 || n < 0 || s < 0) throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");
                    if (0 !== s && n > s) throw new Error("AnimationPlayer:start must less than end.");
                    this._currentTime = 0,
                    this._currentFrameTime = 0,
                    this._elapsedPlaybackTime = 0,
                    this.playbackRate = e,
                    this._overallDuration = i,
                    this._playStart = n,
                    this._playEnd = s,
                    this._paused = !1,
                    this._currentAnimationClipIndex = t,
                    this._currentKeyframeIndex = 0,
                    this._startUpdateLoopCount = b.loopCount,
                    this.event("played"),
                    this._templet.loaded ? this._calculatePlayDuration() : this._templet.once("loaded", this, this._onAnimationTempletLoaded),
                    this._update(0)
                },
                n.playByFrame = function(t, e, i, n, s, r) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 1),
                    void 0 === i && (i = 2147483647),
                    void 0 === n && (n = 0),
                    void 0 === s && (s = 0),
                    void 0 === r && (r = 30);
                    var a = 1e3 / r;
                    this.play(t, e, i, n * a, s * a)
                },
                n.stop = function(t) {
                    void 0 === t && (t = !0),
                    t ? (this._currentTime = this._currentFrameTime = this._currentKeyframeIndex = 0, this._currentAnimationClipIndex = -1, this.event("stopped")) : this._stopWhenCircleFinish = !0
                },
                r(0, n, "playEnd",
                function() {
                    return this._playEnd
                }),
                r(0, n, "templet",
                function() {
                    return this._templet
                },
                function(t) {
                    0 === !this.state && this.stop(!0),
                    this._templet !== t && (this._templet = t, t.loaded ? this._computeFullKeyframeIndices() : t.once("loaded", this, this._onTempletLoadedComputeFullKeyframeIndices, [this._cachePlayRate, this._cacheFrameRate]))
                }),
                r(0, n, "playStart",
                function() {
                    return this._playStart
                }),
                r(0, n, "playDuration",
                function() {
                    return this._playDuration
                }),
                r(0, n, "state",
                function() {
                    return - 1 === this._currentAnimationClipIndex ? 0 : this._paused ? 1 : 2
                }),
                r(0, n, "currentKeyframeIndex",
                function() {
                    return this._currentKeyframeIndex
                }),
                r(0, n, "overallDuration",
                function() {
                    return this._overallDuration
                }),
                r(0, n, "currentFrameTime",
                function() {
                    return this._currentFrameTime
                }),
                r(0, n, "currentAnimationClipIndex",
                function() {
                    return this._currentAnimationClipIndex
                }),
                r(0, n, "currentPlayTime",
                function() {
                    return this._currentTime + this._playStart
                }),
                r(0, n, "cachePlayRate",
                function() {
                    return this._cachePlayRate
                },
                function(t) {
                    this._cachePlayRate !== t && (this._cachePlayRate = t, this._templet && (this._templet.loaded ? this._computeFullKeyframeIndices() : this._templet.once("loaded", this, this._onTempletLoadedComputeFullKeyframeIndices, [t, this._cacheFrameRate])))
                }),
                r(0, n, "cacheFrameRate",
                function() {
                    return this._cacheFrameRate
                },
                function(t) {
                    this._cacheFrameRate !== t && (this._cacheFrameRate = t, this._cacheFrameRateInterval = 1e3 / this._cacheFrameRate, this._templet && (this._templet.loaded ? this._computeFullKeyframeIndices() : this._templet.once("loaded", this, this._onTempletLoadedComputeFullKeyframeIndices, [this._cachePlayRate, t])))
                }),
                r(0, n, "currentTime", null,
                function(t) {
                    if ( - 1 !== this._currentAnimationClipIndex && this._templet && this._templet.loaded) {
                        if (t < this._playStart || t > this._playEnd) throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");
                        this._startUpdateLoopCount = b.loopCount;
                        var e = this._cacheFrameRateInterval * this._cachePlayRate;
                        this._currentTime = t,
                        this._currentKeyframeIndex = Math.floor(this.currentPlayTime / e),
                        this._currentFrameTime = this._currentKeyframeIndex * e
                    }
                }),
                r(0, n, "paused",
                function() {
                    return this._paused
                },
                function(t) {
                    this._paused = t,
                    t && this.event("paused")
                }),
                r(0, n, "cacheFrameRateInterval",
                function() {
                    return this._cacheFrameRateInterval
                }),
                r(0, n, "destroyed",
                function() {
                    return this._destroyed
                }),
                e
            } (u),
            tt = function(t) {
                function e() {
                    e.__super.call(this),
                    v.isConchNode && (this.drawSkin = function(t) {
                        t.transform || (t.transform = g.EMPTY),
                        this.setSkinMesh && this.setSkinMesh(t._ps, t.mVBData, t.mEleNum, 0, t.mTexture, t.transform)
                    })
                }
                return s(e, "laya.ani.GraphicsAni", t),
                e.prototype.drawSkin = function(t) {
                    var e = [t];
                    this._saveToCmd(v._context._drawSkin, e)
                },
                e
            } (c),
            et = function(t) {
                function e() {
                    e.__super.call(this),
                    this.mesh = new B
                }
                s(e, "laya.ani.bone.canvasmesh.SkinMeshCanvas", t);
                var i = e.prototype;
                return i.init2 = function(t, e, i, n, s) {
                    this.transform && (this.transform = null);
                    var r;
                    i ? r = i: (r = [], r.push(0, 1, 3, 3, 1, 2)),
                    this.mesh.texture = t,
                    this.mesh.indexes = r,
                    this.mesh.vertices = n,
                    this.mesh.uvs = s
                },
                i.render = function(t, i, n) {
                    this.mesh.texture && (this.transform ? (this.transform.translate(i, n), this.renderToContext(t), this.transform.translate( - i, -n)) : (this.transform = e._tempMatrix, this.transform.identity(), this.transform.translate(i, n), this.renderToContext(t), this.transform.translate( - i, -n), this.transform = null))
                },
                n(e, ["_tempMatrix",
                function() {
                    return this._tempMatrix = new g
                }]),
                e
            } (D),
            it = function(t) {
                function e() {
                    this._aniMap = {},
                    this.unfixedLastAniIndex = -1,
                    e.__super.call(this),
                    this._anis = new Array
                }
                s(e, "laya.ani.AnimationTemplet", t);
                var n = e.prototype;
                return n.parse = function(t) {
                    var e = new l(t);
                    this._aniVersion = e.readUTFString(),
                    M.parse(this, e)
                },
                n._endLoaded = function() {
                    this._loaded = !0,
                    this.event("loaded", this)
                },
                n._calculateKeyFrame = function(t, e, i) {
                    var n = t.keyFrame;
                    n[e] = n[0];
                    for (var s = 0; s < e; s++) for (var r = n[s], a = 0; a < i; a++) r.dData[a] = 0 === r.duration ? 0 : (n[s + 1].data[a] - r.data[a]) / r.duration,
                    r.nextData[a] = n[s + 1].data[a];
                    n.length--
                },
                n.onAsynLoaded = function(t, e, i) {
                    var n = new l(e);
                    switch (this._aniVersion = n.readUTFString(), this._aniVersion) {
                    case "LAYAANIMATION:02":
                        R.parse(this, n);
                        break;
                    default:
                        M.parse(this, n)
                    }
                    this._endLoaded()
                },
                n.getAnimationCount = function() {
                    return this._anis.length
                },
                n.getAnimation = function(t) {
                    return this._anis[t]
                },
                n.getAniDuration = function(t) {
                    return this._anis[t].playTime
                },
                n.getNodes = function(t) {
                    return this._anis[t].nodes
                },
                n.getNodeIndexWithName = function(t, e) {
                    return this._anis[t].bone3DMap[e]
                },
                n.getNodeCount = function(t) {
                    return this._anis[t].nodes.length
                },
                n.getTotalkeyframesLength = function(t) {
                    return this._anis[t].totalKeyframeDatasLength
                },
                n.getPublicExtData = function() {
                    return this._publicExtData
                },
                n.getAnimationDataWithCache = function(t, e, i, n) {
                    var s = e[i];
                    if (s) {
                        var r = s[t];
                        return r ? r[n] : null
                    }
                    return null
                },
                n.setAnimationDataWithCache = function(t, e, i, n, s) {
                    var r = e[i] || (e[i] = {}); (r[t] || (r[t] = []))[n] = s
                },
                n.getOriginalData = function(t, i, n, s, r) {
                    for (var a = this._anis[t], o = a.nodes, h = 0, l = 0, u = o.length, c = 0; l < u; l++) {
                        var d, _ = o[l];
                        d = _.keyFrame[n[l][s]],
                        _.dataOffset = c;
                        var f = r - d.startTime,
                        p = _.lerpType;
                        if (p) switch (p) {
                        case 0:
                        case 1:
                            for (h = 0; h < _.keyframeWidth;) h += _.interpolationMethod[h](_, h, i, c + h, d.data, f, d.dData, d.duration, d.nextData);
                            break;
                        case 2:
                            var g = d.interpolationData,
                            y = g.length,
                            v = 0;
                            for (h = 0; h < y;) {
                                var m = g[h];
                                switch (m) {
                                case 6:
                                case 7:
                                    h += e.interpolation[m](_, v, i, c + v, d.data, f, d.dData, d.duration, d.nextData, g, h + 1);
                                    break;
                                default:
                                    h += e.interpolation[m](_, v, i, c + v, d.data, f, d.dData, d.duration, d.nextData)
                                }
                                v++
                            }
                        } else for (h = 0; h < _.keyframeWidth;) h += _.interpolationMethod[h](_, h, i, c + h, d.data, f, d.dData, d.duration, d.nextData);
                        c += _.keyframeWidth
                    }
                },
                n.getNodesCurrentFrameIndex = function(t, e) {
                    var i = this._anis[t],
                    n = i.nodes;
                    t !== this.unfixedLastAniIndex && (this.unfixedCurrentFrameIndexes = new Uint32Array(n.length), this.unfixedCurrentTimes = new Float32Array(n.length), this.unfixedLastAniIndex = t);
                    for (var s = 0,
                    r = n.length; s < r; s++) {
                        var a = n[s];
                        for (e < this.unfixedCurrentTimes[s] && (this.unfixedCurrentFrameIndexes[s] = 0), this.unfixedCurrentTimes[s] = e; this.unfixedCurrentFrameIndexes[s] < a.keyFrame.length && !(a.keyFrame[this.unfixedCurrentFrameIndexes[s]].startTime > this.unfixedCurrentTimes[s]);) this.unfixedCurrentFrameIndexes[s]++;
                        this.unfixedCurrentFrameIndexes[s]--
                    }
                    return this.unfixedCurrentFrameIndexes
                },
                n.getOriginalDataUnfixedRate = function(t, i, n) {
                    var s = this._anis[t],
                    r = s.nodes;
                    t !== this.unfixedLastAniIndex && (this.unfixedCurrentFrameIndexes = new Uint32Array(r.length), this.unfixedCurrentTimes = new Float32Array(r.length), this.unfixedKeyframes = a(r.length), this.unfixedLastAniIndex = t);
                    for (var o = 0,
                    h = 0,
                    l = r.length,
                    u = 0; h < l; h++) {
                        var c = r[h];
                        for (n < this.unfixedCurrentTimes[h] && (this.unfixedCurrentFrameIndexes[h] = 0), this.unfixedCurrentTimes[h] = n; this.unfixedCurrentFrameIndexes[h] < c.keyFrame.length && !(c.keyFrame[this.unfixedCurrentFrameIndexes[h]].startTime > this.unfixedCurrentTimes[h]);) this.unfixedKeyframes[h] = c.keyFrame[this.unfixedCurrentFrameIndexes[h]],
                        this.unfixedCurrentFrameIndexes[h]++;
                        var d = this.unfixedKeyframes[h];
                        c.dataOffset = u;
                        var _ = n - d.startTime;
                        if (c.lerpType) switch (c.lerpType) {
                        case 0:
                        case 1:
                            for (o = 0; o < c.keyframeWidth;) o += c.interpolationMethod[o](c, o, i, u + o, d.data, _, d.dData, d.duration, d.nextData);
                            break;
                        case 2:
                            var f = d.interpolationData,
                            p = f.length,
                            g = 0;
                            for (o = 0; o < p;) {
                                var y = f[o];
                                switch (y) {
                                case 6:
                                case 7:
                                    o += e.interpolation[y](c, g, i, u + g, d.data, _, d.dData, d.duration, d.nextData, f, o + 1);
                                    break;
                                default:
                                    o += e.interpolation[y](c, g, i, u + g, d.data, _, d.dData, d.duration, d.nextData)
                                }
                                g++
                            }
                        } else for (o = 0; o < c.keyframeWidth;) o += c.interpolationMethod[o](c, o, i, u + o, d.data, _, d.dData, d.duration, d.nextData);
                        u += c.keyframeWidth
                    }
                },
                n.dispose = function() {
                    this.resourceManager && this.resourceManager.removeResource(this),
                    t.prototype.dispose.call(this)
                },
                e._LinearInterpolation_0 = function(t, e, i, n, s, r, a, o, h, l) {
                    return i[n] = s[e] + r * a[e],
                    1
                },
                e._QuaternionInterpolation_1 = function(t, e, i, n, s, r, a, o, h, l) {
                    var u = 0 === o ? 0 : r / o;
                    return p.slerpQuaternionArray(s, e, h, e, u, i, n),
                    4
                },
                e._AngleInterpolation_2 = function(t, e, i, n, s, r, a, o, h, l) {
                    return 0
                },
                e._RadiansInterpolation_3 = function(t, e, i, n, s, r, a, o, h, l) {
                    return 0
                },
                e._Matrix4x4Interpolation_4 = function(t, e, i, n, s, r, a, o, h, l) {
                    for (var u = 0; u < 16; u++, e++) i[n + u] = s[e] + r * a[e];
                    return 16
                },
                e._NoInterpolation_5 = function(t, e, i, n, s, r, a, o, h, l) {
                    return i[n] = s[e],
                    1
                },
                e._BezierInterpolation_6 = function(t, e, i, n, s, r, a, o, h, l, u) {
                    return void 0 === u && (u = 0),
                    i[n] = s[e] + (h[e] - s[e]) * J.getBezierRate(r / o, l[u], l[u + 1], l[u + 2], l[u + 3]),
                    5
                },
                e._BezierInterpolation_7 = function(t, e, i, n, s, r, a, o, h, l, u) {
                    return void 0 === u && (u = 0),
                    i[n] = l[u + 4] + l[u + 5] * J.getBezierRate((.001 * r + l[u + 6]) / l[u + 7], l[u], l[u + 1], l[u + 2], l[u + 3]),
                    9
                },
                e.load = function(t) {
                    return i.loader.create(t, null, null, e)
                },
                e.interpolation = [e._LinearInterpolation_0, e._QuaternionInterpolation_1, e._AngleInterpolation_2, e._RadiansInterpolation_3, e._Matrix4x4Interpolation_4, e._NoInterpolation_5, e._BezierInterpolation_6, e._BezierInterpolation_7],
                e
            } (m),
            nt = (function(t) {
                function e() {
                    this.isCached = !1,
                    this.canvas = null,
                    this.tex = null,
                    this.rec = null,
                    e.__super.call(this)
                }
                s(e, "laya.ani.bone.canvasmesh.CacheAbleSkinMesh", t);
                var i = e.prototype;
                i.getCanvasPic = function() {
                    var t = new d("2D"),
                    i = t.getContext("2d");
                    this.rec = this.mesh.getBounds(),
                    t.size(this.rec.width, this.rec.height);
                    var n;
                    return n = this.transform,
                    this.transform = e.tempMt,
                    this.transform.identity(),
                    this.transform.translate( - this.rec.x, -this.rec.y),
                    this.renderToContext(i),
                    this.transform.translate( + this.rec.x, +this.rec.y),
                    this.transform = n,
                    new S(t)
                },
                i.render = function(t, e, i) {
                    this.mesh.texture && (this.isCached || (this.isCached = !0, this.tex = this.getCanvasPic()), this.transform ? (this.transform.translate(e, i), this._renderTextureToContext(t), this.transform.translate( - e, -i)) : (this.transform = et._tempMatrix, this.transform.identity(), this.transform.translate(e, i), this._renderTextureToContext(t), this.transform.translate( - e, -i), this.transform = null))
                },
                i._renderTextureToContext = function(t) {
                    this.context = t.ctx || t,
                    t.save();
                    var e;
                    if (e = this.tex, this.transform) {
                        var i = this.transform;
                        t.transform(i.a, i.b, i.c, i.d, i.tx, i.ty)
                    }
                    this.rec = this.mesh.getBounds(),
                    t.translate(this.rec.x, this.rec.y),
                    t.drawTexture(e, 0, 0, e.width, e.height, 0, 0),
                    t.restore()
                },
                n(e, ["tempMt",
                function() {
                    return this.tempMt = new g
                }])
            } (et),
            function(t) {
                function e() {
                    this.cacheOK = !1,
                    this.cacheCmdOK = !1,
                    this.transformCmds = [],
                    this.drawCmds = [],
                    e.__super.call(this),
                    this.tempMesh = new B
                }
                s(e, "laya.ani.bone.canvasmesh.SimpleSkinMeshCanvas", t);
                var i = e.prototype;
                return i.init2 = function(e, i, n, s, r) {
                    t.prototype.init2.call(this, e, i, n, s, r),
                    this.cacheOK = !1,
                    this.cacheCmdOK = !1,
                    this.transformCmds.length = 6,
                    this.drawCmds.length = 9
                },
                i.renderToContext = function(t) {
                    if (this.context = t.ctx || t, this.mesh) {
                        if (this.mesh.uvs.length <= 8) return void(0 == this.mode ? this._renderWithIndexes(this.mesh) : this._renderNoIndexes(this.mesh));
                        this.cacheOK || (this.tempMesh.texture = this.mesh.texture, this.tempMesh.uvs = this.mesh.texture.uv, this.tempMesh.vertices = W.solveMesh(this.mesh, this.tempMesh.vertices), this.cacheOK = !0),
                        0 == this.mode ? this._renderWithIndexes(this.tempMesh) : this._renderNoIndexes(this.tempMesh)
                    }
                },
                i._renderWithIndexes = function(t) {
                    if (this.cacheCmdOK) return void this.renderByCache(t);
                    var e = t.indexes,
                    i = 0,
                    n = e.length;
                    for (n > 1 && (n = 1), i = 0; i < n; i += 3) {
                        var s = 2 * e[i],
                        r = 2 * e[i + 1],
                        a = 2 * e[i + 2];
                        this._renderDrawTriangle(t, s, r, a)
                    }
                    this.cacheCmdOK = !0
                },
                i._renderDrawTriangle = function(t, e, i, n) {
                    var s = this.context,
                    r = t.uvs,
                    a = t.vertices,
                    o = t.texture,
                    h = o.bitmap,
                    l = h.source,
                    u = o.width,
                    c = o.height,
                    d = h.width,
                    _ = h.height,
                    f = NaN,
                    p = NaN,
                    g = NaN,
                    y = NaN,
                    v = NaN,
                    m = NaN;
                    if (t.useUvTransform) {
                        var w = t.uvTransform;
                        f = (r[e] * w.a + r[e + 1] * w.c + w.tx) * d,
                        p = (r[i] * w.a + r[i + 1] * w.c + w.tx) * d,
                        g = (r[n] * w.a + r[n + 1] * w.c + w.tx) * d,
                        y = (r[e] * w.b + r[e + 1] * w.d + w.ty) * _,
                        v = (r[i] * w.b + r[i + 1] * w.d + w.ty) * _,
                        m = (r[n] * w.b + r[n + 1] * w.d + w.ty) * _
                    } else f = r[e] * d,
                    p = r[i] * d,
                    g = r[n] * d,
                    y = r[e + 1] * _,
                    v = r[i + 1] * _,
                    m = r[n + 1] * _;
                    var x = a[e],
                    b = a[i],
                    S = a[n],
                    C = a[e + 1],
                    P = a[i + 1],
                    k = a[n + 1],
                    T = f * v + y * g + p * m - v * g - y * p - f * m,
                    M = 1 / T,
                    R = x * v + y * S + b * m - v * S - y * b - x * m,
                    I = f * b + x * g + p * S - b * g - x * p - f * S,
                    L = f * v * S + y * b * g + x * p * m - x * v * g - y * p * S - f * b * m,
                    D = C * v + y * k + P * m - v * k - y * P - C * m,
                    B = f * P + C * g + p * k - P * g - C * p - f * k,
                    E = f * v * k + y * P * g + C * p * m - C * v * g - y * p * k - f * P * m;
                    if (this.transformCmds[0] = R * M, this.transformCmds[1] = D * M, this.transformCmds[2] = I * M, this.transformCmds[3] = B * M, this.transformCmds[4] = L * M, this.transformCmds[5] = E * M, this.drawCmds[0] = l, this.drawCmds[1] = o.uv[0] * d, this.drawCmds[2] = o.uv[1] * _, this.drawCmds[3] = u, this.drawCmds[4] = c, this.drawCmds[5] = o.uv[0] * d, this.drawCmds[6] = o.uv[1] * _, this.drawCmds[7] = u, this.drawCmds[8] = c, s.save(), this.transform) {
                        var A = this.transform;
                        s.transform(A.a, A.b, A.c, A.d, A.tx, A.ty)
                    }
                    s.transform.apply(s, this.transformCmds),
                    s.drawImage.apply(s, this.drawCmds),
                    s.restore()
                },
                i.renderByCache = function(t) {
                    var e = this.context;
                    if (e.save(), this.transform) {
                        var i = this.transform;
                        e.transform(i.a, i.b, i.c, i.d, i.tx, i.ty)
                    }
                    e.transform.apply(e, this.transformCmds),
                    e.drawImage.apply(e, this.drawCmds),
                    e.restore()
                },
                e
            } (et)),
            st = function(t) {
                function e(t, i) {
                    this._templet = null,
                    this._player = null,
                    this._curOriginalData = null,
                    this._boneMatrixArray = [],
                    this._lastTime = 0,
                    this._currAniName = null,
                    this._currAniIndex = -1,
                    this._pause = !0,
                    this._aniClipIndex = -1,
                    this._clipIndex = -1,
                    this._skinIndex = 0,
                    this._skinName = "default",
                    this._aniMode = 0,
                    this._graphicsCache = null,
                    this._boneSlotDic = null,
                    this._bindBoneBoneSlotDic = null,
                    this._boneSlotArray = null,
                    this._index = -1,
                    this._total = -1,
                    this._indexControl = !1,
                    this._aniPath = null,
                    this._texturePath = null,
                    this._complete = null,
                    this._loadAniMode = 0,
                    this._yReverseMatrix = null,
                    this._ikArr = null,
                    this._tfArr = null,
                    this._pathDic = null,
                    this._rootBone = null,
                    this._boneList = null,
                    this._aniSectionDic = null,
                    this._eventIndex = 0,
                    this._drawOrderIndex = 0,
                    this._drawOrder = null,
                    this._lastAniClipIndex = -1,
                    this._lastUpdateAniClipIndex = -1,
                    e.__super.call(this),
                    void 0 === i && (i = 0),
                    t && this.init(t, i)
                }
                s(e, "laya.ani.bone.Skeleton", t);
                var n = e.prototype;
                return n.init = function(t, e) {
                    void 0 === e && (e = 0);
                    var i = 0,
                    n = 0;
                    if (1 == e) for (this._graphicsCache = [], i = 0, n = t.getAnimationCount(); i < n; i++) this._graphicsCache.push([]);
                    if (this._yReverseMatrix = t.yReverseMatrix, this._aniMode = e, this._templet = t, this._player = new Z, this._player.cacheFrameRate = t.rate, this._player.templet = t, this._player.play(), this._parseSrcBoneMatrix(), this._boneList = t.mBoneArr, this._rootBone = t.mRootBone, this._aniSectionDic = t.aniSectionDic, t.ikArr.length > 0) for (this._ikArr = [], i = 0, n = t.ikArr.length; i < n; i++) this._ikArr.push(new U(t.ikArr[i], this._boneList));
                    if (t.pathArr.length > 0) {
                        var s, r;
                        null == this._pathDic && (this._pathDic = {});
                        var a;
                        for (i = 0, n = t.pathArr.length; i < n; i++) s = t.pathArr[i],
                        r = new H(s, this._boneList),
                        a = this._boneSlotDic[s.name],
                        a && (r = new H(s, this._boneList), r.target = a),
                        this._pathDic[s.name] = r
                    }
                    if (t.tfArr.length > 0) for (this._tfArr = [], i = 0, n = t.tfArr.length; i < n; i++) this._tfArr.push(new V(t.tfArr[i], this._boneList));
                    if (t.skinDataArray.length > 0) {
                        var o = this._templet.skinDataArray[this._skinIndex];
                        this._skinName = o.name
                    }
                    this._player.on("played", this, this._onPlay),
                    this._player.on("stopped", this, this._onStop),
                    this._player.on("paused", this, this._onPause)
                },
                n.load = function(t, e, n) {
                    void 0 === n && (n = 0),
                    this._aniPath = t,
                    this._complete = e,
                    this._loadAniMode = n,
                    i.loader.load([{
                        url: t,
                        type: "arraybuffer"
                    }], _.create(this, this._onLoaded))
                },
                n._onLoaded = function() {
                    var t = f.getRes(this._aniPath);
                    if (null != t) {
                        null == rt.TEMPLET_DICTIONARY && (rt.TEMPLET_DICTIONARY = {});
                        var e;
                        e = rt.TEMPLET_DICTIONARY[this._aniPath],
                        e ? e.isParseFail ? this._parseFail() : e.isParserComplete ? this._parseComplete() : (e.on("complete", this, this._parseComplete), e.on("error", this, this._parseFail)) : (e = new rt, e.url = this._aniPath, rt.TEMPLET_DICTIONARY[this._aniPath] = e, e.on("complete", this, this._parseComplete), e.on("error", this, this._parseFail), e.isParserComplete = !1, e.parseData(null, t))
                    }
                },
                n._parseComplete = function() {
                    var t = rt.TEMPLET_DICTIONARY[this._aniPath];
                    t && (this.init(t, this._loadAniMode), this.play(0, !0)),
                    this._complete && this._complete.runWith(this)
                },
                n._parseFail = function() {
                    console.log("[Error]:" + this._aniPath + "解析失败")
                },
                n._onPlay = function() {
                    this.event("played")
                },
                n._onStop = function() {
                    var t, e = this._templet.eventAniArr,
                    i = e[this._aniClipIndex];
                    if (i && this._eventIndex < i.length) for (; this._eventIndex < i.length; this._eventIndex++) t = i[this._eventIndex],
                    t.time >= this._player.playStart && t.time <= this._player.playEnd && this.event("label", t);
                    this._eventIndex = 0,
                    this._drawOrder = null,
                    this.event("stopped")
                },
                n._onPause = function() {
                    this.event("paused")
                },
                n._parseSrcBoneMatrix = function() {
                    var t = 0,
                    e = 0;
                    for (e = this._templet.srcBoneMatrixArr.length, t = 0; t < e; t++) this._boneMatrixArray.push(new g);
                    if (0 == this._aniMode) this._boneSlotDic = this._templet.boneSlotDic,
                    this._bindBoneBoneSlotDic = this._templet.bindBoneBoneSlotDic,
                    this._boneSlotArray = this._templet.boneSlotArray;
                    else {
                        null == this._boneSlotDic && (this._boneSlotDic = {}),
                        null == this._bindBoneBoneSlotDic && (this._bindBoneBoneSlotDic = {}),
                        null == this._boneSlotArray && (this._boneSlotArray = []);
                        var i, n, s = this._templet.boneSlotArray;
                        for (t = 0, e = s.length; t < e; t++) i = s[t],
                        n = this._bindBoneBoneSlotDic[i.parent],
                        null == n && (this._bindBoneBoneSlotDic[i.parent] = n = []),
                        this._boneSlotDic[i.name] = i = i.copy(),
                        n.push(i),
                        this._boneSlotArray.push(i)
                    }
                },
                n._emitMissedEvents = function(t, e, i) {
                    void 0 === i && (i = 0);
                    var n = this._templet.eventAniArr,
                    s = n[this._player.currentAnimationClipIndex];
                    if (s) {
                        var r, a = 0,
                        o = 0;
                        for (o = s.length, a = i; a < o; a++) r = s[a],
                        r.time >= this._player.playStart && r.time <= this._player.playEnd && this.event("label", r)
                    }
                },
                n._update = function(t) {
                    if (void 0 === t && (t = !0), !(this._pause || t && this._indexControl)) {
                        var e = i.timer.currTimer,
                        n = this._player.currentKeyframeIndex,
                        s = e - this._lastTime;
                        if (t ? this._player._update(s) : n = -1, this._lastTime = e, this._player && (this._index = this._clipIndex = this._player.currentKeyframeIndex, !(this._index < 0 || s > 0 && this._clipIndex == n && this._lastUpdateAniClipIndex == this._aniClipIndex))) {
                            this._lastUpdateAniClipIndex = this._aniClipIndex,
                            n > this._clipIndex && 0 != this._eventIndex && (this._emitMissedEvents(this._player.playStart, this._player.playEnd, this._eventIndex), this._eventIndex = 0);
                            var r, a = this._templet.eventAniArr,
                            o = a[this._aniClipIndex];
                            o && this._eventIndex < o.length && (r = o[this._eventIndex], r.time >= this._player.playStart && r.time <= this._player.playEnd ? this._player.currentPlayTime >= r.time && (this.event("label", r), this._eventIndex++) : this._eventIndex++);
                            var h;
                            if (0 == this._aniMode) {
                                if (h = this._templet.getGrahicsDataWithCache(this._aniClipIndex, this._clipIndex)) return void(this.graphics != h && (this.graphics = h));
                                var l = 0,
                                u = 0;
                                for (u = this._clipIndex; ! this._templet.getGrahicsDataWithCache(this._aniClipIndex, u - 1) && u > 0;) u--;
                                if (u < this._clipIndex) for (l = u; l < this._clipIndex; l++) this._createGraphics(l)
                            } else if (1 == this._aniMode) {
                                if (h = this._getGrahicsDataWithCache(this._aniClipIndex, this._clipIndex)) return void(this.graphics != h && (this.graphics = h));
                                for (u = this._clipIndex; ! this._getGrahicsDataWithCache(this._aniClipIndex, u - 1) && u > 0;) u--;
                                if (u < this._clipIndex) for (l = u; l < this._clipIndex; l++) this._createGraphics(l)
                            }
                            this._createGraphics()
                        }
                    }
                },
                n._createGraphics = function(t) {
                    void 0 === t && (t = -1),
                    -1 == t && (t = this._clipIndex);
                    var e, i = t * this._player.cacheFrameRateInterval,
                    n = this._templet.drawOrderAniArr,
                    s = n[this._aniClipIndex];
                    if (s && s.length > 0) for (this._drawOrderIndex = 0, e = s[this._drawOrderIndex]; i >= e.time && (this._drawOrder = e.drawOrder, !(++this._drawOrderIndex >= s.length));) e = s[this._drawOrderIndex];
                    var r;
                    0 == this._aniMode || 1 == this._aniMode ? this.graphics = new tt: this.graphics instanceof laya.ani.GraphicsAni ? this.graphics.clear() : this.graphics = new tt,
                    r = this.graphics;
                    var a = this._templet.getNodes(this._aniClipIndex);
                    this._templet.getOriginalData(this._aniClipIndex, this._curOriginalData, this._player._fullFrames[this._aniClipIndex], t, i);
                    var o, h, u, c, d = this._aniSectionDic[this._aniClipIndex],
                    _ = 0,
                    f = 0,
                    p = 0,
                    y = 0,
                    v = 0,
                    m = this._templet.srcBoneMatrixArr.length;
                    for (f = 0, v = d[0]; f < m; f++) c = this._boneList[f],
                    u = this._templet.srcBoneMatrixArr[f],
                    c.resultTransform.scX = u.scX * this._curOriginalData[_++],
                    c.resultTransform.skX = u.skX + this._curOriginalData[_++],
                    c.resultTransform.skY = u.skY + this._curOriginalData[_++],
                    c.resultTransform.scY = u.scY * this._curOriginalData[_++],
                    c.resultTransform.x = u.x + this._curOriginalData[_++],
                    c.resultTransform.y = u.y + this._curOriginalData[_++],
                    8 === this._templet.tMatrixDataLen && (c.resultTransform.skewX = u.skewX + this._curOriginalData[_++], c.resultTransform.skewY = u.skewY + this._curOriginalData[_++]);
                    var w, x = {},
                    b = {};
                    for (v += d[1]; f < v; f++) w = a[f],
                    x[w.name] = this._curOriginalData[_++],
                    b[w.name] = this._curOriginalData[_++],
                    this._curOriginalData[_++],
                    this._curOriginalData[_++],
                    this._curOriginalData[_++],
                    this._curOriginalData[_++];
                    var S = {},
                    C = {};
                    for (v += d[2]; f < v; f++) w = a[f],
                    S[w.name] = this._curOriginalData[_++],
                    C[w.name] = this._curOriginalData[_++],
                    this._curOriginalData[_++],
                    this._curOriginalData[_++],
                    this._curOriginalData[_++],
                    this._curOriginalData[_++];
                    if (this._pathDic) {
                        var P;
                        for (v += d[3]; f < v; f++) if (w = a[f], P = this._pathDic[w.name]) {
                            var k = new l(w.extenData);
                            switch (k.getByte()) {
                            case 1:
                                P.position = this._curOriginalData[_++];
                                break;
                            case 2:
                                P.spacing = this._curOriginalData[_++];
                                break;
                            case 3:
                                P.rotateMix = this._curOriginalData[_++],
                                P.translateMix = this._curOriginalData[_++]
                            }
                        }
                    }
                    if (this._yReverseMatrix ? this._rootBone.update(this._yReverseMatrix) : this._rootBone.update(g.TEMP.identity()), this._ikArr) {
                        var T;
                        for (f = 0, v = this._ikArr.length; f < v; f++) T = this._ikArr[f],
                        S.hasOwnProperty(T.name) && (T.bendDirection = S[T.name]),
                        C.hasOwnProperty(T.name) && (T.mix = C[T.name]),
                        T.apply()
                    }
                    if (this._pathDic) for (var M in this._pathDic) P = this._pathDic[M],
                    P.apply(this._boneList, r);
                    if (this._tfArr) {
                        var R;
                        for (f = 0, y = this._tfArr.length; f < y; f++) R = this._tfArr[f],
                        R.apply()
                    }
                    for (f = 0, y = this._boneList.length; f < y; f++) if (c = this._boneList[f], h = this._bindBoneBoneSlotDic[c.name], c.resultMatrix.copyTo(this._boneMatrixArray[f]), h) for (p = 0, v = h.length; p < v; p++)(o = h[p]) && o.setParentMatrix(c.resultMatrix);
                    var I, L = {},
                    D = this._templet.deformAniArr;
                    if (D && D.length > 0) {
                        if (this._lastAniClipIndex != this._aniClipIndex) for (this._lastAniClipIndex = this._aniClipIndex, f = 0, v = this._boneSlotArray.length; f < v; f++) o = this._boneSlotArray[f],
                        o.deformData = null;
                        var B = D[this._aniClipIndex];
                        I = B.
                    default,
                        this._setDeform(I, L, this._boneSlotArray, i);
                        var E;
                        for (E in B)"default" != E && E != this._skinName && (I = B[E], this._setDeform(I, L, this._boneSlotArray, i));
                        I = B[this._skinName],
                        this._setDeform(I, L, this._boneSlotArray, i)
                    }
                    var A, O, N;
                    if (this._drawOrder) for (f = 0, v = this._drawOrder.length; f < v; f++) o = this._boneSlotArray[this._drawOrder[f]],
                    A = x[o.name],
                    O = b[o.name],
                    isNaN(O) || (r.save(), r.alpha(O)),
                    isNaN(A) || -2 == A || (this._templet.attachmentNames ? o.showDisplayByName(this._templet.attachmentNames[A]) : o.showDisplayByIndex(A)),
                    L[this._drawOrder[f]] ? (N = L[this._drawOrder[f]], o.currDisplayData && N[o.currDisplayData.attachmentName] ? o.deformData = N[o.currDisplayData.attachmentName] : o.deformData = null) : o.deformData = null,
                    isNaN(O) ? o.draw(r, this._boneMatrixArray, 2 == this._aniMode) : o.draw(r, this._boneMatrixArray, 2 == this._aniMode, O),
                    isNaN(O) || r.restore();
                    else for (f = 0, v = this._boneSlotArray.length; f < v; f++) o = this._boneSlotArray[f],
                    A = x[o.name],
                    O = b[o.name],
                    isNaN(O) || (r.save(), r.alpha(O)),
                    isNaN(A) || -2 == A || (this._templet.attachmentNames ? o.showDisplayByName(this._templet.attachmentNames[A]) : o.showDisplayByIndex(A)),
                    L[f] ? (N = L[f], o.currDisplayData && N[o.currDisplayData.attachmentName] ? o.deformData = N[o.currDisplayData.attachmentName] : o.deformData = null) : o.deformData = null,
                    isNaN(O) ? o.draw(r, this._boneMatrixArray, 2 == this._aniMode) : o.draw(r, this._boneMatrixArray, 2 == this._aniMode, O),
                    isNaN(O) || r.restore();
                    0 == this._aniMode ? this._templet.setGrahicsDataWithCache(this._aniClipIndex, t, r) : 1 == this._aniMode && this._setGrahicsDataWithCache(this._aniClipIndex, t, r)
                },
                n._setDeform = function(t, e, i, n) {
                    if (t) {
                        var s, r, a, o = 0,
                        h = 0,
                        l = 0;
                        if (t) for (o = 0, h = t.deformSlotDataList.length; o < h; o++) for (s = t.deformSlotDataList[o], l = 0; l < s.deformSlotDisplayList.length; l++) r = s.deformSlotDisplayList[l],
                        a = i[r.slotIndex],
                        r.apply(n, a),
                        e[r.slotIndex] || (e[r.slotIndex] = {}),
                        e[r.slotIndex][r.attachment] = r.deformData
                    }
                },
                n.getAnimNum = function() {
                    return this._templet.getAnimationCount()
                },
                n.getAniNameByIndex = function(t) {
                    return this._templet.getAniNameByIndex(t)
                },
                n.getSlotByName = function(t) {
                    return this._boneSlotDic[t]
                },
                n.showSkinByName = function(t, e) {
                    void 0 === e && (e = !0),
                    this.showSkinByIndex(this._templet.getSkinIndexByName(t), e)
                },
                n.showSkinByIndex = function(t, e) {
                    void 0 === e && (e = !0);
                    for (var i = 0; i < this._boneSlotArray.length; i++) this._boneSlotArray[i].showSlotData(null, e);
                    if (this._templet.showSkinByIndex(this._boneSlotDic, t, e)) {
                        var n = this._templet.skinDataArray[t];
                        this._skinIndex = t,
                        this._skinName = n.name
                    }
                    this._clearCache()
                },
                n.showSlotSkinByIndex = function(t, e) {
                    if (0 != this._aniMode) {
                        var i = this.getSlotByName(t);
                        i && i.showDisplayByIndex(e),
                        this._clearCache()
                    }
                },
                n.showSlotSkinByName = function(t, e) {
                    if (0 != this._aniMode) {
                        var i = this.getSlotByName(t);
                        i && i.showDisplayByName(e),
                        this._clearCache()
                    }
                },
                n.replaceSlotSkinName = function(t, e, i) {
                    if (0 != this._aniMode) {
                        var n = this.getSlotByName(t);
                        n && n.replaceDisplayByName(e, i),
                        this._clearCache()
                    }
                },
                n.replaceSlotSkinByIndex = function(t, e, i) {
                    if (0 != this._aniMode) {
                        var n = this.getSlotByName(t);
                        n && n.replaceDisplayByIndex(e, i),
                        this._clearCache()
                    }
                },
                n.setSlotSkin = function(t, e) {
                    if (0 != this._aniMode) {
                        var i = this.getSlotByName(t);
                        i && i.replaceSkin(e),
                        this._clearCache()
                    }
                },
                n._clearCache = function() {
                    if (1 == this._aniMode) for (var t = 0,
                    e = this._graphicsCache.length; t < e; t++) this._graphicsCache[t].length = 0
                },
                n.play = function(t, e, n, s, r, a) {
                    void 0 === n && (n = !0),
                    void 0 === s && (s = 0),
                    void 0 === r && (r = 0),
                    void 0 === a && (a = !0),
                    this._indexControl = !1;
                    var o = -1,
                    l = NaN;
                    if (l = e ? 2147483647 : 0, "string" == typeof t) for (var u = 0,
                    c = this._templet.getAnimationCount(); u < c; u++) {
                        var d = this._templet.getAnimation(u);
                        if (d && t == d.name) {
                            o = u;
                            break
                        }
                    } else o = t;
                    o > -1 && o < this.getAnimNum() && (this._aniClipIndex = o, (n || this._pause || this._currAniIndex != o) && (this._currAniIndex = o, this._curOriginalData = new Float32Array(this._templet.getTotalkeyframesLength(o)), this._drawOrder = null, this._eventIndex = 0, this._player.play(o, this._player.playbackRate, l, s, r), a && this._templet.showSkinByIndex(this._boneSlotDic, this._skinIndex), this._pause && (this._pause = !1, this._lastTime = h.now(), i.stage.frameLoop(1, this, this._update, null, !0)), this._update()))
                },
                n.stop = function() {
                    this._pause || (this._pause = !0, this._player && this._player.stop(!0), i.timer.clear(this, this._update))
                },
                n.playbackRate = function(t) {
                    this._player && (this._player.playbackRate = t)
                },
                n.paused = function() {
                    this._pause || (this._pause = !0, this._player && (this._player.paused = !0), i.timer.clear(this, this._update))
                },
                n.resume = function() {
                    this._indexControl = !1,
                    this._pause && (this._pause = !1, this._player && (this._player.paused = !1), this._lastTime = h.now(), i.stage.frameLoop(1, this, this._update, null, !0))
                },
                n._getGrahicsDataWithCache = function(t, e) {
                    return this._graphicsCache[t][e]
                },
                n._setGrahicsDataWithCache = function(t, e, i) {
                    this._graphicsCache[t][e] = i
                },
                n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._templet = null,
                    this._player && this._player.offAll(),
                    this._player = null,
                    this._curOriginalData = null,
                    this._boneMatrixArray.length = 0,
                    this._lastTime = 0,
                    i.timer.clear(this, this._update)
                },
                r(0, n, "url",
                function() {
                    return this._aniPath
                },
                function(t) {
                    this.load(t)
                }),
                r(0, n, "index",
                function() {
                    return this._index
                },
                function(t) {
                    this.player && (this._index = t, this._player.currentTime = 1e3 * this._index / this._player.cacheFrameRate, this._indexControl = !0, this._update(!1))
                }),
                r(0, n, "total",
                function() {
                    return this._templet && this._player ? this._total = Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex) / 1e3 * this._player.cacheFrameRate) : this._total = -1,
                    this._total
                }),
                r(0, n, "player",
                function() {
                    return this._player
                }),
                e.useSimpleMeshInCanvas = !1,
                e
            } (x),
            rt = (function(t) {
                function e(t) {
                    this._start = 0,
                    this._Pos = 0,
                    this._data = null,
                    this._curIndex = 0,
                    this._preIndex = 0,
                    this._playIndex = 0,
                    this._playing = !1,
                    this._ended = !0,
                    this._count = 0,
                    this._ids = null,
                    this._loadedImage = {},
                    this._idOfSprite = null,
                    this._parentMovieClip = null,
                    this._movieClipList = null,
                    this._labels = null,
                    this.basePath = null,
                    this._atlasPath = null,
                    this._url = null,
                    this._isRoot = !1,
                    this._completeHandler = null,
                    this._endFrame = -1,
                    this.interval = 30,
                    this.loop = !1,
                    e.__super.call(this),
                    this._ids = {},
                    this._idOfSprite = [],
                    this._reset(),
                    this._playing = !1,
                    this._parentMovieClip = t,
                    t ? (this._isRoot = !1, this._movieClipList = t._movieClipList, this._movieClipList.push(this)) : (this._movieClipList = [this], this._isRoot = !0, this._setUpNoticeType(1))
                }
                s(e, "laya.ani.swf.MovieClip", t);
                var n = e.prototype;
                n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    this._clear(),
                    t.prototype.destroy.call(this, e)
                },
                n._setDisplay = function(e) {
                    t.prototype._setDisplay.call(this, e),
                    this._isRoot && this._$3__onDisplay(e)
                },
                n._$3__onDisplay = function(t) {
                    t ? i.timer.loop(this.interval, this, this.updates, null, !0) : i.timer.clear(this, this.updates)
                },
                n.updates = function() {
                    if (!this._parentMovieClip) {
                        var t = 0,
                        e = 0;
                        for (e = this._movieClipList.length, t = 0; t < e; t++) this._movieClipList[t] && this._movieClipList[t]._update()
                    }
                },
                n.addLabel = function(t, e) {
                    this._labels || (this._labels = {}),
                    this._labels[e] = t
                },
                n.removeLabel = function(t) {
                    if (t) {
                        if (!this._labels) for (var e in this._labels) if (this._labels[e] === t) {
                            delete this._labels[e];
                            break
                        }
                    } else this._labels = null
                },
                n._update = function() {
                    if (this._data && this._playing) {
                        if (++this._playIndex >= this._count) {
                            if (!this.loop) return this._playIndex--,
                            void this.stop();
                            this._playIndex = 0
                        }
                        if (this._parse(this._playIndex), this._labels && this._labels[this._playIndex] && this.event("label", this._labels[this._playIndex]), -1 != this._endFrame && this._endFrame == this._playIndex) {
                            if (this._endFrame = -1, null != this._completeHandler) {
                                var t = this._completeHandler;
                                this._completeHandler = null,
                                t.run()
                            }
                            this.stop()
                        }
                    }
                },
                n.stop = function() {
                    this._playing = !1
                },
                n.gotoAndStop = function(t) {
                    this.index = t,
                    this.stop()
                },
                n._clear = function() {
                    if (this.stop(), this._idOfSprite.length = 0, !this._parentMovieClip) {
                        i.timer.clear(this, this.updates);
                        var t = 0,
                        e = 0;
                        for (e = this._movieClipList.length, t = 0; t < e; t++) this._movieClipList[t] != this && this._movieClipList[t]._clear();
                        this._movieClipList.length = 0
                    }
                    this._atlasPath && f.clearRes(this._atlasPath);
                    var n;
                    for (n in this._loadedImage) this._loadedImage[n] && (f.clearRes(n), this._loadedImage[n] = !1);
                    this.removeChildren(),
                    this.graphics = null,
                    this._parentMovieClip = null
                },
                n.play = function(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = !0),
                    this.loop = e,
                    this._playing = !0,
                    this._data && this._displayFrame(t)
                },
                n._displayFrame = function(t) {
                    void 0 === t && (t = -1),
                    -1 != t && (this._curIndex > t && this._reset(), this._parse(t))
                },
                n._reset = function(t) {
                    void 0 === t && (t = !0),
                    t && 1 != this._curIndex && this.removeChildren(),
                    this._preIndex = this._curIndex = -1,
                    this._Pos = this._start
                },
                n._parse = function(t) {
                    var i, n, s, r = 0,
                    a = 0,
                    o = 0,
                    h = !1,
                    l = this._idOfSprite,
                    u = this._data;
                    for (this._ended && this._reset(), u.pos = this._Pos, this._ended = !1, this._playIndex = t, this._curIndex > t && t < this._preIndex && (this._reset(!0), u.pos = this._Pos); this._curIndex <= t && !this._ended;) switch (u.getUint16()) {
                    case 12:
                        if (r = u.getUint16(), a = this._ids[u.getUint16()], this._Pos = u.pos, u.pos = a, 0 == (o = u.getUint8())) {
                            var c = u.getUint16();
                            if (! (n = l[r])) {
                                n = l[r] = new x;
                                var d = new x;
                                d.loadImage(this.basePath + c + ".png"),
                                this._loadedImage[this.basePath + c + ".png"] = !0,
                                n.addChild(d),
                                d.size(u.getFloat32(), u.getFloat32());
                                var _ = u._getMatrix();
                                d.transform = _
                            }
                            n.alpha = 1
                        } else 1 == o && (i = l[r], i || (l[r] = i = new e(this), i.interval = this.interval, i._ids = this._ids, i.basePath = this.basePath, i._setData(u, a), i._initState(), i.play(0)), i.alpha = 1);
                        u.pos = this._Pos;
                        break;
                    case 3:
                        var f = l[u.getUint16()];
                        f && (this.addChild(f), f.zOrder = u.getUint16(), h = !0);
                        break;
                    case 4:
                        f = l[u.getUint16()],
                        f && f.removeSelf();
                        break;
                    case 5:
                        l[u.getUint16()][e._ValueList[u.getUint16()]] = u.getFloat32();
                        break;
                    case 6:
                        l[u.getUint16()].visible = u.getUint8() > 0;
                        break;
                    case 7:
                        n = l[u.getUint16()];
                        var p = n.transform || g.create();
                        p.setTo(u.getFloat32(), u.getFloat32(), u.getFloat32(), u.getFloat32(), u.getFloat32(), u.getFloat32()),
                        n.transform = p;
                        break;
                    case 8:
                        l[u.getUint16()].setPos(u.getFloat32(), u.getFloat32());
                        break;
                    case 9:
                        l[u.getUint16()].setSize(u.getFloat32(), u.getFloat32());
                        break;
                    case 10:
                        l[u.getUint16()].alpha = u.getFloat32();
                        break;
                    case 11:
                        l[u.getUint16()].setScale(u.getFloat32(), u.getFloat32());
                        break;
                    case 98:
                        s = u.getString(),
                        this.event(s),
                        "stop" == s && this.stop();
                        break;
                    case 99:
                        this._curIndex = u.getUint16(),
                        h && this.updateZOrder();
                        break;
                    case 100:
                        this._count = this._curIndex + 1,
                        this._ended = !0,
                        this._playing && (this.event("enterframe"), this.event("end"), this.event("complete")),
                        this._reset(!1)
                    }
                    this._playing && !this._ended && this.event("enterframe"),
                    this._Pos = u.pos
                },
                n._setData = function(t, e) {
                    this._data = t,
                    this._start = e + 3
                },
                n.load = function(t, e, n) {
                    void 0 === e && (e = !1),
                    this._url = t = C.formatURL(t),
                    e && (this._atlasPath = n || t.split(".swf")[0] + ".json"),
                    this.stop(),
                    this._clear(),
                    this._movieClipList = [this];
                    var s;
                    s = [{
                        url: t,
                        type: "arraybuffer"
                    }],
                    this._atlasPath && s.push({
                        url: this._atlasPath,
                        type: "atlas"
                    }),
                    i.loader.load(s, _.create(this, this._onLoaded))
                },
                n._onLoaded = function() {
                    var t;
                    if (! (t = f.getRes(this._url))) return void this.event("error", "file not find");
                    this.basePath = this._atlasPath ? f.getAtlas(this._atlasPath).dir: this._url.split(".swf")[0] + "/image/",
                    this._initData(t)
                },
                n._initState = function() {
                    this._reset(),
                    this._ended = !1;
                    var t = this._playing;
                    for (this._playing = !1, this._curIndex = 0; ! this._ended;) this._parse(++this._curIndex);
                    this._playing = t
                },
                n._initData = function(t) {
                    this._data = new l(t);
                    var e = 0,
                    n = this._data.getUint16();
                    for (e = 0; e < n; e++) this._ids[this._data.getInt16()] = this._data.getInt32();
                    this.interval = 1e3 / this._data.getUint16(),
                    this._setData(this._data, this._ids[32767]),
                    this._initState(),
                    this.play(0),
                    this.event("loaded"),
                    this._parentMovieClip || i.timer.loop(this.interval, this, this.updates, null, !0)
                },
                n.playTo = function(t, e, i) {
                    this._completeHandler = i,
                    this._endFrame = e,
                    this.play(t, !1)
                },
                r(0, n, "index",
                function() {
                    return this._playIndex
                },
                function(t) {
                    this._playIndex = t,
                    this._data && this._displayFrame(this._playIndex),
                    this._labels && this._labels[t] && this.event("label", this._labels[t])
                }),
                r(0, n, "count",
                function() {
                    return this._count
                }),
                r(0, n, "playing",
                function() {
                    return this._playing
                }),
                r(0, n, "url", null,
                function(t) {
                    this.load(t)
                }),
                e._ValueList = ["x", "y", "width", "height", "scaleX", "scaleY", "rotation", "alpha"]
            } (x),
            function(t) {
                function e() {
                    this._mainTexture = null,
                    this._textureJson = null,
                    this._graphicsCache = [],
                    this.srcBoneMatrixArr = [],
                    this.ikArr = [],
                    this.tfArr = [],
                    this.pathArr = [],
                    this.boneSlotDic = {},
                    this.bindBoneBoneSlotDic = {},
                    this.boneSlotArray = [],
                    this.skinDataArray = [],
                    this.skinDic = {},
                    this.subTextureDic = {},
                    this.isParseFail = !1,
                    this.yReverseMatrix = null,
                    this.drawOrderAniArr = [],
                    this.eventAniArr = [],
                    this.attachmentNames = null,
                    this.deformAniArr = [],
                    this._isDestroyed = !1,
                    this._rate = 30,
                    this.isParserComplete = !1,
                    this.aniSectionDic = {},
                    this._skBufferUrl = null,
                    this._textureDic = {},
                    this._loadList = null,
                    this._path = null,
                    this.tMatrixDataLen = 0,
                    this.mRootBone = null,
                    e.__super.call(this),
                    this.skinSlotDisplayDataArr = [],
                    this.mBoneArr = []
                }
                s(e, "laya.ani.bone.Templet", t);
                var n = e.prototype;
                return n.loadAni = function(t) {
                    this._skBufferUrl = t,
                    i.loader.load(t, _.create(this, this.onComplete), null, "arraybuffer")
                },
                n.onComplete = function(t) {
                    if (this._isDestroyed) return void this.destroy();
                    var e = f.getRes(this._skBufferUrl);
                    if (!e) return void this.event("error", "load failed:" + this._skBufferUrl);
                    this._path = this._skBufferUrl.slice(0, this._skBufferUrl.lastIndexOf("/")) + "/",
                    this.parseData(null, e)
                },
                n.parseData = function(t, e, i) {
                    void 0 === i && (i = 30),
                    !this._path && this.url && (this._path = this.url.slice(0, this.url.lastIndexOf("/")) + "/"),
                    this._mainTexture = t,
                    this._mainTexture && v.isWebGL && t.bitmap && (t.bitmap.enableMerageInAtlas = !1),
                    this._rate = i,
                    this.parse(e)
                },
                n.buildArmature = function(t) {
                    return void 0 === t && (t = 0),
                    new st(this, t)
                },
                n.parse = function(i) {
                    t.prototype.parse.call(this, i),
                    this._endLoaded(),
                    this._aniVersion != e.LAYA_ANIMATION_VISION && (console.log("[Error] 版本不一致，请使用IDE版本配套的重新导出" + this._aniVersion + "->" + e.LAYA_ANIMATION_VISION), this._loaded = !1),
                    this.loaded ? this._mainTexture ? this._parsePublicExtData() : this._parseTexturePath() : (this.event("error", this), this.isParseFail = !0)
                },
                n._parseTexturePath = function() {
                    if (this._isDestroyed) return void this.destroy();
                    var t = 0;
                    this._loadList = [];
                    var e, n = new l(this.getPublicExtData()),
                    s = 0,
                    r = 0,
                    a = 0,
                    o = n.getInt32(),
                    h = n.readUTFString(),
                    u = h.split("\n");
                    for (t = 0; t < o; t++) e = this._path + u[2 * t],
                    h = u[2 * t + 1],
                    n.getFloat32(),
                    n.getFloat32(),
                    s = n.getFloat32(),
                    r = n.getFloat32(),
                    a = n.getFloat32(),
                    isNaN(a) ? 0 : a,
                    a = n.getFloat32(),
                    isNaN(a) ? 0 : a,
                    a = n.getFloat32(),
                    isNaN(a) ? s: a,
                    a = n.getFloat32(),
                    isNaN(a) ? r: a,
                    -1 == this._loadList.indexOf(e) && this._loadList.push(e);
                    i.loader.load(this._loadList, _.create(this, this._textureComplete))
                },
                n._textureComplete = function() {
                    for (var t, e, i = 0,
                    n = this._loadList.length; i < n; i++) e = this._loadList[i],
                    t = this._textureDic[e] = f.getRes(e),
                    v.isWebGL && t && t.bitmap && (t.bitmap.enableMerageInAtlas = !1);
                    this._parsePublicExtData()
                },
                n._parsePublicExtData = function() {
                    var t = 0,
                    e = 0,
                    i = 0,
                    n = 0,
                    s = 0;
                    for (t = 0, s = this.getAnimationCount(); t < s; t++) this._graphicsCache.push([]);
                    var r = !1;
                    r = "Dragon" != this._aniClassName;
                    var a, o, h = new l(this.getPublicExtData()),
                    u = 0,
                    c = 0,
                    d = 0,
                    _ = 0,
                    f = 0,
                    p = 0,
                    y = 0,
                    v = 0,
                    m = 0,
                    w = h.getInt32(),
                    x = h.readUTFString(),
                    b = x.split("\n");
                    for (t = 0; t < w; t++) {
                        if (a = this._mainTexture, o = this._path + b[2 * t], x = b[2 * t + 1], null == this._mainTexture && (a = this._textureDic[o]), !a) return this.event("error", this),
                        void(this.isParseFail = !0);
                        u = h.getFloat32(),
                        c = h.getFloat32(),
                        d = h.getFloat32(),
                        _ = h.getFloat32(),
                        m = h.getFloat32(),
                        f = isNaN(m) ? 0 : m,
                        m = h.getFloat32(),
                        p = isNaN(m) ? 0 : m,
                        m = h.getFloat32(),
                        y = isNaN(m) ? d: m,
                        m = h.getFloat32(),
                        v = isNaN(m) ? _: m,
                        this.subTextureDic[x] = S.create(a, u, c, d, _, -f, -p, y, v)
                    }
                    this._mainTexture = a;
                    var C, P = h.getUint16();
                    for (t = 0; t < P; t++) C = [],
                    C.push(h.getUint16()),
                    C.push(h.getUint16()),
                    C.push(h.getUint16()),
                    C.push(h.getUint16()),
                    this.aniSectionDic[t] = C;
                    var k, T, M, R, D, B = h.getInt16(),
                    U = {};
                    for (t = 0; t < B; t++) k = new I,
                    0 == t ? D = k: k.root = D,
                    k.d = r ? -1 : 1,
                    M = h.readUTFString(),
                    R = h.readUTFString(),
                    k.length = h.getFloat32(),
                    1 == h.getByte() && (k.inheritRotation = !1),
                    1 == h.getByte() && (k.inheritScale = !1),
                    k.name = M,
                    R && (T = U[R], T ? T.addChild(k) : this.mRootBone = k),
                    U[M] = k,
                    this.mBoneArr.push(k);
                    this.tMatrixDataLen = h.getUint16();
                    var W, H = h.getUint16(),
                    V = Math.floor(H / this.tMatrixDataLen),
                    K = this.srcBoneMatrixArr;
                    for (t = 0; t < V; t++) W = new q,
                    W.scX = h.getFloat32(),
                    W.skX = h.getFloat32(),
                    W.skY = h.getFloat32(),
                    W.scY = h.getFloat32(),
                    W.x = h.getFloat32(),
                    W.y = h.getFloat32(),
                    8 === this.tMatrixDataLen && (W.skewX = h.getFloat32(), W.skewY = h.getFloat32()),
                    K.push(W),
                    k = this.mBoneArr[t],
                    k.transform = W;
                    var Q, J = h.getUint16(),
                    Z = 0;
                    for (t = 0; t < J; t++) {
                        for (Q = new G, Z = h.getUint16(), e = 0; e < Z; e++) Q.boneNames.push(h.readUTFString()),
                        Q.boneIndexs.push(h.getInt16());
                        Q.name = h.readUTFString(),
                        Q.targetBoneName = h.readUTFString(),
                        Q.targetBoneIndex = h.getInt16(),
                        Q.bendDirection = h.getFloat32(),
                        Q.mix = h.getFloat32(),
                        Q.isSpine = r,
                        this.ikArr.push(Q)
                    }
                    var tt, et = h.getUint16(),
                    it = 0;
                    for (t = 0; t < et; t++) {
                        for (tt = new $, it = h.getUint16(), e = 0; e < it; e++) tt.boneIndexs.push(h.getInt16());
                        tt.name = h.getUTFString(),
                        tt.targetIndex = h.getInt16(),
                        tt.rotateMix = h.getFloat32(),
                        tt.translateMix = h.getFloat32(),
                        tt.scaleMix = h.getFloat32(),
                        tt.shearMix = h.getFloat32(),
                        tt.offsetRotation = h.getFloat32(),
                        tt.offsetX = h.getFloat32(),
                        tt.offsetY = h.getFloat32(),
                        tt.offsetScaleX = h.getFloat32(),
                        tt.offsetScaleY = h.getFloat32(),
                        tt.offsetShearY = h.getFloat32(),
                        this.tfArr.push(tt)
                    }
                    var nt, st = h.getUint16(),
                    rt = 0;
                    for (t = 0; t < st; t++) {
                        for (nt = new z, nt.name = h.readUTFString(), rt = h.getUint16(), e = 0; e < rt; e++) nt.bones.push(h.getInt16());
                        nt.target = h.readUTFString(),
                        nt.positionMode = h.readUTFString(),
                        nt.spacingMode = h.readUTFString(),
                        nt.rotateMode = h.readUTFString(),
                        nt.offsetRotation = h.getFloat32(),
                        nt.position = h.getFloat32(),
                        nt.spacing = h.getFloat32(),
                        nt.rotateMix = h.getFloat32(),
                        nt.translateMix = h.getFloat32(),
                        this.pathArr.push(nt)
                    }
                    var at, ot, ht, lt, ut = 0,
                    ct = 0,
                    dt = 0,
                    _t = NaN,
                    ft = 0,
                    pt = h.getInt16();
                    for (t = 0; t < pt; t++) {
                        var gt = h.getUint8(),
                        yt = {};
                        this.deformAniArr.push(yt);
                        for (var vt = 0; vt < gt; vt++) for (at = new E, at.skinName = h.getUTFString(), yt[at.skinName] = at, ut = h.getInt16(), e = 0; e < ut; e++) for (ot = new A, at.deformSlotDataList.push(ot), ct = h.getInt16(), i = 0; i < ct; i++) for (ht = new O, ot.deformSlotDisplayList.push(ht), ht.slotIndex = h.getInt16(), ht.attachment = h.getUTFString(), dt = h.getInt16(), n = 0; n < dt; n++) for (1 == h.getByte() ? ht.tweenKeyList.push(!0) : ht.tweenKeyList.push(!1), _t = h.getFloat32(), ht.timeList.push(_t), lt = [], ht.vectices.push(lt), ft = h.getInt16(), s = 0; s < ft; s++) lt.push(h.getFloat32())
                    }
                    var mt, wt, xt = h.getInt16(),
                    bt = 0,
                    St = 0;
                    for (t = 0; t < xt; t++) {
                        for (bt = h.getInt16(), mt = [], e = 0; e < bt; e++) {
                            for (wt = new N, wt.time = h.getFloat32(), St = h.getInt16(), i = 0; i < St; i++) wt.drawOrder.push(h.getInt16());
                            mt.push(wt)
                        }
                        this.drawOrderAniArr.push(mt)
                    }
                    var Ct, Pt, kt = h.getInt16(),
                    Tt = 0;
                    for (t = 0; t < kt; t++) {
                        for (Tt = h.getInt16(), Ct = [], e = 0; e < Tt; e++) Pt = new F,
                        Pt.name = h.getUTFString(),
                        Pt.intValue = h.getInt32(),
                        Pt.floatValue = h.getFloat32(),
                        Pt.stringValue = h.getUTFString(),
                        Pt.time = h.getFloat32(),
                        Ct.push(Pt);
                        this.eventAniArr.push(Ct)
                    }
                    var Mt = h.getInt16();
                    if (Mt > 0) for (this.attachmentNames = [], t = 0; t < Mt; t++) this.attachmentNames.push(h.getUTFString());
                    var Rt, It, Lt = h.getInt16();
                    for (t = 0; t < Lt; t++) Rt = new L,
                    Rt.name = h.readUTFString(),
                    Rt.parent = h.readUTFString(),
                    Rt.attachmentName = h.readUTFString(),
                    Rt.srcDisplayIndex = Rt.displayIndex = h.getInt16(),
                    Rt.templet = this,
                    this.boneSlotDic[Rt.name] = Rt,
                    It = this.bindBoneBoneSlotDic[Rt.parent],
                    null == It && (this.bindBoneBoneSlotDic[Rt.parent] = It = []),
                    It.push(Rt),
                    this.boneSlotArray.push(Rt);
                    var Dt, Bt, Et, At = h.readUTFString(),
                    Ot = At.split("\n"),
                    Nt = 0,
                    Ft = h.getUint8(),
                    Ut = 0,
                    Gt = 0,
                    Wt = 0,
                    Ht = 0,
                    zt = 0,
                    Yt = 0,
                    jt = 0;
                    for (t = 0; t < Ft; t++) {
                        for (Dt = new Y, Dt.name = Ot[Nt++], Ut = h.getUint8(), e = 0; e < Ut; e++) {
                            for (Bt = new X, Bt.name = Ot[Nt++], Rt = this.boneSlotDic[Bt.name], Gt = h.getUint8(), i = 0; i < Gt; i++) {
                                if (Et = new j, this.skinSlotDisplayDataArr.push(Et), Et.name = Ot[Nt++], Et.attachmentName = Ot[Nt++], Et.transform = new q, Et.transform.scX = h.getFloat32(), Et.transform.skX = h.getFloat32(), Et.transform.skY = h.getFloat32(), Et.transform.scY = h.getFloat32(), Et.transform.x = h.getFloat32(), Et.transform.y = h.getFloat32(), Bt.displayArr.push(Et), Et.width = h.getFloat32(), Et.height = h.getFloat32(), Et.type = h.getUint8(), Et.verLen = h.getUint16(), (B = h.getUint16()) > 0) for (Et.bones = [], n = 0; n < B; n++) {
                                    var Xt = h.getUint16();
                                    Et.bones.push(Xt)
                                }
                                if ((Wt = h.getUint16()) > 0) for (Et.uvs = [], n = 0; n < Wt; n++) Et.uvs.push(h.getFloat32());
                                if ((Ht = h.getUint16()) > 0) for (Et.weights = [], n = 0; n < Ht; n++) Et.weights.push(h.getFloat32());
                                if ((zt = h.getUint16()) > 0) for (Et.triangles = [], n = 0; n < zt; n++) Et.triangles.push(h.getUint16());
                                if ((Yt = h.getUint16()) > 0) for (Et.vertices = [], n = 0; n < Yt; n++) Et.vertices.push(h.getFloat32());
                                if ((jt = h.getUint16()) > 0) for (Et.lengths = [], n = 0; n < jt; n++) Et.lengths.push(h.getFloat32())
                            }
                            Dt.slotArr.push(Bt)
                        }
                        this.skinDic[Dt.name] = Dt,
                        this.skinDataArray.push(Dt)
                    }
                    1 == h.getUint8() ? (this.yReverseMatrix = new g(1, 0, 0, -1, 0, 0), D && D.setTempMatrix(this.yReverseMatrix)) : D && D.setTempMatrix(new g),
                    this.showSkinByIndex(this.boneSlotDic, 0),
                    this.isParserComplete = !0,
                    this.event("complete", this)
                },
                n.getTexture = function(t) {
                    var e = this.subTextureDic[t];
                    return null == e ? this._mainTexture: e
                },
                n.showSkinByIndex = function(t, e, i) {
                    if (void 0 === i && (i = !0), e < 0 && e >= this.skinDataArray.length) return ! 1;
                    var n, s, r = 0,
                    a = 0,
                    o = this.skinDataArray[e];
                    if (o) {
                        for (r = 0, a = o.slotArr.length; r < a; r++)(s = o.slotArr[r]) && (n = t[s.name]) && (n.showSlotData(s, i), i && "undefined" != n.attachmentName && "null" != n.attachmentName ? n.showDisplayByName(n.attachmentName) : n.showDisplayByIndex(n.displayIndex));
                        return ! 0
                    }
                    return ! 1
                },
                n.getSkinIndexByName = function(t) {
                    for (var e, i = 0,
                    n = this.skinDataArray.length; i < n; i++) if (e = this.skinDataArray[i], e.name == t) return i;
                    return - 1
                },
                n.getGrahicsDataWithCache = function(t, e) {
                    return this._graphicsCache[t][e]
                },
                n.setGrahicsDataWithCache = function(t, e, i) {
                    this._graphicsCache[t][e] = i
                },
                n.destroy = function() {
                    this._isDestroyed = !0;
                    var t;
                    for (var i in this.subTextureDic)(t = this.subTextureDic[i]) && t.destroy();
                    var i;
                    for (i in this._textureDic)(t = this._textureDic[i]) && t.destroy();
                    for (var n, s = 0,
                    r = this.skinSlotDisplayDataArr.length; s < r; s++) n = this.skinSlotDisplayDataArr[s],
                    n.destory();
                    this.skinSlotDisplayDataArr.length = 0,
                    this.url && delete e.TEMPLET_DICTIONARY[this.url],
                    this.dispose()
                },
                n.getAniNameByIndex = function(t) {
                    var e = this.getAnimation(t);
                    return e ? e.name: null
                },
                r(0, n, "rate",
                function() {
                    return this._rate
                },
                function(t) {
                    this._rate = t
                }),
                e.LAYA_ANIMATION_VISION = "LAYAANIMATION:1.6.0",
                e.TEMPLET_DICTIONARY = null,
                e
            } (it))
        } (window, document, Laya)
    },
    function(module, exports, __webpack_require__) { (function(global) {
            var window = window || global,
            Laya = window.Laya = function(t, e) {
                var i = {
                    __internals: [],
                    __packages: {},
                    __classmap: {
                        Object: Object,
                        Function: Function,
                        Array: Array,
                        String: String
                    },
                    __sysClass: {
                        object: "Object",
                        array: "Array",
                        string: "String",
                        dictionary: "Dictionary"
                    },
                    __propun: {
                        writable: !0,
                        enumerable: !1,
                        configurable: !0
                    },
                    __presubstr: String.prototype.substr,
                    __substr: function(t, e) {
                        return 1 == arguments.length ? i.__presubstr.call(this, t) : i.__presubstr.call(this, t, e > 0 ? e: this.length + e)
                    },
                    __init: function(t) {
                        t.forEach(function(t) {
                            t.__init$ && t.__init$()
                        })
                    },
                    __isClass: function(t) {
                        return t && (t.__isclass || t == Object || t == String || t == Array)
                    },
                    __newvec: function(t, e) {
                        var i = [];
                        i.length = t;
                        for (var n = 0; n < t; n++) i[n] = e;
                        return i
                    },
                    __extend: function(t, e) {
                        function n() {
                            i.un(this, "constructor", t)
                        }
                        for (var s in e) if (e.hasOwnProperty(s)) {
                            var r = Object.getOwnPropertyDescriptor(e, s),
                            a = r.get,
                            o = r.set;
                            a || o ? a && o ? Object.defineProperty(t, s, r) : (a && Object.defineProperty(t, s, a), o && Object.defineProperty(t, s, o)) : t[s] = e[s]
                        }
                        n.prototype = e.prototype,
                        t.prototype = new n,
                        i.un(t.prototype, "__imps", i.__copy({},
                        e.prototype.__imps))
                    },
                    __copy: function(t, e) {
                        if (!e) return null;
                        t = t || {};
                        for (var i in e) t[i] = e[i];
                        return t
                    },
                    __package: function(e, n) {
                        if (!i.__packages[e]) {
                            i.__packages[e] = !0;
                            var s = t,
                            r = e.split(".");
                            if (r.length > 1) for (var a = 0,
                            o = r.length - 1; a < o; a++) {
                                var h = s[r[a]];
                                s = h || (s[r[a]] = {})
                            }
                            s[r[r.length - 1]] || (s[r[r.length - 1]] = n || {})
                        }
                    },
                    __hasOwnProperty: function(t, e) {
                        function i(t, e) {
                            if (Object.hasOwnProperty.call(e.prototype, t)) return ! 0;
                            var n = e.prototype.__super;
                            return null == n ? null: i(t, n)
                        }
                        return e = e || this,
                        Object.hasOwnProperty.call(e, t) || i(t, e.__class)
                    },
                    __typeof: function(t, e) {
                        if (!t || !e) return ! 1;
                        if (e === String) return "string" == typeof t;
                        if (e === Number) return "number" == typeof t;
                        if (e.__interface__) e = e.__interface__;
                        else if ("string" != typeof e) return t instanceof e;
                        return t.__imps && t.__imps[e] || t.__class == e
                    },
                    __as: function(t, e) {
                        return this.__typeof(t, e) ? t: null
                    },
                    interface: function(e, n) {
                        i.__package(e, {});
                        var s = i.__internals,
                        r = s[e] = s[e] || {
                            self: e
                        };
                        if (n) {
                            var a = n.split(",");
                            r.extend = [];
                            for (var o = 0; o < a.length; o++) {
                                var h = a[o];
                                s[h] = s[h] || {
                                    self: h
                                },
                                r.extend.push(s[h])
                            }
                        }
                        for (var l = t,
                        u = e.split("."), o = 0; o < u.length - 1; o++) l = l[u[o]];
                        l[u[u.length - 1]] = {
                            __interface__: e
                        }
                    },
                    class: function(e, n, s, r) {
                        if (s && i.__extend(e, s), n) if (i.__package(n, e), i.__classmap[n] = e, n.indexOf(".") > 0) {
                            if (0 == n.indexOf("laya.")) {
                                var a = n.split(".");
                                r = r || a[a.length - 1],
                                i[r] && console.log("Warning!,this class[" + r + "] already exist:", i[r]),
                                i[r] = e
                            }
                        } else "Main" == n ? t.Main = e: (i[n] && console.log("Error!,this class[" + n + "] already exist:", i[n]), i[n] = e);
                        var o = i.un,
                        h = e.prototype;
                        o(h, "hasOwnProperty", i.__hasOwnProperty),
                        o(h, "__class", e),
                        o(h, "__super", s),
                        o(h, "__className", n),
                        o(e, "__super", s),
                        o(e, "__className", n),
                        o(e, "__isclass", !0),
                        o(e, "super",
                        function(t) {
                            this.__super.call(t)
                        })
                    },
                    imps: function(t, e) {
                        function n(t) {
                            var e, r;
                            if ((e = i.__internals[t]) && (s[t] = !0, r = e.extend)) for (var a = 0; a < r.length; a++) n(r[a].self)
                        }
                        if (!e) return null;
                        var s = t.__imps || i.un(t, "__imps", {});
                        for (var r in e) n(r)
                    },
                    getset: function(t, e, n, s, r) {
                        t ? (s && (e["_$GET_" + n] = s), r && (e["_$SET_" + n] = r)) : (s && i.un(e, "_$get_" + n, s), r && i.un(e, "_$set_" + n, r)),
                        s && r ? Object.defineProperty(e, n, {
                            get: s,
                            set: r,
                            enumerable: !1
                        }) : (s && Object.defineProperty(e, n, {
                            get: s,
                            enumerable: !1
                        }), r && Object.defineProperty(e, n, {
                            set: r,
                            enumerable: !1
                        }))
                    },
                    static: function(t, e) {
                        for (var i = 0,
                        n = e.length; i < n; i += 2)"length" == e[i] ? t.length = e[i + 1].call(t) : function() {
                            var n = e[i],
                            s = e[i + 1];
                            Object.defineProperty(t, n, {
                                get: function() {
                                    return delete this[n],
                                    this[n] = s.call(this)
                                },
                                set: function(t) {
                                    delete this[n],
                                    this[n] = t
                                },
                                enumerable: !0,
                                configurable: !0
                            })
                        } ()
                    },
                    un: function(t, e, n) {
                        return n || (n = t[e]),
                        i.__propun.value = n,
                        Object.defineProperty(t, e, i.__propun),
                        n
                    },
                    uns: function(t, e) {
                        e.forEach(function(e) {
                            i.un(t, e)
                        })
                    }
                };
                return t.console = t.console || {
                    log: function() {}
                },
                t.trace = t.console.log,
                Error.prototype.throwError = function() {
                    throw arguments
                },
                String.prototype.substr = i.__substr,
                Object.defineProperty(Array.prototype, "fixed", {
                    enumerable: !1
                }),
                i
            } (window, document); !
            function(t, e, i) {
                i.un,
                i.uns,
                i.static,
                i.class,
                i.getset,
                i.__newvec
            } (0, document, Laya),
            function(window, document, Laya) {
                var __un = Laya.un,
                __uns = Laya.uns,
                __static = Laya.static,
                __class = Laya.class,
                __getset = Laya.getset,
                __newvec = Laya.__newvec;
                Laya.interface("laya.runtime.IMarket"),
                Laya.interface("laya.filters.IFilter"),
                Laya.interface("laya.display.ILayout"),
                Laya.interface("laya.resource.IDispose"),
                Laya.interface("laya.runtime.IPlatform"),
                Laya.interface("laya.resource.IDestroy"),
                Laya.interface("laya.runtime.IConchNode"),
                Laya.interface("laya.filters.IFilterAction"),
                Laya.interface("laya.runtime.ICPlatformClass"),
                Laya.interface("laya.resource.ICreateResource"),
                Laya.interface("laya.runtime.IConchRenderObject"),
                Laya.interface("laya.runtime.IPlatformClass", "laya.runtime.IPlatform");
                var RunDriver = function() {
                    function t() {}
                    return __class(t, "laya.utils.RunDriver"),
                    t.FILTER_ACTIONS = [],
                    t.pixelRatio = -1,
                    t._charSizeTestDiv = null,
                    t.now = function() {
                        return Date.now()
                    },
                    t.getWindow = function() {
                        return window
                    },
                    t.getPixelRatio = function() {
                        if (t.pixelRatio < 0) {
                            var e = Browser.context,
                            i = e.backingStorePixelRatio || e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1;
                            t.pixelRatio = (Browser.window.devicePixelRatio || 1) / i,
                            t.pixelRatio < 1 && (t.pixelRatio = 1)
                        }
                        return t.pixelRatio
                    },
                    t.getIncludeStr = function(t) {
                        return null
                    },
                    t.createShaderCondition = function(t) {
                        var e = "(function() {return " + t + ";})";
                        return Browser.window.eval(e)
                    },
                    t.fontMap = [],
                    t.measureText = function(e, i) {
                        var n = t.hanzi.test(e);
                        if (n && t.fontMap[i]) return t.fontMap[i];
                        var s = Browser.context;
                        s.font = i;
                        var r = s.measureText(e);
                        return n && (t.fontMap[i] = r),
                        r
                    },
                    t.getWebGLContext = function(t) {},
                    t.beginFlush = function() {},
                    t.endFinish = function() {},
                    t.addToAtlas = null,
                    t.flashFlushImage = function(t) {},
                    t.drawToCanvas = function(t, e, i, n, s, r, a) {
                        var o = HTMLCanvas.create("2D", a),
                        h = new RenderContext(i, n, o);
                        return RenderSprite.renders[e]._fun(t, h, s, r),
                        o
                    },
                    t.createParticleTemplate2D = null,
                    t.createGLTextur = null,
                    t.createWebGLContext2D = null,
                    t.changeWebGLSize = function(t, e) {},
                    t.createRenderSprite = function(t, e) {
                        return new RenderSprite(t, e)
                    },
                    t.createFilterAction = function(t) {
                        return new ColorFilterAction
                    },
                    t.createGraphics = function() {
                        return new Graphics
                    },
                    t.clear = function(t) {
                        Render._context.ctx.clear()
                    },
                    t.clearAtlas = function(t) {},
                    t.addTextureToAtlas = function(t) {},
                    t.getTexturePixels = function(t, e, i, n, s) {
                        return null
                    },
                    t.skinAniSprite = function() {
                        return null
                    },
                    __static(t, ["hanzi",
                    function() {
                        return this.hanzi = new RegExp("^[一-龥]$")
                    }]),
                    t
                } (),
                ___Laya = function() {
                    return __getset(1, Laya, "alertGlobalError", null,
                    function(t) {
                        var e = 0;
                        Browser.window.onerror = t ?
                        function(t, i, n, s, r) {
                            e++<5 && r && alert("出错啦，请把此信息截图给研发商\n" + t + "\n" + r.stack)
                        }: null
                    }),
                    Laya.init = function(t, e, i) {
                        for (var n = [], s = 2, r = arguments.length; s < r; s++) n.push(arguments[s]);
                        if (!Laya._isinit) {
                            ArrayBuffer.prototype.slice || (ArrayBuffer.prototype.slice = Laya._arrayBufferSlice),
                            Laya._isinit = !0,
                            Browser.__init__(),
                            Context.__init__(),
                            Graphics.__init__(),
                            Laya.timer = new Timer,
                            Laya.loader = new LoaderManager;
                            for (var s = 0,
                            a = n.length; s < a; s++) n[s].enable && n[s].enable();
                            Font.__init__(),
                            Style.__init__(),
                            ResourceManager.__init__(),
                            CacheManger.beginCheck(),
                            Laya._currentStage = Laya.stage = new Stage,
                            Laya.stage.conchModel && Laya.stage.conchModel.setRootNode();
                            Browser.window.location;
                            return Laya.render = new Render(0, 0),
                            Laya.stage.size(t, e),
                            RenderSprite.__init__(),
                            KeyBoardManager.__init__(),
                            MouseManager.instance.__init__(Laya.stage, Render.canvas),
                            SoundManager.autoStopMusic = !0,
                            LocalStorage.__init__(),
                            Render.canvas
                        }
                    },
                    Laya._arrayBufferSlice = function(t, e) {
                        var i = this,
                        n = new Uint8Array(i, t, e - t),
                        s = new Uint8Array(n.length);
                        return s.set(n),
                        s.buffer
                    },
                    Laya.stage = null,
                    Laya.timer = null,
                    Laya.loader = null,
                    Laya.version = "1.7.7",
                    Laya.render = null,
                    Laya._currentStage = null,
                    Laya._isinit = !1,
                    __static(Laya, ["conchMarket",
                    function() {
                        return this.conchMarket = window.conch ? conchMarket: null
                    },
                    "PlatformClass",
                    function() {
                        return this.PlatformClass = window.PlatformClass
                    }]),
                    Laya
                } (),
                Config = function() {
                    function t() {}
                    return __class(t, "Config"),
                    t.WebGLTextCacheCount = 500,
                    t.atlasEnable = !1,
                    t.showCanvasMark = !1,
                    t.animationInterval = 50,
                    t.isAntialias = !1,
                    t.isAlpha = !1,
                    t.premultipliedAlpha = !0,
                    t.isStencil = !0,
                    t.preserveDrawingBuffer = !1,
                    t
                } (),
                EventDispatcher = function() {
                    function t() {
                        this._events = null
                    }
                    var e;
                    __class(t, "laya.events.EventDispatcher");
                    var i = t.prototype;
                    return i.hasListener = function(t) {
                        return ! (!this._events || !this._events[t])
                    },
                    i.event = function(t, e) {
                        if (!this._events || !this._events[t]) return ! 1;
                        var i = this._events[t];
                        if (i.run) i.once && delete this._events[t],
                        null != e ? i.runWith(e) : i.run();
                        else {
                            for (var n = 0,
                            s = i.length; n < s; n++) {
                                var r = i[n];
                                r && (null != e ? r.runWith(e) : r.run()),
                                r && !r.once || (i.splice(n, 1), n--, s--)
                            }
                            0 === i.length && this._events && delete this._events[t]
                        }
                        return ! 0
                    },
                    i.on = function(t, e, i, n) {
                        return this._createListener(t, e, i, n, !1)
                    },
                    i.once = function(t, e, i, n) {
                        return this._createListener(t, e, i, n, !0)
                    },
                    i._createListener = function(t, i, n, s, r, a) {
                        void 0 === a && (a = !0),
                        a && this.off(t, i, n, r);
                        var o = e.create(i || this, n, s, r);
                        this._events || (this._events = {});
                        var h = this._events;
                        return h[t] ? h[t].run ? h[t] = [h[t], o] : h[t].push(o) : h[t] = o,
                        this
                    },
                    i.off = function(t, e, i, n) {
                        if (void 0 === n && (n = !1), !this._events || !this._events[t]) return this;
                        var s = this._events[t];
                        if (null != i) if (s.run) e && s.caller !== e || s.method !== i || n && !s.once || (delete this._events[t], s.recover());
                        else {
                            for (var r = 0,
                            a = 0,
                            o = s.length; a < o; a++) {
                                var h = s[a]; ! h || e && h.caller !== e || h.method !== i || n && !h.once || (r++, s[a] = null, h.recover())
                            }
                            r === o && delete this._events[t]
                        }
                        return this
                    },
                    i.offAll = function(t) {
                        var e = this._events;
                        if (!e) return this;
                        if (t) this._recoverHandlers(e[t]),
                        delete e[t];
                        else {
                            for (var i in e) this._recoverHandlers(e[i]);
                            this._events = null
                        }
                        return this
                    },
                    i._recoverHandlers = function(t) {
                        if (t) if (t.run) t.recover();
                        else for (var e = t.length - 1; e > -1; e--) t[e] && (t[e].recover(), t[e] = null)
                    },
                    i.isMouseEvent = function(e) {
                        return t.MOUSE_EVENTS[e]
                    },
                    t.MOUSE_EVENTS = {
                        rightmousedown: !0,
                        rightmouseup: !0,
                        rightclick: !0,
                        mousedown: !0,
                        mouseup: !0,
                        mousemove: !0,
                        mouseover: !0,
                        mouseout: !0,
                        click: !0,
                        doubleclick: !0
                    },
                    t.__init$ = function() {
                        Object.defineProperty(laya.events.EventDispatcher.prototype, "_events", {
                            enumerable: !1,
                            writable: !0
                        }),
                        e = function(t) {
                            function e(t, i, n, s) {
                                e.__super.call(this, t, i, n, s)
                            }
                            return __class(e, "", t),
                            e.prototype.recover = function() {
                                this._id > 0 && (this._id = 0, e._pool.push(this.clear()))
                            },
                            e.create = function(t, i, n, s) {
                                return void 0 === s && (s = !0),
                                e._pool.length ? e._pool.pop().setTo(t, i, n, s) : new e(t, i, n, s)
                            },
                            e._pool = [],
                            e
                        } (Handler)
                    },
                    t
                } (),
                Handler = function() {
                    function t(t, e, i, n) {
                        this.once = !1,
                        this._id = 0,
                        void 0 === n && (n = !1),
                        this.setTo(t, e, i, n)
                    }
                    __class(t, "laya.utils.Handler");
                    var e = t.prototype;
                    return e.setTo = function(e, i, n, s) {
                        return this._id = t._gid++,
                        this.caller = e,
                        this.method = i,
                        this.args = n,
                        this.once = s,
                        this
                    },
                    e.run = function() {
                        if (null == this.method) return null;
                        var t = this._id,
                        e = this.method.apply(this.caller, this.args);
                        return this._id === t && this.once && this.recover(),
                        e
                    },
                    e.runWith = function(t) {
                        if (null == this.method) return null;
                        var e = this._id;
                        if (null == t) var i = this.method.apply(this.caller, this.args);
                        else i = this.args || t.unshift ? this.args ? this.method.apply(this.caller, this.args.concat(t)) : this.method.apply(this.caller, t) : this.method.call(this.caller, t);
                        return this._id === e && this.once && this.recover(),
                        i
                    },
                    e.clear = function() {
                        return this.caller = null,
                        this.method = null,
                        this.args = null,
                        this
                    },
                    e.recover = function() {
                        this._id > 0 && (this._id = 0, t._pool.push(this.clear()))
                    },
                    t.create = function(e, i, n, s) {
                        return void 0 === s && (s = !0),
                        t._pool.length ? t._pool.pop().setTo(e, i, n, s) : new t(e, i, n, s)
                    },
                    t._pool = [],
                    t._gid = 1,
                    t
                } (),
                BitmapFont = function() {
                    function t() {
                        this._texture = null,
                        this._fontCharDic = {},
                        this._fontWidthMap = {},
                        this._complete = null,
                        this._path = null,
                        this._maxWidth = 0,
                        this._spaceWidth = 10,
                        this._padding = null,
                        this.fontSize = 12,
                        this.autoScaleSize = !1,
                        this.letterSpacing = 0
                    }
                    __class(t, "laya.display.BitmapFont");
                    var e = t.prototype;
                    return e.loadFont = function(t, e) {
                        this._path = t,
                        this._complete = e,
                        Laya.loader.load([{
                            url: this._path,
                            type: "xml"
                        },
                        {
                            url: this._path.replace(".fnt", ".png"),
                            type: "image"
                        }], Handler.create(this, this.onLoaded))
                    },
                    e.onLoaded = function() {
                        this.parseFont(Loader.getRes(this._path), Loader.getRes(this._path.replace(".fnt", ".png"))),
                        this._complete && this._complete.run()
                    },
                    e.parseFont = function(t, e) {
                        if (null != t && null != e) {
                            this._texture = e;
                            var i = t.getElementsByTagName("info");
                            this.fontSize = parseInt(i[0].attributes.size.nodeValue);
                            var n = i[0].attributes.padding.nodeValue,
                            s = n.split(",");
                            this._padding = [parseInt(s[0]), parseInt(s[1]), parseInt(s[2]), parseInt(s[3])];
                            var r = t.getElementsByTagName("char"),
                            a = 0;
                            for (a = 0; a < r.length; a++) {
                                var o = r[a].attributes,
                                h = parseInt(o.id.nodeValue),
                                l = parseInt(o.xoffset.nodeValue) / 1,
                                u = parseInt(o.yoffset.nodeValue) / 1,
                                c = parseInt(o.xadvance.nodeValue) / 1,
                                d = new Rectangle;
                                d.x = parseInt(o.x.nodeValue),
                                d.y = parseInt(o.y.nodeValue),
                                d.width = parseInt(o.width.nodeValue),
                                d.height = parseInt(o.height.nodeValue);
                                var _ = Texture.create(e, d.x, d.y, d.width, d.height, l, u);
                                this._maxWidth = Math.max(this._maxWidth, c + this.letterSpacing),
                                this._fontCharDic[h] = _,
                                this._fontWidthMap[h] = c
                            }
                        }
                    },
                    e.getCharTexture = function(t) {
                        return this._fontCharDic[t.charCodeAt(0)]
                    },
                    e.destroy = function() {
                        if (this._texture) {
                            for (var t in this._fontCharDic) {
                                var e = this._fontCharDic[t];
                                e && e.destroy()
                            }
                            this._texture.destroy(),
                            this._fontCharDic = null,
                            this._fontWidthMap = null,
                            this._texture = null
                        }
                    },
                    e.setSpaceWidth = function(t) {
                        this._spaceWidth = t
                    },
                    e.getCharWidth = function(t) {
                        var e = t.charCodeAt(0);
                        return this._fontWidthMap[e] ? this._fontWidthMap[e] + this.letterSpacing: " " == t ? this._spaceWidth + this.letterSpacing: 0
                    },
                    e.getTextWidth = function(t) {
                        for (var e = 0,
                        i = 0,
                        n = t.length; i < n; i++) e += this.getCharWidth(t.charAt(i));
                        return e
                    },
                    e.getMaxWidth = function() {
                        return this._maxWidth
                    },
                    e.getMaxHeight = function() {
                        return this.fontSize
                    },
                    e.drawText = function(t, e, i, n, s, r) {
                        var a, o = this.getTextWidth(t),
                        h = 0;
                        "center" === s && (h = (r - o) / 2),
                        "right" === s && (h = r - o);
                        for (var l = 0,
                        u = 0,
                        c = t.length; u < c; u++)(a = this.getCharTexture(t.charAt(u))) && (e.graphics.drawTexture(a, i + l + h, n), l += this.getCharWidth(t.charAt(u)))
                    },
                    t
                } (),
                Style = function() {
                    function t() {
                        this.alpha = 1,
                        this.visible = !0,
                        this.scrollRect = null,
                        this.blendMode = null,
                        this._type = 0,
                        this._tf = t._TF_EMPTY
                    }
                    __class(t, "laya.display.css.Style");
                    var e = t.prototype;
                    return e.getTransform = function() {
                        return this._tf
                    },
                    e.setTransform = function(e) {
                        this._tf = "none" !== e && e ? e: t._TF_EMPTY
                    },
                    e.setTranslateX = function(e) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.translateX = e
                    },
                    e.setTranslateY = function(e) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.translateY = e
                    },
                    e.setScaleX = function(e) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.scaleX = e
                    },
                    e.setScale = function(e, i) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.scaleX = e,
                        this._tf.scaleY = i
                    },
                    e.setScaleY = function(e) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.scaleY = e
                    },
                    e.setRotate = function(e) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.rotate = e
                    },
                    e.setSkewX = function(e) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.skewX = e
                    },
                    e.setSkewY = function(e) {
                        this._tf === t._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.skewY = e
                    },
                    e.destroy = function() {
                        this.scrollRect = null
                    },
                    e.render = function(t, e, i, n) {},
                    e.getCSSStyle = function() {
                        return CSSStyle.EMPTY
                    },
                    e._enableLayout = function() {
                        return ! 1
                    },
                    __getset(0, e, "scaleX",
                    function() {
                        return this._tf.scaleX
                    },
                    function(t) {
                        this.setScaleX(t)
                    }),
                    __getset(0, e, "transform",
                    function() {
                        return this.getTransform()
                    },
                    function(t) {
                        this.setTransform(t)
                    }),
                    __getset(0, e, "translateX",
                    function() {
                        return this._tf.translateX
                    },
                    function(t) {
                        this.setTranslateX(t)
                    }),
                    __getset(0, e, "translateY",
                    function() {
                        return this._tf.translateY
                    },
                    function(t) {
                        this.setTranslateY(t)
                    }),
                    __getset(0, e, "scaleY",
                    function() {
                        return this._tf.scaleY
                    },
                    function(t) {
                        this.setScaleY(t)
                    }),
                    __getset(0, e, "block",
                    function() {
                        return 0 != (1 & this._type)
                    }),
                    __getset(0, e, "skewY",
                    function() {
                        return this._tf.skewY
                    },
                    function(t) {
                        this.setSkewY(t)
                    }),
                    __getset(0, e, "rotate",
                    function() {
                        return this._tf.rotate
                    },
                    function(t) {
                        this.setRotate(t)
                    }),
                    __getset(0, e, "skewX",
                    function() {
                        return this._tf.skewX
                    },
                    function(t) {
                        this.setSkewX(t)
                    }),
                    __getset(0, e, "paddingLeft",
                    function() {
                        return 0
                    }),
                    __getset(0, e, "paddingTop",
                    function() {
                        return 0
                    }),
                    __getset(0, e, "absolute",
                    function() {
                        return ! 0
                    }),
                    t.__init__ = function() {
                        t._TF_EMPTY = new TransformInfo,
                        t.EMPTY = new t
                    },
                    t.EMPTY = null,
                    t._TF_EMPTY = null,
                    t
                } (),
                Font = function() {
                    function t(e) {
                        this._type = 0,
                        this._weight = 0,
                        this._decoration = null,
                        this._text = null,
                        this.indent = 0,
                        this._color = Color.create(t.defaultColor),
                        this.family = t.defaultFamily,
                        this.stroke = t._STROKE,
                        this.size = t.defaultSize,
                        e && e !== t.EMPTY && e.copyTo(this)
                    }
                    __class(t, "laya.display.css.Font");
                    var e = t.prototype;
                    return e.set = function(t) {
                        this._text = null;
                        for (var e = t.split(" "), i = 0, n = e.length; i < n; i++) {
                            var s = e[i];
                            switch (s) {
                            case "italic":
                                this.italic = !0;
                                continue;
                            case "bold":
                                this.bold = !0;
                                continue
                            }
                            s.indexOf("px") > 0 && (this.size = parseInt(s), this.family = e[i + 1], i++)
                        }
                    },
                    e.toString = function() {
                        return this._text = "",
                        this.italic && (this._text += "italic "),
                        this.bold && (this._text += "bold "),
                        this._text += this.size + "px " + this.family
                    },
                    e.copyTo = function(e) {
                        e._type = this._type,
                        e._text = this._text,
                        e._weight = this._weight,
                        e._color = this._color,
                        e.family = this.family,
                        e.stroke = this.stroke != t._STROKE ? this.stroke.slice() : t._STROKE,
                        e.indent = this.indent,
                        e.size = this.size
                    },
                    __getset(0, e, "password",
                    function() {
                        return 0 != (1024 & this._type)
                    },
                    function(t) {
                        t ? this._type |= 1024 : this._type &= -1025
                    }),
                    __getset(0, e, "color",
                    function() {
                        return this._color.strColor
                    },
                    function(t) {
                        this._color = Color.create(t)
                    }),
                    __getset(0, e, "italic",
                    function() {
                        return 0 != (512 & this._type)
                    },
                    function(t) {
                        t ? this._type |= 512 : this._type &= -513
                    }),
                    __getset(0, e, "bold",
                    function() {
                        return 0 != (2048 & this._type)
                    },
                    function(t) {
                        t ? this._type |= 2048 : this._type &= -2049
                    }),
                    __getset(0, e, "weight",
                    function() {
                        return "" + this._weight
                    },
                    function(t) {
                        var e = 0;
                        switch (t) {
                        case "normal":
                            break;
                        case "bold":
                            this.bold = !0,
                            e = 700;
                            break;
                        case "bolder":
                            e = 800;
                            break;
                        case "lighter":
                            e = 100;
                            break;
                        default:
                            e = parseInt(t)
                        }
                        this._weight = e,
                        this._text = null
                    }),
                    __getset(0, e, "decoration",
                    function() {
                        return this._decoration ? this._decoration.value: "none"
                    },
                    function(t) {
                        var e = t.split(" ");
                        switch (this._decoration || (this._decoration = {}), e[0]) {
                        case "_":
                            this._decoration.type = "underline";
                            break;
                        case "-":
                            this._decoration.type = "line-through";
                            break;
                        case "overline":
                            this._decoration.type = "overline";
                            break;
                        default:
                            this._decoration.type = e[0]
                        }
                        e[1] && (this._decoration.color = Color.create(e)),
                        this._decoration.value = t
                    }),
                    t.__init__ = function() {
                        t.EMPTY = new t(null)
                    },
                    t.EMPTY = null,
                    t.defaultColor = "#000000",
                    t.defaultSize = 12,
                    t.defaultFamily = "Arial",
                    t.defaultFont = "12px Arial",
                    t._STROKE = [0, "#000000"],
                    t._ITALIC = 512,
                    t._PASSWORD = 1024,
                    t._BOLD = 2048,
                    t
                } (),
                TransformInfo = function() {
                    function t() {
                        this.translateX = 0,
                        this.translateY = 0,
                        this.scaleX = 1,
                        this.scaleY = 1,
                        this.rotate = 0,
                        this.skewX = 0,
                        this.skewY = 0
                    }
                    return __class(t, "laya.display.css.TransformInfo"),
                    t
                } (),
                Graphics = function() {
                    function t() {
                        this._one = null,
                        this._cmds = null,
                        this._render = this._renderEmpty,
                        Render.isConchNode && (this._nativeObj = new _conchGraphics, this.id = this._nativeObj.conchID)
                    }
                    __class(t, "laya.display.Graphics");
                    var e = t.prototype;
                    return e.destroy = function() {
                        this.clear(),
                        this._graphicBounds && this._graphicBounds.destroy(),
                        this._graphicBounds = null,
                        this._vectorgraphArray = null,
                        this._sp && (this._sp._renderType = 0),
                        this._sp = null
                    },
                    e.clear = function(e) {
                        if (void 0 === e && (e = !1), e) {
                            var i = this._one;
                            if (this._cmds) {
                                var n = 0,
                                s = this._cmds.length;
                                for (n = 0; n < s; n++) ! (i = this._cmds[n]) || i.callee !== Render._context._drawTexture && i.callee !== Render._context._drawTextureWithTransform || (i[0] = null, t._cache.push(i));
                                this._cmds.length = 0
                            } else i && (!i || i.callee !== Render._context._drawTexture && i.callee !== Render._context._drawTextureWithTransform || (i[0] = null, t._cache.push(i)))
                        } else this._cmds = null;
                        if (this._one = null, this._render = this._renderEmpty, this._sp && (this._sp._renderType &= -2), this._sp && (this._sp._renderType &= -513), this._repaint(), this._vectorgraphArray) {
                            for (n = 0, s = this._vectorgraphArray.length; n < s; n++) VectorGraphManager.getInstance().deleteShape(this._vectorgraphArray[n]);
                            this._vectorgraphArray.length = 0
                        }
                    },
                    e._clearBoundsCache = function() {
                        this._graphicBounds && this._graphicBounds.reset()
                    },
                    e._initGraphicBounds = function() {
                        this._graphicBounds || (this._graphicBounds = new GraphicsBounds, this._graphicBounds._graphics = this)
                    },
                    e._repaint = function() {
                        this._clearBoundsCache(),
                        this._sp && this._sp.repaint()
                    },
                    e._isOnlyOne = function() {
                        return ! this._cmds || 0 === this._cmds.length
                    },
                    e.getBounds = function(t) {
                        return void 0 === t && (t = !1),
                        this._initGraphicBounds(),
                        this._graphicBounds.getBounds(t)
                    },
                    e.getBoundPoints = function(t) {
                        return void 0 === t && (t = !1),
                        this._initGraphicBounds(),
                        this._graphicBounds.getBoundPoints(t)
                    },
                    e._addCmd = function(t) {
                        this._cmds = this._cmds || [],
                        t.callee = t.shift(),
                        this._cmds.push(t)
                    },
                    e.drawTexture = function(e, i, n, s, r, a, o) {
                        if (void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === s && (s = 0), void 0 === r && (r = 0), void 0 === o && (o = 1), e && !(o < .01)) {
                            s || (s = e.sourceWidth),
                            r || (r = e.sourceHeight);
                            var h = s / e.sourceWidth,
                            l = r / e.sourceHeight;
                            if (s = e.width * h, r = e.height * l, !e.loaded || !(s <= 0 || r <= 0)) {
                                if (i += e.offsetX * h, n += e.offsetY * l, this._sp && (this._sp._renderType |= 512), t._cache.length) {
                                    var u = t._cache.pop();
                                    u[0] = e,
                                    u[1] = i,
                                    u[2] = n,
                                    u[3] = s,
                                    u[4] = r,
                                    u[5] = a,
                                    u[6] = o
                                } else u = [e, i, n, s, r, a, o];
                                u.callee = a || 1 != o ? Render._context._drawTextureWithTransform: Render._context._drawTexture,
                                null != this._one || a || 1 != o ? this._saveToCmd(u.callee, u) : (this._one = u, this._render = this._renderOneImg),
                                e.loaded || e.once("loaded", this, this._textureLoaded, [e, u]),
                                this._repaint()
                            }
                        }
                    },
                    e.cleanByTexture = function(t, e, i, n, s) {
                        if (void 0 === n && (n = 0), void 0 === s && (s = 0), !t) return this.clear();
                        if (this._one && this._render === this._renderOneImg) {
                            n || (n = t.sourceWidth),
                            s || (s = t.sourceHeight);
                            var r = n / t.sourceWidth,
                            a = s / t.sourceHeight;
                            n = t.width * r,
                            s = t.height * a,
                            e += t.offsetX * r,
                            i += t.offsetY * a,
                            this._one[0] = t,
                            this._one[1] = e,
                            this._one[2] = i,
                            this._one[3] = n,
                            this._one[4] = s
                        } else this.clear(),
                        t && this.drawTexture(t, e, i, n, s)
                    },
                    e.drawTextures = function(t, e) {
                        t && this._saveToCmd(Render._context._drawTextures, [t, e])
                    },
                    e.fillTexture = function(t, e, i, n, s, r, a) {
                        if (void 0 === n && (n = 0), void 0 === s && (s = 0), void 0 === r && (r = "repeat"), t) {
                            var o = [t, e, i, n, s, r, a || Point.EMPTY, {}];
                            t.loaded || t.once("loaded", this, this._textureLoaded, [t, o]),
                            this._saveToCmd(Render._context._fillTexture, o)
                        }
                    },
                    e._textureLoaded = function(t, e) {
                        e[3] = e[3] || t.width,
                        e[4] = e[4] || t.height,
                        this._repaint()
                    },
                    e._saveToCmd = function(t, e) {
                        return this._sp && (this._sp._renderType |= 512),
                        null == this._one ? (this._one = e, this._render = this._renderOne) : (this._sp && (this._sp._renderType &= -2), this._render = this._renderAll, 0 === (this._cmds || (this._cmds = [])).length && this._cmds.push(this._one), this._cmds.push(e)),
                        e.callee = t,
                        this._repaint(),
                        e
                    },
                    e.clipRect = function(t, e, i, n) {
                        this._saveToCmd(Render._context._clipRect, [t, e, i, n])
                    },
                    e.fillText = function(t, e, i, n, s, r) {
                        this._saveToCmd(Render._context._fillText, [t, e, i, n || Font.defaultFont, s, r])
                    },
                    e.fillBorderText = function(t, e, i, n, s, r, a, o) {
                        this._saveToCmd(Render._context._fillBorderText, [t, e, i, n || Font.defaultFont, s, r, a, o])
                    },
                    e.strokeText = function(t, e, i, n, s, r, a) {
                        this._saveToCmd(Render._context._strokeText, [t, e, i, n || Font.defaultFont, s, r, a])
                    },
                    e.alpha = function(t) {
                        this._saveToCmd(Render._context._alpha, [t])
                    },
                    e.transform = function(t, e, i) {
                        void 0 === e && (e = 0),
                        void 0 === i && (i = 0),
                        this._saveToCmd(Render._context._transform, [t, e, i])
                    },
                    e.rotate = function(t, e, i) {
                        void 0 === e && (e = 0),
                        void 0 === i && (i = 0),
                        this._saveToCmd(Render._context._rotate, [t, e, i])
                    },
                    e.scale = function(t, e, i, n) {
                        void 0 === i && (i = 0),
                        void 0 === n && (n = 0),
                        this._saveToCmd(Render._context._scale, [t, e, i, n])
                    },
                    e.translate = function(t, e) {
                        this._saveToCmd(Render._context._translate, [t, e])
                    },
                    e.save = function() {
                        this._saveToCmd(Render._context._save, [])
                    },
                    e.restore = function() {
                        this._saveToCmd(Render._context._restore, [])
                    },
                    e.replaceText = function(t) {
                        this._repaint();
                        var e = this._cmds;
                        if (e) {
                            for (var i = e.length - 1; i > -1; i--) if (this._isTextCmd(e[i].callee)) return e[i][0].toUpperCase ? e[i][0] = t: e[i][0].setText(t),
                            !0
                        } else if (this._one && this._isTextCmd(this._one.callee)) return this._one[0].toUpperCase ? this._one[0] = t: this._one[0].setText(t),
                        !0;
                        return ! 1
                    },
                    e._isTextCmd = function(t) {
                        return t === Render._context._fillText || t === Render._context._fillBorderText || t === Render._context._strokeText
                    },
                    e.replaceTextColor = function(t) {
                        this._repaint();
                        var e = this._cmds;
                        if (e) for (var i = e.length - 1; i > -1; i--) this._isTextCmd(e[i].callee) && (e[i][4] = t, e[i][0].toUpperCase || (e[i][0].changed = !0));
                        else this._one && this._isTextCmd(this._one.callee) && (this._one[4] = t, this._one[0].toUpperCase || (this._one[0].changed = !0))
                    },
                    e.loadImage = function(t, e, i, n, s, r) {
                        function a(t) {
                            t && (o.drawTexture(t, e, i, n, s), null != r && r.call(o._sp, t))
                        }
                        var o = this;
                        void 0 === e && (e = 0),
                        void 0 === i && (i = 0),
                        void 0 === n && (n = 0),
                        void 0 === s && (s = 0);
                        var h = Loader.getRes(t);
                        h ? a(h) : Laya.loader.load(t, Handler.create(null, a), null, "image")
                    },
                    e._renderEmpty = function(t, e, i, n) {},
                    e._renderAll = function(t, e, i, n) {
                        for (var s, r = this._cmds,
                        a = 0,
                        o = r.length; a < o; a++)(s = r[a]).callee.call(e, i, n, s)
                    },
                    e._renderOne = function(t, e, i, n) {
                        this._one.callee.call(e, i, n, this._one)
                    },
                    e._renderOneImg = function(t, e, i, n) {
                        this._one.callee.call(e, i, n, this._one),
                        2305 !== t._renderType && (t._renderType |= 1)
                    },
                    e.drawLine = function(t, e, i, n, s, r) {
                        void 0 === r && (r = 1);
                        var a = 0;
                        Render.isWebGL && (a = VectorGraphManager.getInstance().getId(), null == this._vectorgraphArray && (this._vectorgraphArray = []), this._vectorgraphArray.push(a));
                        var o = r % 2 == 0 ? 0 : .5,
                        h = [t + o, e + o, i + o, n + o, s, r, a];
                        this._saveToCmd(Render._context._drawLine, h)
                    },
                    e.drawLines = function(t, e, i, n, s) {
                        void 0 === s && (s = 1);
                        var r = 0;
                        if (i && !(i.length < 1)) {
                            Render.isWebGL && (r = VectorGraphManager.getInstance().getId(), null == this._vectorgraphArray && (this._vectorgraphArray = []), this._vectorgraphArray.push(r));
                            var a = s % 2 == 0 ? 0 : .5,
                            o = [t + a, e + a, i, n, s, r];
                            this._saveToCmd(Render._context._drawLines, o)
                        }
                    },
                    e.drawCurves = function(t, e, i, n, s) {
                        void 0 === s && (s = 1);
                        var r = [t, e, i, n, s];
                        this._saveToCmd(Render._context._drawCurves, r)
                    },
                    e.drawRect = function(t, e, i, n, s, r, a) {
                        void 0 === a && (a = 1);
                        var o = r ? a / 2 : 0,
                        h = r ? a: 0,
                        l = [t + o, e + o, i - h, n - h, s, r, a];
                        this._saveToCmd(Render._context._drawRect, l)
                    },
                    e.drawCircle = function(t, e, i, n, s, r) {
                        void 0 === r && (r = 1);
                        var a = s ? r / 2 : 0,
                        o = 0;
                        Render.isWebGL && (o = VectorGraphManager.getInstance().getId(), null == this._vectorgraphArray && (this._vectorgraphArray = []), this._vectorgraphArray.push(o));
                        var h = [t, e, i - a, n, s, r, o];
                        this._saveToCmd(Render._context._drawCircle, h)
                    },
                    e.drawPie = function(t, e, i, n, s, r, a, o) {
                        void 0 === o && (o = 1);
                        var h = a ? o / 2 : 0,
                        l = a ? o: 0,
                        u = 0;
                        Render.isWebGL && (u = VectorGraphManager.getInstance().getId(), null == this._vectorgraphArray && (this._vectorgraphArray = []), this._vectorgraphArray.push(u));
                        var c = [t + h, e + h, i - l, n, s, r, a, o, u];
                        c[3] = Utils.toRadian(n),
                        c[4] = Utils.toRadian(s),
                        this._saveToCmd(Render._context._drawPie, c)
                    },
                    e.drawPoly = function(t, e, i, n, s, r) {
                        void 0 === r && (r = 1);
                        var a = 0;
                        if (Render.isWebGL) {
                            a = VectorGraphManager.getInstance().getId(),
                            null == this._vectorgraphArray && (this._vectorgraphArray = []),
                            this._vectorgraphArray.push(a);
                            var o = !1;
                            o = !(i.length > 6)
                        }
                        var h = s ? r % 2 == 0 ? 0 : .5 : 0,
                        l = [t + h, e + h, i, n, s, r, a, o];
                        this._saveToCmd(Render._context._drawPoly, l)
                    },
                    e.drawPath = function(t, e, i, n, s) {
                        var r = [t, e, i, n, s];
                        this._saveToCmd(Render._context._drawPath, r)
                    },
                    __getset(0, e, "cmds",
                    function() {
                        return this._cmds
                    },
                    function(t) {
                        this._sp && (this._sp._renderType |= 512),
                        this._cmds = t,
                        this._render = this._renderAll,
                        this._repaint()
                    }),
                    t.__init__ = function() {
                        if (Render.isConchNode) {
                            for (var t = laya.display.Graphics.prototype,
                            e = ConchGraphics.prototype,
                            i = ["clear", "destroy", "alpha", "rotate", "transform", "scale", "translate", "save", "restore", "clipRect", "blendMode", "fillText", "fillBorderText", "_fands", "drawRect", "drawCircle", "drawPie", "drawPoly", "drawPath", "drawImageM", "drawLine", "drawLines", "_drawPs", "drawCurves", "replaceText", "replaceTextColor", "_fillImage", "fillTexture", "setSkinMesh", "drawParticle", "drawImageS"], n = 0, s = i.length; n <= s; n++) {
                                var r = i[n];
                                t[r] = e[r]
                            }
                            t._saveToCmd = null,
                            e.drawImageS && (t.drawTextures = function(t, e) {
                                if (t && t.loaded && t.bitmap && t.source) {
                                    var i = t.uv,
                                    n = t.bitmap.width,
                                    s = t.bitmap.height;
                                    this.drawImageS(t.bitmap.source, i[0] * n, i[1] * s, (i[2] - i[0]) * n, (i[5] - i[3]) * s, t.offsetX, t.offsetY, t.width, t.height, e)
                                }
                            }),
                            t.drawTexture = function(t, e, i, n, s, r, a) {
                                if (void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === s && (s = 0), void 0 === a && (a = 1), t) {
                                    if (!t.loaded) return void t.once("loaded", this,
                                    function() {
                                        this.drawTexture(t, e, i, n, s, r)
                                    });
                                    if (t.loaded && t.bitmap && t.source && (n || (n = t.sourceWidth), s || (s = t.sourceHeight), n = n - t.sourceWidth + t.width, s = s - t.sourceHeight + t.height, !(n <= 0 || s <= 0))) {
                                        e += t.offsetX,
                                        i += t.offsetY;
                                        var o = t.uv,
                                        h = t.bitmap.width,
                                        l = t.bitmap.height;
                                        this.drawImageM(t.bitmap.source, o[0] * h, o[1] * l, (o[2] - o[0]) * h, (o[5] - o[3]) * l, e, i, n, s, r, a),
                                        this._repaint()
                                    }
                                }
                            },
                            t.fillTexture = function(t, e, i, n, s, r, a) {
                                if (void 0 === n && (n = 0), void 0 === s && (s = 0), void 0 === r && (r = "repeat"), t && t.loaded) {
                                    var o, h = Render._context.ctx,
                                    l = t.bitmap.width,
                                    u = t.bitmap.height,
                                    c = t.uv;
                                    o = t.uv != Texture.DEF_UV ? h.createPattern(t.bitmap.source, r, c[0] * l, c[1] * u, (c[2] - c[0]) * l, (c[5] - c[3]) * u) : h.createPattern(t.bitmap.source, r);
                                    var d = 0,
                                    _ = 0;
                                    a && (e += a.x % t.width, i += a.y % t.height, d -= a.x % t.width, _ -= a.y % t.height),
                                    this._fillImage(o, e, i, d, _, n, s)
                                }
                            }
                        }
                    },
                    t._cache = [],
                    t
                } (),
                GraphicsBounds = function() {
                    function t() {
                        this._cacheBoundsType = !1
                    }
                    __class(t, "laya.display.GraphicsBounds");
                    var e = t.prototype;
                    return e.destroy = function() {
                        this._graphics = null,
                        this._temp = null,
                        this._rstBoundPoints = null,
                        this._bounds = null
                    },
                    e.reset = function() {
                        this._temp && (this._temp.length = 0)
                    },
                    e.getBounds = function(t) {
                        return void 0 === t && (t = !1),
                        (!this._bounds || !this._temp || this._temp.length < 1 || t != this._cacheBoundsType) && (this._bounds = Rectangle._getWrapRec(this.getBoundPoints(t), this._bounds)),
                        this._cacheBoundsType = t,
                        this._bounds
                    },
                    e.getBoundPoints = function(t) {
                        return void 0 === t && (t = !1),
                        (!this._temp || this._temp.length < 1 || t != this._cacheBoundsType) && (this._temp = this._getCmdPoints(t)),
                        this._cacheBoundsType = t,
                        this._rstBoundPoints = Utils.copyArray(this._rstBoundPoints, this._temp)
                    },
                    e._getCmdPoints = function(e) {
                        void 0 === e && (e = !1);
                        var i, n = Render._context,
                        s = this._graphics.cmds;
                        if (i = this._temp || (this._temp = []), i.length = 0, s || null == this._graphics._one || (t._tempCmds.length = 0, t._tempCmds.push(this._graphics._one), s = t._tempCmds), !s) return i;
                        var r;
                        r = t._tempMatrixArrays,
                        r.length = 0;
                        var a = t._initMatrix;
                        a.identity();
                        for (var o, h, l = t._tempMatrix,
                        u = 0,
                        c = s.length; u < c; u++) switch (o = s[u], o.callee) {
                        case n._save:
                        case 7:
                            r.push(a),
                            a = a.clone();
                            break;
                        case n._restore:
                        case 8:
                            a = r.pop();
                            break;
                        case n._scale:
                        case 5:
                            l.identity(),
                            l.translate( - o[2], -o[3]),
                            l.scale(o[0], o[1]),
                            l.translate(o[2], o[3]),
                            this._switchMatrix(a, l);
                            break;
                        case n._rotate:
                        case 3:
                            l.identity(),
                            l.translate( - o[1], -o[2]),
                            l.rotate(o[0]),
                            l.translate(o[1], o[2]),
                            this._switchMatrix(a, l);
                            break;
                        case n._translate:
                        case 6:
                            l.identity(),
                            l.translate(o[0], o[1]),
                            this._switchMatrix(a, l);
                            break;
                        case n._transform:
                        case 4:
                            l.identity(),
                            l.translate( - o[1], -o[2]),
                            l.concat(o[0]),
                            l.translate(o[1], o[2]),
                            this._switchMatrix(a, l);
                            break;
                        case 16:
                        case 24:
                            t._addPointArrToRst(i, Rectangle._getBoundPointS(o[0], o[1], o[2], o[3]), a);
                            break;
                        case 17:
                            a.copyTo(l),
                            l.concat(o[4]),
                            t._addPointArrToRst(i, Rectangle._getBoundPointS(o[0], o[1], o[2], o[3]), l);
                            break;
                        case n._drawTexture:
                            if (h = o[0], e) o[3] && o[4] ? t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1], o[2], o[3], o[4]), a) : (h = o[0], t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1], o[2], h.width, h.height), a));
                            else {
                                var d = (o[3] || h.sourceWidth) / h.width,
                                _ = (o[4] || h.sourceHeight) / h.height,
                                f = d * h.sourceWidth,
                                p = _ * h.sourceHeight,
                                g = h.offsetX > 0 ? h.offsetX: 0,
                                y = h.offsetY > 0 ? h.offsetY: 0;
                                g *= d,
                                y *= _,
                                t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1] - g, o[2] - y, f, p), a)
                            }
                            break;
                        case n._fillTexture:
                            o[3] && o[4] ? t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1], o[2], o[3], o[4]), a) : (h = o[0], t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1], o[2], h.width, h.height), a));
                            break;
                        case n._drawTextureWithTransform:
                            var v;
                            o[5] ? (a.copyTo(l), l.concat(o[5]), v = l) : v = a,
                            e ? o[3] && o[4] ? t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1], o[2], o[3], o[4]), v) : (h = o[0], t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1], o[2], h.width, h.height), v)) : (h = o[0], d = (o[3] || h.sourceWidth) / h.width, _ = (o[4] || h.sourceHeight) / h.height, f = d * h.sourceWidth, p = _ * h.sourceHeight, g = h.offsetX > 0 ? h.offsetX: 0, y = h.offsetY > 0 ? h.offsetY: 0, g *= d, y *= _, t._addPointArrToRst(i, Rectangle._getBoundPointS(o[1] - g, o[2] - y, f, p), v));
                            break;
                        case n._drawRect:
                        case 13:
                            t._addPointArrToRst(i, Rectangle._getBoundPointS(o[0], o[1], o[2], o[3]), a);
                            break;
                        case n._drawCircle:
                        case n._fillCircle:
                        case 14:
                            t._addPointArrToRst(i, Rectangle._getBoundPointS(o[0] - o[2], o[1] - o[2], o[2] + o[2], o[2] + o[2]), a);
                            break;
                        case n._drawLine:
                        case 20:
                            t._tempPoints.length = 0;
                            var m = NaN;
                            m = .5 * o[5],
                            o[0] == o[2] ? t._tempPoints.push(o[0] + m, o[1], o[2] + m, o[3], o[0] - m, o[1], o[2] - m, o[3]) : o[1] == o[3] ? t._tempPoints.push(o[0], o[1] + m, o[2], o[3] + m, o[0], o[1] - m, o[2], o[3] - m) : t._tempPoints.push(o[0], o[1], o[2], o[3]),
                            t._addPointArrToRst(i, t._tempPoints, a);
                            break;
                        case n._drawCurves:
                        case 22:
                            t._addPointArrToRst(i, Bezier.I.getBezierPoints(o[2]), a, o[0], o[1]);
                            break;
                        case n._drawPoly:
                        case n._drawLines:
                        case 18:
                            t._addPointArrToRst(i, o[2], a, o[0], o[1]);
                            break;
                        case n._drawPath:
                        case 19:
                            t._addPointArrToRst(i, this._getPathPoints(o[2]), a, o[0], o[1]);
                            break;
                        case n._drawPie:
                        case 15:
                            t._addPointArrToRst(i, this._getPiePoints(o[0], o[1], o[2], o[3], o[4]), a)
                        }
                        return i.length > 200 ? i = Utils.copyArray(i, Rectangle._getWrapRec(i)._getBoundPoints()) : i.length > 8 && (i = GrahamScan.scanPList(i)),
                        i
                    },
                    e._switchMatrix = function(t, e) {
                        e.concat(t),
                        e.copyTo(t)
                    },
                    e._getPiePoints = function(e, i, n, s, r) {
                        var a = t._tempPoints;
                        t._tempPoints.length = 0,
                        a.push(e, i);
                        var o = Math.PI / 10,
                        h = NaN;
                        for (h = s; h < r; h += o) a.push(e + n * Math.cos(h), i + n * Math.sin(h));
                        return r != h && a.push(e + n * Math.cos(r), i + n * Math.sin(r)),
                        a
                    },
                    e._getPathPoints = function(e) {
                        var i = 0,
                        n = 0,
                        s = t._tempPoints;
                        s.length = 0,
                        n = e.length;
                        var r;
                        for (i = 0; i < n; i++) r = e[i],
                        r.length > 1 && (s.push(r[1], r[2]), r.length > 3 && s.push(r[3], r[4]));
                        return s
                    },
                    t._addPointArrToRst = function(e, i, n, s, r) {
                        void 0 === s && (s = 0),
                        void 0 === r && (r = 0);
                        var a = 0,
                        o = 0;
                        for (o = i.length, a = 0; a < o; a += 2) t._addPointToRst(e, i[a] + s, i[a + 1] + r, n)
                    },
                    t._addPointToRst = function(t, e, i, n) {
                        var s = Point.TEMP;
                        s.setTo(e || 0, i || 0),
                        n.transformPoint(s),
                        t.push(s.x, s.y)
                    },
                    t._tempPoints = [],
                    t._tempMatrixArrays = [],
                    t._tempCmds = [],
                    __static(t, ["_tempMatrix",
                    function() {
                        return this._tempMatrix = new Matrix
                    },
                    "_initMatrix",
                    function() {
                        return this._initMatrix = new Matrix
                    }]),
                    t
                } (),
                Event = function() {
                    function t() {}
                    __class(t, "laya.events.Event");
                    var e = t.prototype;
                    return e.setTo = function(t, e, i) {
                        return this.type = t,
                        this.currentTarget = e,
                        this.target = i,
                        this
                    },
                    e.stopPropagation = function() {
                        this._stoped = !0
                    },
                    __getset(0, e, "stageY",
                    function() {
                        return Laya.stage.mouseY
                    }),
                    __getset(0, e, "charCode",
                    function() {
                        return this.nativeEvent.charCode
                    }),
                    __getset(0, e, "touches",
                    function() {
                        var t = this.nativeEvent.touches;
                        if (t) for (var e = Laya.stage,
                        i = 0,
                        n = t.length; i < n; i++) {
                            var s = t[i],
                            r = Point.TEMP;
                            r.setTo(s.clientX, s.clientY),
                            e._canvasTransform.invertTransformPoint(r),
                            e.transform.invertTransformPoint(r),
                            s.stageX = r.x,
                            s.stageY = r.y
                        }
                        return t
                    }),
                    __getset(0, e, "keyLocation",
                    function() {
                        return this.nativeEvent.keyLocation
                    }),
                    __getset(0, e, "ctrlKey",
                    function() {
                        return this.nativeEvent.ctrlKey
                    }),
                    __getset(0, e, "altKey",
                    function() {
                        return this.nativeEvent.altKey
                    }),
                    __getset(0, e, "shiftKey",
                    function() {
                        return this.nativeEvent.shiftKey
                    }),
                    __getset(0, e, "stageX",
                    function() {
                        return Laya.stage.mouseX
                    }),
                    t.EMPTY = new t,
                    t.MOUSE_DOWN = "mousedown",
                    t.MOUSE_UP = "mouseup",
                    t.CLICK = "click",
                    t.RIGHT_MOUSE_DOWN = "rightmousedown",
                    t.RIGHT_MOUSE_UP = "rightmouseup",
                    t.RIGHT_CLICK = "rightclick",
                    t.MOUSE_MOVE = "mousemove",
                    t.MOUSE_OVER = "mouseover",
                    t.MOUSE_OUT = "mouseout",
                    t.MOUSE_WHEEL = "mousewheel",
                    t.ROLL_OVER = "mouseover",
                    t.ROLL_OUT = "mouseout",
                    t.DOUBLE_CLICK = "doubleclick",
                    t.CHANGE = "change",
                    t.CHANGED = "changed",
                    t.RESIZE = "resize",
                    t.ADDED = "added",
                    t.REMOVED = "removed",
                    t.DISPLAY = "display",
                    t.UNDISPLAY = "undisplay",
                    t.ERROR = "error",
                    t.COMPLETE = "complete",
                    t.LOADED = "loaded",
                    t.PROGRESS = "progress",
                    t.INPUT = "input",
                    t.RENDER = "render",
                    t.OPEN = "open",
                    t.MESSAGE = "message",
                    t.CLOSE = "close",
                    t.KEY_DOWN = "keydown",
                    t.KEY_PRESS = "keypress",
                    t.KEY_UP = "keyup",
                    t.FRAME = "enterframe",
                    t.DRAG_START = "dragstart",
                    t.DRAG_MOVE = "dragmove",
                    t.DRAG_END = "dragend",
                    t.ENTER = "enter",
                    t.SELECT = "select",
                    t.BLUR = "blur",
                    t.FOCUS = "focus",
                    t.VISIBILITY_CHANGE = "visibilitychange",
                    t.FOCUS_CHANGE = "focuschange",
                    t.PLAYED = "played",
                    t.PAUSED = "paused",
                    t.STOPPED = "stopped",
                    t.START = "start",
                    t.END = "end",
                    t.ENABLE_CHANGED = "enablechanged",
                    t.ACTIVE_IN_HIERARCHY_CHANGED = "activeinhierarchychanged",
                    t.COMPONENT_ADDED = "componentadded",
                    t.COMPONENT_REMOVED = "componentremoved",
                    t.LAYER_CHANGED = "layerchanged",
                    t.HIERARCHY_LOADED = "hierarchyloaded",
                    t.RECOVERING = "recovering",
                    t.RECOVERED = "recovered",
                    t.RELEASED = "released",
                    t.LINK = "link",
                    t.LABEL = "label",
                    t.FULL_SCREEN_CHANGE = "fullscreenchange",
                    t.DEVICE_LOST = "devicelost",
                    t.MESH_CHANGED = "meshchanged",
                    t.MATERIAL_CHANGED = "materialchanged",
                    t.RENDERQUEUE_CHANGED = "renderqueuechanged",
                    t.WORLDMATRIX_NEEDCHANGE = "worldmatrixneedchanged",
                    t.ANIMATION_CHANGED = "animationchanged",
                    t
                } (),
                Keyboard = function() {
                    function t() {}
                    return __class(t, "laya.events.Keyboard"),
                    t.NUMBER_0 = 48,
                    t.NUMBER_1 = 49,
                    t.NUMBER_2 = 50,
                    t.NUMBER_3 = 51,
                    t.NUMBER_4 = 52,
                    t.NUMBER_5 = 53,
                    t.NUMBER_6 = 54,
                    t.NUMBER_7 = 55,
                    t.NUMBER_8 = 56,
                    t.NUMBER_9 = 57,
                    t.A = 65,
                    t.B = 66,
                    t.C = 67,
                    t.D = 68,
                    t.E = 69,
                    t.F = 70,
                    t.G = 71,
                    t.H = 72,
                    t.I = 73,
                    t.J = 74,
                    t.K = 75,
                    t.L = 76,
                    t.M = 77,
                    t.N = 78,
                    t.O = 79,
                    t.P = 80,
                    t.Q = 81,
                    t.R = 82,
                    t.S = 83,
                    t.T = 84,
                    t.U = 85,
                    t.V = 86,
                    t.W = 87,
                    t.X = 88,
                    t.Y = 89,
                    t.Z = 90,
                    t.F1 = 112,
                    t.F2 = 113,
                    t.F3 = 114,
                    t.F4 = 115,
                    t.F5 = 116,
                    t.F6 = 117,
                    t.F7 = 118,
                    t.F8 = 119,
                    t.F9 = 120,
                    t.F10 = 121,
                    t.F11 = 122,
                    t.F12 = 123,
                    t.F13 = 124,
                    t.F14 = 125,
                    t.F15 = 126,
                    t.NUMPAD = 21,
                    t.NUMPAD_0 = 96,
                    t.NUMPAD_1 = 97,
                    t.NUMPAD_2 = 98,
                    t.NUMPAD_3 = 99,
                    t.NUMPAD_4 = 100,
                    t.NUMPAD_5 = 101,
                    t.NUMPAD_6 = 102,
                    t.NUMPAD_7 = 103,
                    t.NUMPAD_8 = 104,
                    t.NUMPAD_9 = 105,
                    t.NUMPAD_ADD = 107,
                    t.NUMPAD_DECIMAL = 110,
                    t.NUMPAD_DIVIDE = 111,
                    t.NUMPAD_ENTER = 108,
                    t.NUMPAD_MULTIPLY = 106,
                    t.NUMPAD_SUBTRACT = 109,
                    t.SEMICOLON = 186,
                    t.EQUAL = 187,
                    t.COMMA = 188,
                    t.MINUS = 189,
                    t.PERIOD = 190,
                    t.SLASH = 191,
                    t.BACKQUOTE = 192,
                    t.LEFTBRACKET = 219,
                    t.BACKSLASH = 220,
                    t.RIGHTBRACKET = 221,
                    t.QUOTE = 222,
                    t.ALTERNATE = 18,
                    t.BACKSPACE = 8,
                    t.CAPS_LOCK = 20,
                    t.COMMAND = 15,
                    t.CONTROL = 17,
                    t.DELETE = 46,
                    t.ENTER = 13,
                    t.ESCAPE = 27,
                    t.PAGE_UP = 33,
                    t.PAGE_DOWN = 34,
                    t.END = 35,
                    t.HOME = 36,
                    t.LEFT = 37,
                    t.UP = 38,
                    t.RIGHT = 39,
                    t.DOWN = 40,
                    t.SHIFT = 16,
                    t.SPACE = 32,
                    t.TAB = 9,
                    t.INSERT = 45,
                    t
                } (),
                KeyBoardManager = function() {
                    function t() {}
                    return __class(t, "laya.events.KeyBoardManager"),
                    t.__init__ = function() {
                        t._addEvent("keydown"),
                        t._addEvent("keypress"),
                        t._addEvent("keyup")
                    },
                    t._addEvent = function(t) {
                        Browser.document.addEventListener(t,
                        function(e) {
                            laya.events.KeyBoardManager._dispatch(e, t)
                        },
                        !0)
                    },
                    t._dispatch = function(e, i) {
                        if (t.enabled) {
                            t._event._stoped = !1,
                            t._event.nativeEvent = e,
                            t._event.keyCode = e.keyCode || e.which || e.charCode,
                            "keydown" === i ? t._pressKeys[t._event.keyCode] = !0 : "keyup" === i && (t._pressKeys[t._event.keyCode] = null);
                            for (var n = Laya.stage.focus && null != Laya.stage.focus.event && Laya.stage.focus.displayedInStage ? Laya.stage.focus: Laya.stage, s = n; s;) s.event(i, t._event.setTo(i, s, n)),
                            s = s.parent
                        }
                    },
                    t.hasKeyDown = function(e) {
                        return t._pressKeys[e]
                    },
                    t._pressKeys = {},
                    t.enabled = !0,
                    __static(t, ["_event",
                    function() {
                        return this._event = new Event
                    }]),
                    t
                } (),
                KeyLocation = function() {
                    function t() {}
                    return __class(t, "laya.events.KeyLocation"),
                    t.STANDARD = 0,
                    t.LEFT = 1,
                    t.RIGHT = 2,
                    t.NUM_PAD = 3,
                    t
                } (),
                MouseManager = function() {
                    function t() {
                        this.mouseX = 0,
                        this.mouseY = 0,
                        this.disableMouseEvent = !1,
                        this.mouseDownTime = 0,
                        this.mouseMoveAccuracy = 2,
                        this._stage = null,
                        this._target = null,
                        this._lastMoveTimer = 0,
                        this._isLeftMouse = !1,
                        this._eventList = [],
                        this._touchIDs = {},
                        this._id = 1,
                        this._tTouchID = 0,
                        this._event = new Event,
                        this._matrix = new Matrix,
                        this._point = new Point,
                        this._rect = new Rectangle,
                        this._prePoint = new Point,
                        this._curTouchID = NaN
                    }
                    __class(t, "laya.events.MouseManager");
                    var e = t.prototype;
                    return e.__init__ = function(e, i) {
                        this._stage = e;
                        var n = this,
                        s = this._eventList;
                        i.oncontextmenu = function(e) {
                            if (t.enabled) return ! 1
                        },
                        i.addEventListener("mousedown",
                        function(e) {
                            t.enabled && (Browser.onIE || e.preventDefault(), s.push(e), n.mouseDownTime = Browser.now())
                        }),
                        i.addEventListener("mouseup",
                        function(e) {
                            t.enabled && (e.preventDefault(), s.push(e), n.mouseDownTime = -Browser.now())
                        },
                        !0),
                        i.addEventListener("mousemove",
                        function(e) {
                            if (t.enabled) {
                                e.preventDefault();
                                var i = Browser.now();
                                if (i - n._lastMoveTimer < 10) return;
                                n._lastMoveTimer = i,
                                s.push(e)
                            }
                        },
                        !0),
                        i.addEventListener("mouseout",
                        function(e) {
                            t.enabled && s.push(e)
                        }),
                        i.addEventListener("mouseover",
                        function(e) {
                            t.enabled && s.push(e)
                        }),
                        i.addEventListener("touchstart",
                        function(e) {
                            t.enabled && (s.push(e), Input.isInputting || e.preventDefault(), n.mouseDownTime = Browser.now())
                        }),
                        i.addEventListener("touchend",
                        function(e) {
                            t.enabled && (Input.isInputting || e.preventDefault(), s.push(e), n.mouseDownTime = -Browser.now())
                        },
                        !0),
                        i.addEventListener("touchmove",
                        function(e) {
                            t.enabled && (e.preventDefault(), s.push(e))
                        },
                        !0),
                        i.addEventListener("mousewheel",
                        function(e) {
                            t.enabled && s.push(e)
                        }),
                        i.addEventListener("DOMMouseScroll",
                        function(e) {
                            t.enabled && s.push(e)
                        })
                    },
                    e.initEvent = function(t, e) {
                        var i = this;
                        i._event._stoped = !1,
                        i._event.nativeEvent = e || t,
                        i._target = null,
                        this._point.setTo(t.pageX || t.clientX, t.pageY || t.clientY),
                        this._stage._canvasTransform.invertTransformPoint(this._point),
                        i.mouseX = this._point.x,
                        i.mouseY = this._point.y,
                        i._event.touchId = t.identifier || 0,
                        this._tTouchID = i._event.touchId;
                        var n;
                        n = TouchManager.I._event,
                        n._stoped = !1,
                        n.nativeEvent = i._event.nativeEvent,
                        n.touchId = i._event.touchId
                    },
                    e.checkMouseWheel = function(t) {
                        this._event.delta = t.wheelDelta ? .025 * t.wheelDelta: -t.detail;
                        for (var e = TouchManager.I.getLastOvers(), i = 0, n = e.length; i < n; i++) {
                            var s = e[i];
                            s.event("mousewheel", this._event.setTo("mousewheel", s, this._target))
                        }
                    },
                    e.onMouseMove = function(t) {
                        TouchManager.I.onMouseMove(t, this._tTouchID)
                    },
                    e.onMouseDown = function(t) {
                        if (Input.isInputting && Laya.stage.focus && Laya.stage.focus.focus && !Laya.stage.focus.contains(this._target)) {
                            var e = Laya.stage.focus._tf || Laya.stage.focus,
                            i = t._tf || t;
                            i instanceof laya.display.Input && i.multiline == e.multiline ? e._focusOut() : e.focus = !1
                        }
                        TouchManager.I.onMouseDown(t, this._tTouchID, this._isLeftMouse)
                    },
                    e.onMouseUp = function(t) {
                        TouchManager.I.onMouseUp(t, this._tTouchID, this._isLeftMouse)
                    },
                    e.check = function(t, e, i, n) {
                        this._point.setTo(e, i),
                        t.fromParentPoint(this._point),
                        e = this._point.x,
                        i = this._point.y;
                        var s = t.scrollRect;
                        if (s && (this._rect.setTo(s.x, s.y, s.width, s.height), !this._rect.contains(e, i))) return ! 1;
                        if (!this.disableMouseEvent) {
                            if (t.hitTestPrior && !t.mouseThrough && !this.hitTest(t, e, i)) return ! 1;
                            for (var r = t._childs.length - 1; r > -1; r--) {
                                var a = t._childs[r];
                                if (!a.destroyed && a.mouseEnabled && a.visible && this.check(a, e, i, n)) return ! 0
                            }
                        }
                        var o = !(!t.hitTestPrior || t.mouseThrough || this.disableMouseEvent) || this.hitTest(t, e, i);
                        return o ? (this._target = t, n.call(this, t)) : n === this.onMouseUp && t === this._stage && (this._target = this._stage, n.call(this, this._target)),
                        o
                    },
                    e.hitTest = function(t, e, i) {
                        var n = !1;
                        if (t.scrollRect && (e -= t.scrollRect.x, i -= t.scrollRect.y), t.hitArea instanceof laya.utils.HitArea) return t.hitArea.isHit(e, i);
                        if (t.width > 0 && t.height > 0 || t.mouseThrough || t.hitArea) if (t.mouseThrough) n = t.getGraphicBounds().contains(e, i);
                        else {
                            var s = this._rect;
                            t.hitArea ? s = t.hitArea: s.setTo(0, 0, t.width, t.height),
                            n = s.contains(e, i)
                        }
                        return n
                    },
                    e.runEvent = function() {
                        var e = this._eventList.length;
                        if (e) {
                            for (var i = this,
                            n = 0; n < e;) {
                                var s = this._eventList[n];
                                switch ("mousemove" !== s.type && (this._prePoint.x = this._prePoint.y = -1e6), s.type) {
                                case "mousedown":
                                    this._touchIDs[0] = this._id++,
                                    t._isTouchRespond ? t._isTouchRespond = !1 : (i._isLeftMouse = 0 === s.button, i.initEvent(s), i.check(i._stage, i.mouseX, i.mouseY, i.onMouseDown));
                                    break;
                                case "mouseup":
                                    i._isLeftMouse = 0 === s.button,
                                    i.initEvent(s),
                                    i.check(i._stage, i.mouseX, i.mouseY, i.onMouseUp);
                                    break;
                                case "mousemove":
                                    Math.abs(this._prePoint.x - s.clientX) + Math.abs(this._prePoint.y - s.clientY) >= this.mouseMoveAccuracy && (this._prePoint.x = s.clientX, this._prePoint.y = s.clientY, i.initEvent(s), i.check(i._stage, i.mouseX, i.mouseY, i.onMouseMove));
                                    break;
                                case "touchstart":
                                    t._isTouchRespond = !0,
                                    i._isLeftMouse = !0;
                                    for (var r = s.changedTouches,
                                    a = 0,
                                    o = r.length; a < o; a++) {
                                        var h = r[a]; (t.multiTouchEnabled || isNaN(this._curTouchID)) && (this._curTouchID = h.identifier, this._id % 200 == 0 && (this._touchIDs = {}), this._touchIDs[h.identifier] = this._id++, i.initEvent(h, s), i.check(i._stage, i.mouseX, i.mouseY, i.onMouseDown))
                                    }
                                    break;
                                case "touchend":
                                    t._isTouchRespond = !0,
                                    i._isLeftMouse = !0;
                                    var l = s.changedTouches;
                                    for (a = 0, o = l.length; a < o; a++) if (h = l[a], t.multiTouchEnabled || h.identifier == this._curTouchID) {
                                        this._curTouchID = NaN,
                                        i.initEvent(h, s);
                                        var u = !1;
                                        u = i.check(i._stage, i.mouseX, i.mouseY, i.onMouseUp),
                                        u || i.onMouseUp(null)
                                    }
                                    break;
                                case "touchmove":
                                    var c = s.changedTouches;
                                    for (a = 0, o = c.length; a < o; a++) h = c[a],
                                    (t.multiTouchEnabled || h.identifier == this._curTouchID) && (i.initEvent(h, s), i.check(i._stage, i.mouseX, i.mouseY, i.onMouseMove));
                                    break;
                                case "wheel":
                                case "mousewheel":
                                case "DOMMouseScroll":
                                    i.checkMouseWheel(s);
                                    break;
                                case "mouseout":
                                    i._stage.event("mouseout", i._event.setTo("mouseout", i._stage, i._stage));
                                    break;
                                case "mouseover":
                                    i._stage.event("mouseover", i._event.setTo("mouseover", i._stage, i._stage))
                                }
                                n++
                            }
                            this._eventList.length = 0
                        }
                    },
                    t.enabled = !0,
                    t.multiTouchEnabled = !0,
                    t._isTouchRespond = !1,
                    __static(t, ["instance",
                    function() {
                        return this.instance = new t
                    }]),
                    t
                } (),
                TouchManager = function() {
                    function t() {
                        this.preOvers = [],
                        this.preDowns = [],
                        this.preRightDowns = [],
                        this.enable = !0,
                        this._lastClickTime = 0,
                        this._event = new Event
                    }
                    __class(t, "laya.events.TouchManager");
                    var e = t.prototype;
                    return e.getTouchFromArr = function(t, e) {
                        var i = 0,
                        n = 0;
                        n = e.length;
                        var s;
                        for (i = 0; i < n; i++) if (s = e[i], s.id == t) return s;
                        return null
                    },
                    e.removeTouchFromArr = function(t, e) {
                        var i = 0;
                        for (i = e.length - 1; i >= 0; i--) e[i].id == t && e.splice(i, 1)
                    },
                    e.createTouchO = function(t, e) {
                        var i;
                        return i = Pool.getItem("TouchData") || {},
                        i.id = e,
                        i.tar = t,
                        i
                    },
                    e.onMouseDown = function(e, i, n) {
                        if (void 0 === n && (n = !1), this.enable) {
                            var s, r, a;
                            s = this.getTouchFromArr(i, this.preOvers),
                            a = this.getEles(e, null, t._tEleArr),
                            s ? s.tar = e: (r = this.createTouchO(e, i), this.preOvers.push(r)),
                            Browser.onMobile && this.sendEvents(a, "mouseover", i);
                            var o;
                            o = n ? this.preDowns: this.preRightDowns,
                            s = this.getTouchFromArr(i, o),
                            s ? s.tar = e: (r = this.createTouchO(e, i), o.push(r)),
                            this.sendEvents(a, n ? "mousedown": "rightmousedown", i)
                        }
                    },
                    e.sendEvents = function(t, e, i) {
                        void 0 === i && (i = 0);
                        var n = 0,
                        s = 0;
                        s = t.length,
                        this._event._stoped = !1;
                        var r;
                        r = t[0];
                        var a;
                        for (n = 0; n < s; n++) {
                            if (a = t[n], a.destroyed) return;
                            if (a.event(e, this._event.setTo(e, a, r)), this._event._stoped) break
                        }
                    },
                    e.getEles = function(t, e, i) {
                        for (i ? i.length = 0 : i = []; t && t != e;) i.push(t),
                        t = t.parent;
                        return i
                    },
                    e.checkMouseOutAndOverOfMove = function(e, i, n) {
                        if (void 0 === n && (n = 0), i != e) {
                            var s, r, a = 0,
                            o = 0;
                            if (i.contains(e)) r = this.getEles(e, i, t._tEleArr),
                            this.sendEvents(r, "mouseover", n);
                            else if (e.contains(i)) r = this.getEles(i, e, t._tEleArr),
                            this.sendEvents(r, "mouseout", n);
                            else {
                                r = t._tEleArr,
                                r.length = 0;
                                var h;
                                h = this.getEles(i, null, t._oldArr);
                                var l;
                                l = this.getEles(e, null, t._newArr),
                                o = h.length;
                                var u = 0;
                                for (a = 0; a < o; a++) {
                                    if (s = h[a], (u = l.indexOf(s)) >= 0) {
                                        l.splice(u, l.length - u);
                                        break
                                    }
                                    r.push(s)
                                }
                                r.length > 0 && this.sendEvents(r, "mouseout", n),
                                l.length > 0 && this.sendEvents(l, "mouseover", n)
                            }
                        }
                    },
                    e.onMouseMove = function(e, i) {
                        if (this.enable) {
                            var n;
                            n = this.getTouchFromArr(i, this.preOvers);
                            var s;
                            n ? (this.checkMouseOutAndOverOfMove(e, n.tar), n.tar = e, s = this.getEles(e, null, t._tEleArr)) : (s = this.getEles(e, null, t._tEleArr), this.sendEvents(s, "mouseover", i), this.preOvers.push(this.createTouchO(e, i))),
                            this.sendEvents(s, "mousemove", i)
                        }
                    },
                    e.getLastOvers = function() {
                        return t._tEleArr.length = 0,
                        this.preOvers.length > 0 && this.preOvers[0].tar ? this.getEles(this.preOvers[0].tar, null, t._tEleArr) : (t._tEleArr.push(Laya.stage), t._tEleArr)
                    },
                    e.onMouseUp = function(e, i, n) {
                        if (void 0 === n && (n = !1), this.enable) {
                            var s, r, a, o, h, l = 0,
                            u = 0,
                            c = Browser.onMobile;
                            r = this.getEles(e, null, t._tEleArr),
                            this.sendEvents(r, n ? "mouseup": "rightmouseup", i);
                            var d;
                            if (d = n ? this.preDowns: this.preRightDowns, s = this.getTouchFromArr(i, d)) {
                                var _ = !1,
                                f = Browser.now();
                                if (_ = f - this._lastClickTime < 300, this._lastClickTime = f, e == s.tar) h = r;
                                else for (a = this.getEles(s.tar, null, t._oldArr), h = t._newArr, h.length = 0, u = a.length, l = 0; l < u; l++) o = a[l],
                                r.indexOf(o) >= 0 && h.push(o);
                                h.length > 0 && this.sendEvents(h, n ? "click": "rightclick", i),
                                n && _ && this.sendEvents(h, "doubleclick", i),
                                this.removeTouchFromArr(i, d),
                                s.tar = null,
                                Pool.recover("TouchData", s)
                            } else;
                            s = this.getTouchFromArr(i, this.preOvers),
                            s && c && (h = this.getEles(s.tar, null, h), h && h.length > 0 && this.sendEvents(h, "mouseout", i), this.removeTouchFromArr(i, this.preOvers), s.tar = null, Pool.recover("TouchData", s))
                        }
                    },
                    t._oldArr = [],
                    t._newArr = [],
                    t._tEleArr = [],
                    __static(t, ["I",
                    function() {
                        return this.I = new t
                    }]),
                    t
                } (),
                Filter = function() {
                    function t() {
                        this._action = null
                    }
                    __class(t, "laya.filters.Filter");
                    var e = t.prototype;
                    return Laya.imps(e, {
                        "laya.filters.IFilter": !0
                    }),
                    e.callNative = function(t) {},
                    __getset(0, e, "type",
                    function() {
                        return - 1
                    }),
                    __getset(0, e, "action",
                    function() {
                        return this._action
                    }),
                    t.BLUR = 16,
                    t.COLOR = 32,
                    t.GLOW = 8,
                    t._filterStart = null,
                    t._filterEnd = null,
                    t._EndTarget = null,
                    t._recycleScope = null,
                    t._filter = null,
                    t._useSrc = null,
                    t._endSrc = null,
                    t._useOut = null,
                    t._endOut = null,
                    t
                } (),
                ColorFilterAction = function() {
                    function t() {
                        this.data = null
                    }
                    __class(t, "laya.filters.ColorFilterAction");
                    var e = t.prototype;
                    return Laya.imps(e, {
                        "laya.filters.IFilterAction": !0
                    }),
                    e.apply = function(t) {
                        var e = t.ctx.ctx,
                        i = t.ctx.ctx.canvas;
                        if (0 == i.width || 0 == i.height) return i;
                        for (var n, s = e.getImageData(0, 0, i.width, i.height), r = s.data, a = 0, o = r.length; a < o; a += 4) n = this.getColor(r[a], r[a + 1], r[a + 2], r[a + 3]),
                        0 != r[a + 3] && (r[a] = n[0], r[a + 1] = n[1], r[a + 2] = n[2], r[a + 3] = n[3]);
                        return e.putImageData(s, 0, 0),
                        t
                    },
                    e.getColor = function(t, e, i, n) {
                        var s = [];
                        if (this.data._mat && this.data._alpha) {
                            var r = this.data._mat,
                            a = this.data._alpha;
                            s[0] = r[0] * t + r[1] * e + r[2] * i + r[3] * n + a[0],
                            s[1] = r[4] * t + r[5] * e + r[6] * i + r[7] * n + a[1],
                            s[2] = r[8] * t + r[9] * e + r[10] * i + r[11] * n + a[2],
                            s[3] = r[12] * t + r[13] * e + r[14] * i + r[15] * n + a[3]
                        }
                        return s
                    },
                    t
                } (),
                Arith = function() {
                    function t() {}
                    return __class(t, "laya.maths.Arith"),
                    t.formatR = function(t) {
                        return t > Math.PI && (t -= 2 * Math.PI),
                        t < -Math.PI && (t += 2 * Math.PI),
                        t
                    },
                    t.isPOT = function(t, e) {
                        return t > 0 && 0 == (t & t - 1) && e > 0 && 0 == (e & e - 1)
                    },
                    t.setMatToArray = function(t, e) {
                        t.a,
                        t.b,
                        t.c,
                        t.d,
                        t.tx,
                        t.ty,
                        e[0] = t.a,
                        e[1] = t.b,
                        e[4] = t.c,
                        e[5] = t.d,
                        e[12] = t.tx,
                        e[13] = t.ty
                    },
                    t
                } (),
                Bezier = function() {
                    function t() {
                        this._controlPoints = [new Point, new Point, new Point],
                        this._calFun = this.getPoint2
                    }
                    __class(t, "laya.maths.Bezier");
                    var e = t.prototype;
                    return e._switchPoint = function(t, e) {
                        var i = this._controlPoints.shift();
                        i.setTo(t, e),
                        this._controlPoints.push(i)
                    },
                    e.getPoint2 = function(t, e) {
                        var i = this._controlPoints[0],
                        n = this._controlPoints[1],
                        s = this._controlPoints[2],
                        r = Math.pow(1 - t, 2) * i.x + 2 * t * (1 - t) * n.x + Math.pow(t, 2) * s.x,
                        a = Math.pow(1 - t, 2) * i.y + 2 * t * (1 - t) * n.y + Math.pow(t, 2) * s.y;
                        e.push(r, a)
                    },
                    e.getPoint3 = function(t, e) {
                        var i = this._controlPoints[0],
                        n = this._controlPoints[1],
                        s = this._controlPoints[2],
                        r = this._controlPoints[3],
                        a = Math.pow(1 - t, 3) * i.x + 3 * n.x * t * (1 - t) * (1 - t) + 3 * s.x * t * t * (1 - t) + r.x * Math.pow(t, 3),
                        o = Math.pow(1 - t, 3) * i.y + 3 * n.y * t * (1 - t) * (1 - t) + 3 * s.y * t * t * (1 - t) + r.y * Math.pow(t, 3);
                        e.push(a, o)
                    },
                    e.insertPoints = function(t, e) {
                        var i = NaN;
                        t = t > 0 ? t: 5;
                        var n = NaN;
                        for (n = 1 / t, i = 0; i <= 1; i += n) this._calFun(i, e)
                    },
                    e.getBezierPoints = function(t, e, i) {
                        void 0 === e && (e = 5),
                        void 0 === i && (i = 2);
                        var n = 0,
                        s = 0;
                        if ((s = t.length) < 2 * (i + 1)) return [];
                        var r;
                        switch (r = [], i) {
                        case 2:
                            this._calFun = this.getPoint2;
                            break;
                        case 3:
                            this._calFun = this.getPoint3;
                            break;
                        default:
                            return []
                        }
                        for (; this._controlPoints.length <= i;) this._controlPoints.push(new Point);
                        for (n = 0; n < 2 * i; n += 2) this._switchPoint(t[n], t[n + 1]);
                        for (n = 2 * i; n < s; n += 2) this._switchPoint(t[n], t[n + 1]),
                        n / 2 % i == 0 && this.insertPoints(e, r);
                        return r
                    },
                    __static(t, ["I",
                    function() {
                        return this.I = new t
                    }]),
                    t
                } (),
                GrahamScan = function() {
                    function t() {}
                    return __class(t, "laya.maths.GrahamScan"),
                    t.multiply = function(t, e, i) {
                        return (t.x - i.x) * (e.y - i.y) - (e.x - i.x) * (t.y - i.y)
                    },
                    t.dis = function(t, e) {
                        return (t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y)
                    },
                    t._getPoints = function(e, i, n) {
                        for (void 0 === i && (i = !1), t._mPointList || (t._mPointList = []); t._mPointList.length < e;) t._mPointList.push(new Point);
                        return n || (n = []),
                        n.length = 0,
                        i ? t.getFrom(n, t._mPointList, e) : t.getFromR(n, t._mPointList, e),
                        n
                    },
                    t.getFrom = function(t, e, i) {
                        var n = 0;
                        for (n = 0; n < i; n++) t.push(e[n]);
                        return t
                    },
                    t.getFromR = function(t, e, i) {
                        var n = 0;
                        for (n = 0; n < i; n++) t.push(e.pop());
                        return t
                    },
                    t.pListToPointList = function(e, i) {
                        void 0 === i && (i = !1);
                        var n = 0,
                        s = e.length / 2,
                        r = t._getPoints(s, i, t._tempPointList);
                        for (n = 0; n < s; n++) r[n].setTo(e[n + n], e[n + n + 1]);
                        return r
                    },
                    t.pointListToPlist = function(e) {
                        var i, n = 0,
                        s = e.length,
                        r = t._temPList;
                        for (r.length = 0, n = 0; n < s; n++) i = e[n],
                        r.push(i.x, i.y);
                        return r
                    },
                    t.scanPList = function(e) {
                        return Utils.copyArray(e, t.pointListToPlist(t.scan(t.pListToPointList(e, !0))))
                    },
                    t.scan = function(e) {
                        var i, n, s, r = 0,
                        a = 0,
                        o = 0,
                        h = e.length,
                        l = {};
                        for (n = t._temArr, n.length = 0, h = e.length, r = h - 1; r >= 0; r--) i = e[r],
                        s = i.x + "_" + i.y,
                        l.hasOwnProperty(s) || (l[s] = !0, n.push(i));
                        for (h = n.length, Utils.copyArray(e, n), r = 1; r < h; r++)(e[r].y < e[o].y || e[r].y == e[o].y && e[r].x < e[o].x) && (o = r);
                        for (i = e[0], e[0] = e[o], e[o] = i, r = 1; r < h - 1; r++) {
                            for (o = r, a = r + 1; a < h; a++)(t.multiply(e[a], e[o], e[0]) > 0 || 0 == t.multiply(e[a], e[o], e[0]) && t.dis(e[0], e[a]) < t.dis(e[0], e[o])) && (o = a);
                            i = e[r],
                            e[r] = e[o],
                            e[o] = i
                        }
                        if (n = t._temArr, n.length = 0, e.length < 3) return Utils.copyArray(n, e);
                        for (n.push(e[0], e[1], e[2]), r = 3; r < h; r++) {
                            for (; n.length >= 2 && t.multiply(e[r], n[n.length - 1], n[n.length - 2]) >= 0;) n.pop();
                            e[r] && n.push(e[r])
                        }
                        return n
                    },
                    t._mPointList = null,
                    t._tempPointList = [],
                    t._temPList = [],
                    t._temArr = [],
                    t
                } (),
                MathUtil = function() {
                    function t() {}
                    return __class(t, "laya.maths.MathUtil"),
                    t.subtractVector3 = function(t, e, i) {
                        i[0] = t[0] - e[0],
                        i[1] = t[1] - e[1],
                        i[2] = t[2] - e[2]
                    },
                    t.lerp = function(t, e, i) {
                        return t * (1 - i) + e * i
                    },
                    t.scaleVector3 = function(t, e, i) {
                        i[0] = t[0] * e,
                        i[1] = t[1] * e,
                        i[2] = t[2] * e
                    },
                    t.lerpVector3 = function(t, e, i, n) {
                        var s = t[0],
                        r = t[1],
                        a = t[2];
                        n[0] = s + i * (e[0] - s),
                        n[1] = r + i * (e[1] - r),
                        n[2] = a + i * (e[2] - a)
                    },
                    t.lerpVector4 = function(t, e, i, n) {
                        var s = t[0],
                        r = t[1],
                        a = t[2],
                        o = t[3];
                        n[0] = s + i * (e[0] - s),
                        n[1] = r + i * (e[1] - r),
                        n[2] = a + i * (e[2] - a),
                        n[3] = o + i * (e[3] - o)
                    },
                    t.slerpQuaternionArray = function(t, e, i, n, s, r, a) {
                        var o, h, l, u, c, d = t[e + 0],
                        _ = t[e + 1],
                        f = t[e + 2],
                        p = t[e + 3],
                        g = i[n + 0],
                        y = i[n + 1],
                        v = i[n + 2],
                        m = i[n + 3];
                        return h = d * g + _ * y + f * v + p * m,
                        h < 0 && (h = -h, g = -g, y = -y, v = -v, m = -m),
                        1 - h > 1e-6 ? (o = Math.acos(h), l = Math.sin(o), u = Math.sin((1 - s) * o) / l, c = Math.sin(s * o) / l) : (u = 1 - s, c = s),
                        r[a + 0] = u * d + c * g,
                        r[a + 1] = u * _ + c * y,
                        r[a + 2] = u * f + c * v,
                        r[a + 3] = u * p + c * m,
                        r
                    },
                    t.getRotation = function(t, e, i, n) {
                        return Math.atan2(n - e, i - t) / Math.PI * 180
                    },
                    t.sortBigFirst = function(t, e) {
                        return t == e ? 0 : e > t ? 1 : -1
                    },
                    t.sortSmallFirst = function(t, e) {
                        return t == e ? 0 : e > t ? -1 : 1
                    },
                    t.sortNumBigFirst = function(t, e) {
                        return parseFloat(e) - parseFloat(t)
                    },
                    t.sortNumSmallFirst = function(t, e) {
                        return parseFloat(t) - parseFloat(e)
                    },
                    t.sortByKey = function(e, i, n) {
                        void 0 === i && (i = !1),
                        void 0 === n && (n = !0);
                        var s;
                        return s = i ? n ? t.sortNumBigFirst: t.sortBigFirst: n ? t.sortNumSmallFirst: t.sortSmallFirst,
                        function(t, i) {
                            return s(t[e], i[e])
                        }
                    },
                    t
                } (),
                Matrix = function() {
                    function t(t, e, i, n, s, r) {
                        this.inPool = !1,
                        this.bTransform = !1,
                        void 0 === t && (t = 1),
                        void 0 === e && (e = 0),
                        void 0 === i && (i = 0),
                        void 0 === n && (n = 1),
                        void 0 === s && (s = 0),
                        void 0 === r && (r = 0),
                        this.a = t,
                        this.b = e,
                        this.c = i,
                        this.d = n,
                        this.tx = s,
                        this.ty = r,
                        this._checkTransform()
                    }
                    __class(t, "laya.maths.Matrix");
                    var e = t.prototype;
                    return e.identity = function() {
                        return this.a = this.d = 1,
                        this.b = this.tx = this.ty = this.c = 0,
                        this.bTransform = !1,
                        this
                    },
                    e._checkTransform = function() {
                        return this.bTransform = 1 !== this.a || 0 !== this.b || 0 !== this.c || 1 !== this.d
                    },
                    e.setTranslate = function(t, e) {
                        return this.tx = t,
                        this.ty = e,
                        this
                    },
                    e.translate = function(t, e) {
                        return this.tx += t,
                        this.ty += e,
                        this
                    },
                    e.scale = function(t, e) {
                        this.a *= t,
                        this.d *= e,
                        this.c *= t,
                        this.b *= e,
                        this.tx *= t,
                        this.ty *= e,
                        this.bTransform = !0
                    },
                    e.rotate = function(t) {
                        var e = Math.cos(t),
                        i = Math.sin(t),
                        n = this.a,
                        s = this.c,
                        r = this.tx;
                        this.a = n * e - this.b * i,
                        this.b = n * i + this.b * e,
                        this.c = s * e - this.d * i,
                        this.d = s * i + this.d * e,
                        this.tx = r * e - this.ty * i,
                        this.ty = r * i + this.ty * e,
                        this.bTransform = !0
                    },
                    e.skew = function(t, e) {
                        var i = Math.tan(t),
                        n = Math.tan(e),
                        s = this.a,
                        r = this.b;
                        return this.a += n * this.c,
                        this.b += n * this.d,
                        this.c += i * s,
                        this.d += i * r,
                        this
                    },
                    e.invertTransformPoint = function(t) {
                        var e = this.a,
                        i = this.b,
                        n = this.c,
                        s = this.d,
                        r = this.tx,
                        a = e * s - i * n,
                        o = s / a,
                        h = -i / a,
                        l = -n / a,
                        u = e / a,
                        c = (n * this.ty - s * r) / a,
                        d = -(e * this.ty - i * r) / a;
                        return t.setTo(o * t.x + l * t.y + c, h * t.x + u * t.y + d)
                    },
                    e.transformPoint = function(t) {
                        return t.setTo(this.a * t.x + this.c * t.y + this.tx, this.b * t.x + this.d * t.y + this.ty)
                    },
                    e.transformPointN = function(t) {
                        return t.setTo(this.a * t.x + this.c * t.y, this.b * t.x + this.d * t.y)
                    },
                    e.transformPointArray = function(t, e) {
                        for (var i = t.length,
                        n = 0; n < i; n += 2) {
                            var s = t[n],
                            r = t[n + 1];
                            e[n] = this.a * s + this.c * r + this.tx,
                            e[n + 1] = this.b * s + this.d * r + this.ty
                        }
                        return e
                    },
                    e.transformPointArrayScale = function(t, e) {
                        for (var i = t.length,
                        n = 0; n < i; n += 2) {
                            var s = t[n],
                            r = t[n + 1];
                            e[n] = this.a * s + this.c * r,
                            e[n + 1] = this.b * s + this.d * r
                        }
                        return e
                    },
                    e.getScaleX = function() {
                        return 0 === this.b ? this.a: Math.sqrt(this.a * this.a + this.b * this.b)
                    },
                    e.getScaleY = function() {
                        return 0 === this.c ? this.d: Math.sqrt(this.c * this.c + this.d * this.d)
                    },
                    e.invert = function() {
                        var t = this.a,
                        e = this.b,
                        i = this.c,
                        n = this.d,
                        s = this.tx,
                        r = t * n - e * i;
                        return this.a = n / r,
                        this.b = -e / r,
                        this.c = -i / r,
                        this.d = t / r,
                        this.tx = (i * this.ty - n * s) / r,
                        this.ty = -(t * this.ty - e * s) / r,
                        this
                    },
                    e.setTo = function(t, e, i, n, s, r) {
                        return this.a = t,
                        this.b = e,
                        this.c = i,
                        this.d = n,
                        this.tx = s,
                        this.ty = r,
                        this
                    },
                    e.concat = function(t) {
                        var e = this.a,
                        i = this.c,
                        n = this.tx;
                        return this.a = e * t.a + this.b * t.c,
                        this.b = e * t.b + this.b * t.d,
                        this.c = i * t.a + this.d * t.c,
                        this.d = i * t.b + this.d * t.d,
                        this.tx = n * t.a + this.ty * t.c + t.tx,
                        this.ty = n * t.b + this.ty * t.d + t.ty,
                        this
                    },
                    e.scaleEx = function(t, e) {
                        var i = this.a,
                        n = this.b,
                        s = this.c,
                        r = this.d;
                        0 !== n || 0 !== s ? (this.a = t * i, this.b = t * n, this.c = e * s, this.d = e * r) : (this.a = t * i, this.b = 0 * r, this.c = 0 * i, this.d = e * r),
                        this.bTransform = !0
                    },
                    e.rotateEx = function(t) {
                        var e = Math.cos(t),
                        i = Math.sin(t),
                        n = this.a,
                        s = this.b,
                        r = this.c,
                        a = this.d;
                        0 !== s || 0 !== r ? (this.a = e * n + i * r, this.b = e * s + i * a, this.c = -i * n + e * r, this.d = -i * s + e * a) : (this.a = e * n, this.b = i * a, this.c = -i * n, this.d = e * a),
                        this.bTransform = !0
                    },
                    e.clone = function() {
                        var e = t.create();
                        return e.a = this.a,
                        e.b = this.b,
                        e.c = this.c,
                        e.d = this.d,
                        e.tx = this.tx,
                        e.ty = this.ty,
                        e.bTransform = this.bTransform,
                        e
                    },
                    e.copyTo = function(t) {
                        return t.a = this.a,
                        t.b = this.b,
                        t.c = this.c,
                        t.d = this.d,
                        t.tx = this.tx,
                        t.ty = this.ty,
                        t.bTransform = this.bTransform,
                        t
                    },
                    e.toString = function() {
                        return this.a + "," + this.b + "," + this.c + "," + this.d + "," + this.tx + "," + this.ty
                    },
                    e.destroy = function() {
                        if (!this.inPool) {
                            var e = t._cache;
                            this.inPool = !0,
                            e._length || (e._length = 0),
                            e[e._length++] = this,
                            this.a = this.d = 1,
                            this.b = this.c = this.tx = this.ty = 0,
                            this.bTransform = !1
                        }
                    },
                    t.mul = function(t, e, i) {
                        var n = t.a,
                        s = t.b,
                        r = t.c,
                        a = t.d,
                        o = t.tx,
                        h = t.ty,
                        l = e.a,
                        u = e.b,
                        c = e.c,
                        d = e.d,
                        _ = e.tx,
                        f = e.ty;
                        return 0 !== u || 0 !== c ? (i.a = n * l + s * c, i.b = n * u + s * d, i.c = r * l + a * c, i.d = r * u + a * d, i.tx = l * o + c * h + _, i.ty = u * o + d * h + f) : (i.a = n * l, i.b = s * d, i.c = r * l, i.d = a * d, i.tx = l * o + _, i.ty = d * h + f),
                        i
                    },
                    t.mul16 = function(t, e, i) {
                        var n = t.a,
                        s = t.b,
                        r = t.c,
                        a = t.d,
                        o = t.tx,
                        h = t.ty,
                        l = e.a,
                        u = e.b,
                        c = e.c,
                        d = e.d,
                        _ = e.tx,
                        f = e.ty;
                        return 0 !== u || 0 !== c ? (i[0] = n * l + s * c, i[1] = n * u + s * d, i[4] = r * l + a * c, i[5] = r * u + a * d, i[12] = l * o + c * h + _, i[13] = u * o + d * h + f) : (i[0] = n * l, i[1] = s * d, i[4] = r * l, i[5] = a * d, i[12] = l * o + _, i[13] = d * h + f),
                        i
                    },
                    t.mulPre = function(t, e, i, n, s, r, a, o) {
                        var h = t.a,
                        l = t.b,
                        u = t.c,
                        c = t.d,
                        d = t.tx,
                        _ = t.ty;
                        return 0 !== i || 0 !== n ? (o.a = h * e + l * n, o.b = h * i + l * s, o.c = u * e + c * n, o.d = u * i + c * s, o.tx = e * d + n * _ + r, o.ty = i * d + s * _ + a) : (o.a = h * e, o.b = l * s, o.c = u * e, o.d = c * s, o.tx = e * d + r, o.ty = s * _ + a),
                        o
                    },
                    t.mulPos = function(t, e, i, n, s, r, a, o) {
                        var h = t.a,
                        l = t.b,
                        u = t.c,
                        c = t.d,
                        d = t.tx,
                        _ = t.ty;
                        return 0 !== l || 0 !== u ? (o.a = e * h + i * u, o.b = e * l + i * c, o.c = n * h + s * u, o.d = n * l + s * c, o.tx = h * r + u * a + d, o.ty = l * r + c * a + _) : (o.a = e * h, o.b = i * c, o.c = n * h, o.d = s * c, o.tx = h * r + d, o.ty = c * a + _),
                        o
                    },
                    t.preMul = function(t, e, i) {
                        var n = t.a,
                        s = t.b,
                        r = t.c,
                        a = t.d,
                        o = e.a,
                        h = e.b,
                        l = e.c,
                        u = e.d,
                        c = e.tx,
                        d = e.ty;
                        return i.a = o * n,
                        i.b = i.c = 0,
                        i.d = u * a,
                        i.tx = c * n + t.tx,
                        i.ty = d * a + t.ty,
                        0 === h && 0 === l && 0 === s && 0 === r || (i.a += h * r, i.d += l * s, i.b += o * s + h * a, i.c += l * n + u * r, i.tx += d * r, i.ty += c * s),
                        i
                    },
                    t.preMulXY = function(t, e, i, n) {
                        var s = t.a,
                        r = t.b,
                        a = t.c,
                        o = t.d;
                        return n.a = s,
                        n.b = r,
                        n.c = a,
                        n.d = o,
                        n.tx = e * s + t.tx + i * a,
                        n.ty = i * o + t.ty + e * r,
                        n
                    },
                    t.create = function() {
                        var e = t._cache,
                        i = e._length ? e[--e._length] : new t;
                        return i.inPool = !1,
                        i
                    },
                    t.EMPTY = new t,
                    t.TEMP = new t,
                    t._cache = [],
                    t
                } (),
                Point = function() {
                    function t(t, e) {
                        void 0 === t && (t = 0),
                        void 0 === e && (e = 0),
                        this.x = t,
                        this.y = e
                    }
                    __class(t, "laya.maths.Point");
                    var e = t.prototype;
                    return e.setTo = function(t, e) {
                        return this.x = t,
                        this.y = e,
                        this
                    },
                    e.distance = function(t, e) {
                        return Math.sqrt((this.x - t) * (this.x - t) + (this.y - e) * (this.y - e))
                    },
                    e.toString = function() {
                        return this.x + "," + this.y
                    },
                    e.normalize = function() {
                        var t = Math.sqrt(this.x * this.x + this.y * this.y);
                        if (t > 0) {
                            var e = 1 / t;
                            this.x *= e,
                            this.y *= e
                        }
                    },
                    t.TEMP = new t,
                    t.EMPTY = new t,
                    t
                } (),
                Rectangle = function() {
                    function t(t, e, i, n) {
                        void 0 === t && (t = 0),
                        void 0 === e && (e = 0),
                        void 0 === i && (i = 0),
                        void 0 === n && (n = 0),
                        this.x = t,
                        this.y = e,
                        this.width = i,
                        this.height = n
                    }
                    __class(t, "laya.maths.Rectangle");
                    var e = t.prototype;
                    return e.setTo = function(t, e, i, n) {
                        return this.x = t,
                        this.y = e,
                        this.width = i,
                        this.height = n,
                        this
                    },
                    e.copyFrom = function(t) {
                        return this.x = t.x,
                        this.y = t.y,
                        this.width = t.width,
                        this.height = t.height,
                        this
                    },
                    e.contains = function(t, e) {
                        return ! (this.width <= 0 || this.height <= 0) && (t >= this.x && t < this.right && e >= this.y && e < this.bottom)
                    },
                    e.intersects = function(t) {
                        return ! (t.x > this.x + this.width || t.x + t.width < this.x || t.y > this.y + this.height || t.y + t.height < this.y)
                    },
                    e.intersection = function(e, i) {
                        return this.intersects(e) ? (i || (i = new t), i.x = Math.max(this.x, e.x), i.y = Math.max(this.y, e.y), i.width = Math.min(this.right, e.right) - i.x, i.height = Math.min(this.bottom, e.bottom) - i.y, i) : null
                    },
                    e.union = function(e, i) {
                        return i || (i = new t),
                        this.clone(i),
                        e.width <= 0 || e.height <= 0 ? i: (i.addPoint(e.x, e.y), i.addPoint(e.right, e.bottom), this)
                    },
                    e.clone = function(e) {
                        return e || (e = new t),
                        e.x = this.x,
                        e.y = this.y,
                        e.width = this.width,
                        e.height = this.height,
                        e
                    },
                    e.toString = function() {
                        return this.x + "," + this.y + "," + this.width + "," + this.height
                    },
                    e.equals = function(t) {
                        return ! (!t || t.x !== this.x || t.y !== this.y || t.width !== this.width || t.height !== this.height)
                    },
                    e.addPoint = function(t, e) {
                        return this.x > t && (this.width += this.x - t, this.x = t),
                        this.y > e && (this.height += this.y - e, this.y = e),
                        this.width < t - this.x && (this.width = t - this.x),
                        this.height < e - this.y && (this.height = e - this.y),
                        this
                    },
                    e._getBoundPoints = function() {
                        var e = t._temB;
                        return e.length = 0,
                        0 == this.width || 0 == this.height ? e: (e.push(this.x, this.y, this.x + this.width, this.y, this.x, this.y + this.height, this.x + this.width, this.y + this.height), e)
                    },
                    e.isEmpty = function() {
                        return this.width <= 0 || this.height <= 0
                    },
                    __getset(0, e, "right",
                    function() {
                        return this.x + this.width
                    }),
                    __getset(0, e, "bottom",
                    function() {
                        return this.y + this.height
                    }),
                    t._getBoundPointS = function(e, i, n, s) {
                        var r = t._temA;
                        return r.length = 0,
                        0 == n || 0 == s ? r: (r.push(e, i, e + n, i, e, i + s, e + n, i + s), r)
                    },
                    t._getWrapRec = function(e, i) {
                        if (!e || e.length < 1) return i ? i.setTo(0, 0, 0, 0) : t.TEMP.setTo(0, 0, 0, 0);
                        i = i || new t;
                        var n, s, r, a, o, h = e.length,
                        l = Point.TEMP;
                        for (s = a = 99999, r = o = -s, n = 0; n < h; n += 2) l.x = e[n],
                        l.y = e[n + 1],
                        s = s < l.x ? s: l.x,
                        a = a < l.y ? a: l.y,
                        r = r > l.x ? r: l.x,
                        o = o > l.y ? o: l.y;
                        return i.setTo(s, a, r - s, o - a)
                    },
                    t.EMPTY = new t,
                    t.TEMP = new t,
                    t._temB = [],
                    t._temA = [],
                    t
                } (),
                SoundManager = function() {
                    function t() {}
                    return __class(t, "laya.media.SoundManager"),
                    __getset(1, t, "autoStopMusic",
                    function() {
                        return t._autoStopMusic
                    },
                    function(e) {
                        Laya.stage.off("blur", null, t._stageOnBlur),
                        Laya.stage.off("focus", null, t._stageOnFocus),
                        Laya.stage.off("visibilitychange", null, t._visibilityChange),
                        t._autoStopMusic = e,
                        e && (Laya.stage.on("blur", null, t._stageOnBlur), Laya.stage.on("focus", null, t._stageOnFocus), Laya.stage.on("visibilitychange", null, t._visibilityChange))
                    }),
                    __getset(1, t, "muted",
                    function() {
                        return t._muted
                    },
                    function(e) {
                        e && t.stopAllSound(),
                        t.musicMuted = e,
                        t._muted = e
                    }),
                    __getset(1, t, "musicMuted",
                    function() {
                        return t._musicMuted
                    },
                    function(e) {
                        e ? (t._tMusic && t.stopSound(t._tMusic), t._musicMuted = e) : (t._musicMuted = e, t._tMusic && t.playMusic(t._tMusic))
                    }),
                    __getset(1, t, "soundMuted",
                    function() {
                        return t._soundMuted
                    },
                    function(e) {
                        t._soundMuted = e
                    }),
                    t.addChannel = function(e) {
                        t._channels.indexOf(e) >= 0 || t._channels.push(e)
                    },
                    t.removeChannel = function(e) {
                        var i = 0;
                        for (i = t._channels.length - 1; i >= 0; i--) t._channels[i] == e && t._channels.splice(i, 1)
                    },
                    t._visibilityChange = function() {
                        Laya.stage.isVisibility ? t._stageOnFocus() : t._stageOnBlur()
                    },
                    t._stageOnBlur = function() {
                        t._isActive = !1,
                        t._musicChannel && (t._musicChannel.isStopped || (t._blurPaused = !0, t._musicLoops = t._musicChannel.loops, t._musicCompleteHandler = t._musicChannel.completeHandler, t._musicPosition = t._musicChannel.position, t._musicChannel.stop(), Laya.stage.once("mousedown", null, t._stageOnFocus))),
                        t.stopAllSound()
                    },
                    t._stageOnFocus = function() {
                        t._isActive = !0,
                        Laya.stage.off("mousedown", null, t._stageOnFocus),
                        t._blurPaused && (t._tMusic && t.playMusic(t._tMusic, t._musicLoops, t._musicCompleteHandler, t._musicPosition), t._blurPaused = !1)
                    },
                    t.playSound = function(e, i, n, s, r) {
                        if (void 0 === i && (i = 1), void 0 === r && (r = 0), !t._isActive) return null;
                        if (t._muted) return null;
                        if ((e = URL.formatURL(e)) == t._tMusic) {
                            if (t._musicMuted) return null
                        } else {
                            if (Render.isConchApp) {
                                var a = Utils.getFileExtension(e);
                                if ("wav" != a && "ogg" != a) return alert("The sound only supports wav or ogg format,for optimal performance reason,please refer to the official website document."),
                                null
                            }
                            if (t._soundMuted) return null
                        }
                        var o = Laya.loader.getRes(e);
                        s || (s = t._soundClass),
                        o || (o = new s, o.load(e), Loader.cacheRes(e, o));
                        var h;
                        return h = o.play(r, i),
                        h.url = e,
                        h.volume = e == t._tMusic ? t.musicVolume: t.soundVolume,
                        h.completeHandler = n,
                        h
                    },
                    t.destroySound = function(t) {
                        var e = Laya.loader.getRes(t);
                        e && (Loader.clearRes(t), e.dispose())
                    },
                    t.playMusic = function(e, i, n, s) {
                        return void 0 === i && (i = 0),
                        void 0 === s && (s = 0),
                        e = URL.formatURL(e),
                        t._tMusic = e,
                        t._musicChannel && t._musicChannel.stop(),
                        t._musicChannel = t.playSound(e, i, n, null, s)
                    },
                    t.stopSound = function(e) {
                        e = URL.formatURL(e);
                        var i, n = 0;
                        for (n = t._channels.length - 1; n >= 0; n--) i = t._channels[n],
                        i.url == e && i.stop()
                    },
                    t.stopAll = function() {
                        t._tMusic = null;
                        var e, i = 0;
                        for (i = t._channels.length - 1; i >= 0; i--) e = t._channels[i],
                        e.stop()
                    },
                    t.stopAllSound = function() {
                        var e, i = 0;
                        for (i = t._channels.length - 1; i >= 0; i--) e = t._channels[i],
                        e.url != t._tMusic && e.stop()
                    },
                    t.stopMusic = function() {
                        t._tMusic = null,
                        t._musicChannel && t._musicChannel.stop()
                    },
                    t.setSoundVolume = function(e, i) {
                        if (i) i = URL.formatURL(i),
                        t._setVolume(i, e);
                        else {
                            t.soundVolume = e;
                            var n, s = 0;
                            for (s = t._channels.length - 1; s >= 0; s--) n = t._channels[s],
                            n.url != t._tMusic && (n.volume = e)
                        }
                    },
                    t.setMusicVolume = function(e) {
                        t.musicVolume = e,
                        t._setVolume(t._tMusic, e)
                    },
                    t._setVolume = function(e, i) {
                        e = URL.formatURL(e);
                        var n, s = 0;
                        for (s = t._channels.length - 1; s >= 0; s--) n = t._channels[s],
                        n.url == e && (n.volume = i)
                    },
                    t.musicVolume = 1,
                    t.soundVolume = 1,
                    t.playbackRate = 1,
                    t._muted = !1,
                    t._soundMuted = !1,
                    t._musicMuted = !1,
                    t._tMusic = null,
                    t._musicChannel = null,
                    t._channels = [],
                    t._autoStopMusic = !1,
                    t._blurPaused = !1,
                    t._isActive = !0,
                    t._musicLoops = 0,
                    t._musicPosition = 0,
                    t._musicCompleteHandler = null,
                    t._soundClass = null,
                    t
                } (),
                LocalStorage = function() {
                    function t() {}
                    var e;
                    return __class(t, "laya.net.LocalStorage"),
                    t.__init__ = function() {
                        t._baseClass || (t._baseClass = e, e.init()),
                        t.items = t._baseClass.items,
                        t.support = t._baseClass.support
                    },
                    t.setItem = function(e, i) {
                        t._baseClass.setItem(e, i)
                    },
                    t.getItem = function(e) {
                        return t._baseClass.getItem(e)
                    },
                    t.setJSON = function(e, i) {
                        t._baseClass.setJSON(e, i)
                    },
                    t.getJSON = function(e) {
                        return t._baseClass.getJSON(e)
                    },
                    t.removeItem = function(e) {
                        t._baseClass.removeItem(e)
                    },
                    t.clear = function() {
                        t._baseClass.clear()
                    },
                    t._baseClass = null,
                    t.items = null,
                    t.support = !1,
                    t.__init$ = function() {
                        e = function() {
                            function t() {}
                            return __class(t, ""),
                            t.init = function() {
                                try {
                                    t.items = window.localStorage,
                                    t.setItem("laya", "1"),
                                    t.removeItem("laya"),
                                    t.support = !0
                                } catch(t) {}
                                t.support || console.log("LocalStorage is not supprot or browser is private mode.")
                            },
                            t.setItem = function(e, i) {
                                try {
                                    t.support && t.items.setItem(e, i)
                                } catch(t) {
                                    console.warn("set localStorage failed", t)
                                }
                            },
                            t.getItem = function(e) {
                                return t.support ? t.items.getItem(e) : null
                            },
                            t.setJSON = function(e, i) {
                                try {
                                    t.support && t.items.setItem(e, JSON.stringify(i))
                                } catch(t) {
                                    console.warn("set localStorage failed", t)
                                }
                            },
                            t.getJSON = function(e) {
                                return JSON.parse(t.support ? t.items.getItem(e) : null)
                            },
                            t.removeItem = function(e) {
                                t.support && t.items.removeItem(e)
                            },
                            t.clear = function() {
                                t.support && t.items.clear()
                            },
                            t.items = null,
                            t.support = !1,
                            t
                        } ()
                    },
                    t
                } (),
                ResourceVersion = function() {
                    function t() {}
                    return __class(t, "laya.net.ResourceVersion"),
                    t.enable = function(e, i) {
                        Laya.loader.load(e, Handler.create(null, t.onManifestLoaded, [i]), null, "json"),
                        URL.customFormat = t.addVersionPrefix
                    },
                    t.onManifestLoaded = function(e, i) {
                        t.manifest = i,
                        e.run(),
                        i || console.warn("资源版本清单文件不存在，不使用资源版本管理。忽略ERR_FILE_NOT_FOUND错误。")
                    },
                    t.addVersionPrefix = function(e) {
                        return t.manifest && t.manifest[e] ? t.manifest[e] + "/" + e: e
                    },
                    t.manifest = null,
                    t
                } (),
                URL = function() {
                    function t(e) {
                        this._url = null,
                        this._path = null,
                        this._url = t.formatURL(e),
                        this._path = t.getPath(e)
                    }
                    __class(t, "laya.net.URL");
                    var e = t.prototype;
                    return __getset(0, e, "path",
                    function() {
                        return this._path
                    }),
                    __getset(0, e, "url",
                    function() {
                        return this._url
                    }),
                    t.formatURL = function(e, i) {
                        if (!e) return "null path";
                        if (e.indexOf(":") > 0) return e;
                        null != t.customFormat && (e = t.customFormat(e, i));
                        var n = e.charAt(0);
                        if ("." === n) return t.formatRelativePath((i || t.basePath) + e);
                        if ("~" === n) return t.rootPath + e.substring(1);
                        if ("d" === n) {
                            if (0 === e.indexOf("data:image")) return e
                        } else if ("/" === n) return e;
                        return (i || t.basePath) + e
                    },
                    t.formatRelativePath = function(t) {
                        for (var e = t.split("/"), i = 0, n = e.length; i < n; i++)".." == e[i] && (e.splice(i - 1, 2), i -= 2);
                        return e.join("/")
                    },
                    t.isAbsolute = function(t) {
                        return t.indexOf(":") > 0 || "/" == t.charAt(0)
                    },
                    t.getPath = function(t) {
                        var e = t.lastIndexOf("/");
                        return e > 0 ? t.substr(0, e + 1) : ""
                    },
                    t.getFileName = function(t) {
                        var e = t.lastIndexOf("/");
                        return e > 0 ? t.substr(e + 1) : t
                    },
                    t.version = {},
                    t.basePath = "",
                    t.rootPath = "",
                    t.customFormat = function(e) {
                        var i = t.version[e];
                        return ! Render.isConchApp && i && (e += "?v=" + i),
                        e
                    },
                    t
                } (),
                Render = function() {
                    function t(e, i) {
                        function n() {
                            Laya.stage._loop(),
                            Browser.window.requestAnimationFrame(n)
                        }
                        this._timeId = 0;
                        var s = t._mainCanvas.source.style;
                        s.position = "absolute",
                        s.top = s.left = "0px",
                        s.background = "#000000",
                        t._mainCanvas.source.id = "layaCanvas";
                        var r = laya.renders.Render.isWebGL;
                        t._mainCanvas.source.width = e,
                        t._mainCanvas.source.height = i,
                        r && t.WebGL.init(t._mainCanvas, e, i),
                        t._context = new RenderContext(e, i, r ? null: t._mainCanvas),
                        t._context.ctx.setIsMainContext(),
                        Browser.window.requestAnimationFrame(n),
                        Laya.stage.on("visibilitychange", this, this._onVisibilitychange)
                    }
                    __class(t, "laya.renders.Render");
                    var e = t.prototype;
                    return e._onVisibilitychange = function() {
                        Laya.stage.isVisibility ? 0 != this._timeId && Browser.window.clearInterval(this._timeId) : this._timeId = Browser.window.setInterval(this._enterFrame, 1e3)
                    },
                    e._enterFrame = function(t) {
                        Laya.stage._loop()
                    },
                    __getset(1, t, "context",
                    function() {
                        return t._context
                    }),
                    __getset(1, t, "canvas",
                    function() {
                        return t._mainCanvas.source
                    }),
                    t._context = null,
                    t._mainCanvas = null,
                    t.WebGL = null,
                    t.isConchNode = !1,
                    t.isConchApp = !1,
                    t.isConchWebGL = !1,
                    t.isWebGL = !1,
                    t.is3DMode = !1,
                    t.optimizeTextureMemory = function(t, e) {
                        return ! 0
                    },
                    t.__init$ = function() {
                        window.ConchRenderType = window.ConchRenderType || 1,
                        window.ConchRenderType |= window.conch ? 4 : 0,
                        t.isConchNode = 5 == (5 & window.ConchRenderType),
                        t.isConchApp = 4 == (4 & window.ConchRenderType),
                        t.isConchWebGL = 6 == window.ConchRenderType
                    },
                    t
                } (),
                RenderContext = function() {
                    function t(e, i, n) {
                        this.x = 0,
                        this.y = 0,
                        this._drawTexture = function(t, e, i) {
                            i[0].loaded && this.ctx.drawTexture(i[0], i[1], i[2], i[3], i[4], t, e)
                        },
                        this._fillTexture = function(t, e, i) {
                            i[0].loaded && this.ctx.fillTexture(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5], i[6], i[7])
                        },
                        this._drawTextureWithTransform = function(t, e, i) {
                            i[0].loaded && this.ctx.drawTextureWithTransform(i[0], i[1], i[2], i[3], i[4], i[5], t, e, i[6])
                        },
                        this._fillQuadrangle = function(t, e, i) {
                            this.ctx.fillQuadrangle(i[0], i[1], i[2], i[3], i[4])
                        },
                        this._drawRect = function(t, e, i) {
                            var n = this.ctx;
                            null != i[4] && (n.fillStyle = i[4], n.fillRect(t + i[0], e + i[1], i[2], i[3], null)),
                            null != i[5] && (n.strokeStyle = i[5], n.lineWidth = i[6], n.strokeRect(t + i[0], e + i[1], i[2], i[3], i[6]))
                        },
                        this._drawPie = function(t, e, i) {
                            var n = this.ctx;
                            Render.isWebGL && n.setPathId(i[8]),
                            n.beginPath(),
                            Render.isWebGL ? (n.movePath(i[0] + t, i[1] + e), n.moveTo(0, 0)) : n.moveTo(t + i[0], e + i[1]),
                            n.arc(t + i[0], e + i[1], i[2], i[3], i[4]),
                            n.closePath(),
                            this._fillAndStroke(i[5], i[6], i[7], !0)
                        },
                        this._clipRect = function(t, e, i) {
                            this.ctx.clipRect(t + i[0], e + i[1], i[2], i[3])
                        },
                        this._fillRect = function(t, e, i) {
                            this.ctx.fillRect(t + i[0], e + i[1], i[2], i[3], i[4])
                        },
                        this._drawCircle = function(e, i, n) {
                            var s = this.ctx;
                            Render.isWebGL && s.setPathId(n[6]),
                            Stat.drawCall++,
                            s.beginPath(),
                            Render.isWebGL && s.movePath(n[0] + e, n[1] + i),
                            s.arc(n[0] + e, n[1] + i, n[2], 0, t.PI2),
                            s.closePath(),
                            this._fillAndStroke(n[3], n[4], n[5], !0)
                        },
                        this._fillCircle = function(e, i, n) {
                            Stat.drawCall++;
                            var s = this.ctx;
                            s.beginPath(),
                            s.fillStyle = n[3],
                            s.arc(n[0] + e, n[1] + i, n[2], 0, t.PI2),
                            s.fill()
                        },
                        this._setShader = function(t, e, i) {
                            this.ctx.setShader(i[0])
                        },
                        this._drawLine = function(t, e, i) {
                            var n = this.ctx;
                            Render.isWebGL && n.setPathId(i[6]),
                            n.beginPath(),
                            n.strokeStyle = i[4],
                            n.lineWidth = i[5],
                            Render.isWebGL ? (n.movePath(t, e), n.moveTo(i[0], i[1]), n.lineTo(i[2], i[3])) : (n.moveTo(t + i[0], e + i[1]), n.lineTo(t + i[2], e + i[3])),
                            n.stroke()
                        },
                        this._drawLines = function(t, e, i) {
                            var n = this.ctx;
                            Render.isWebGL && n.setPathId(i[5]),
                            n.beginPath(),
                            t += i[0],
                            e += i[1],
                            Render.isWebGL && n.movePath(t, e),
                            n.strokeStyle = i[3],
                            n.lineWidth = i[4];
                            var s = i[2],
                            r = 2,
                            a = s.length;
                            if (Render.isWebGL) for (n.moveTo(s[0], s[1]); r < a;) n.lineTo(s[r++], s[r++]);
                            else for (n.moveTo(t + s[0], e + s[1]); r < a;) n.lineTo(t + s[r++], e + s[r++]);
                            n.stroke()
                        },
                        this._drawLinesWebGL = function(t, e, i) {
                            this.ctx.drawLines(t + this.x + i[0], e + this.y + i[1], i[2], i[3], i[4])
                        },
                        this._drawCurves = function(t, e, i) {
                            this.ctx.drawCurves(t, e, i)
                        },
                        this._draw = function(t, e, i) {
                            i[0].call(null, this, t, e)
                        },
                        this._transformByMatrix = function(t, e, i) {
                            this.ctx.transformByMatrix(i[0])
                        },
                        this._setTransform = function(t, e, i) {
                            this.ctx.setTransform(i[0], i[1], i[2], i[3], i[4], i[5])
                        },
                        this._setTransformByMatrix = function(t, e, i) {
                            this.ctx.setTransformByMatrix(i[0])
                        },
                        this._save = function(t, e, i) {
                            this.ctx.save()
                        },
                        this._restore = function(t, e, i) {
                            this.ctx.restore()
                        },
                        this._translate = function(t, e, i) {
                            this.ctx.translate(i[0], i[1])
                        },
                        this._transform = function(t, e, i) {
                            this.ctx.translate(i[1] + t, i[2] + e);
                            var n = i[0];
                            this.ctx.transform(n.a, n.b, n.c, n.d, n.tx, n.ty),
                            this.ctx.translate( - t - i[1], -e - i[2])
                        },
                        this._rotate = function(t, e, i) {
                            this.ctx.translate(i[1] + t, i[2] + e),
                            this.ctx.rotate(i[0]),
                            this.ctx.translate( - t - i[1], -e - i[2])
                        },
                        this._scale = function(t, e, i) {
                            this.ctx.translate(i[2] + t, i[3] + e),
                            this.ctx.scale(i[0], i[1]),
                            this.ctx.translate( - t - i[2], -e - i[3])
                        },
                        this._alpha = function(t, e, i) {
                            this.ctx.globalAlpha *= i[0]
                        },
                        this._setAlpha = function(t, e, i) {
                            this.ctx.globalAlpha = i[0]
                        },
                        this._fillText = function(t, e, i) {
                            this.ctx.fillText(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5])
                        },
                        this._strokeText = function(t, e, i) {
                            this.ctx.strokeText(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5], i[6])
                        },
                        this._fillBorderText = function(t, e, i) {
                            this.ctx.fillBorderText(i[0], i[1] + t, i[2] + e, i[3], i[4], i[5], i[6], i[7])
                        },
                        this._blendMode = function(t, e, i) {
                            this.ctx.globalCompositeOperation = i[0]
                        },
                        this._beginClip = function(t, e, i) {
                            this.ctx.beginClip && this.ctx.beginClip(t + i[0], e + i[1], i[2], i[3])
                        },
                        this._setIBVB = function(t, e, i) {
                            this.ctx.setIBVB(i[0] + t, i[1] + e, i[2], i[3], i[4], i[5], i[6], i[7])
                        },
                        this._fillTrangles = function(t, e, i) {
                            this.ctx.fillTrangles(i[0], i[1] + t, i[2] + e, i[3], i[4])
                        },
                        this._drawPath = function(t, e, i) {
                            var n = this.ctx;
                            Render.isWebGL && n.setPathId( - 1),
                            n.beginPath(),
                            t += i[0],
                            e += i[1];
                            for (var s = i[2], r = 0, a = s.length; r < a; r++) {
                                var o = s[r];
                                switch (o[0]) {
                                case "moveTo":
                                    n.moveTo(t + o[1], e + o[2]);
                                    break;
                                case "lineTo":
                                    n.lineTo(t + o[1], e + o[2]);
                                    break;
                                case "arcTo":
                                    n.arcTo(t + o[1], e + o[2], t + o[3], e + o[4], o[5]);
                                    break;
                                case "closePath":
                                    n.closePath()
                                }
                            }
                            var h = i[3];
                            null != h && (n.fillStyle = h.fillStyle, n.fill());
                            var l = i[4];
                            null != l && (n.strokeStyle = l.strokeStyle, n.lineWidth = l.lineWidth || 1, n.lineJoin = l.lineJoin, n.lineCap = l.lineCap, n.miterLimit = l.miterLimit, n.stroke())
                        },
                        this.drawPoly = function(t, e, i) {
                            this.ctx.drawPoly(t + this.x + i[0], e + this.y + i[1], i[2], i[3], i[4], i[5], i[6])
                        },
                        this._drawPoly = function(t, e, i) {
                            var n = this.ctx,
                            s = i[2],
                            r = 2,
                            a = s.length;
                            if (Render.isWebGL) for (n.setPathId(i[6]), n.beginPath(), t += i[0], e += i[1], n.movePath(t, e), n.moveTo(s[0], s[1]); r < a;) n.lineTo(s[r++], s[r++]);
                            else for (n.beginPath(), t += i[0], e += i[1], n.moveTo(t + s[0], e + s[1]); r < a;) n.lineTo(t + s[r++], e + s[r++]);
                            n.closePath(),
                            this._fillAndStroke(i[3], i[4], i[5], i[7])
                        },
                        this._drawSkin = function(t, e, i) {
                            var n = i[0];
                            if (n) {
                                var s = this.ctx;
                                n.render(s, t, e)
                            }
                        },
                        this._drawParticle = function(t, e, i) {
                            this.ctx.drawParticle(t + this.x, e + this.y, i[0])
                        },
                        n ? this.ctx = n.getContext("2d") : (n = HTMLCanvas.create("3D"), this.ctx = RunDriver.createWebGLContext2D(n), n._setContext(this.ctx)),
                        n.size(e, i),
                        this.canvas = n
                    }
                    __class(t, "laya.renders.RenderContext");
                    var e = t.prototype;
                    return e.destroy = function() {
                        this.canvas && (this.canvas.destroy(), this.canvas = null),
                        this.ctx && (this.ctx.destroy(), this.ctx = null)
                    },
                    e.drawTexture = function(t, e, i, n, s) {
                        t.loaded && this.ctx.drawTexture(t, e, i, n, s, this.x, this.y)
                    },
                    e._drawTextures = function(t, e, i) {
                        i[0].loaded && this.ctx.drawTextures(i[0], i[1], t + this.x, e + this.y)
                    },
                    e.drawTextureWithTransform = function(t, e, i, n, s, r, a) {
                        t.loaded && this.ctx.drawTextureWithTransform(t, e, i, n, s, r, this.x, this.y, a)
                    },
                    e.fillQuadrangle = function(t, e, i, n, s) {
                        this.ctx.fillQuadrangle(t, e, i, n, s)
                    },
                    e.drawCanvas = function(t, e, i, n, s) {
                        this.ctx.drawCanvas(t, e + this.x, i + this.y, n, s)
                    },
                    e.drawRect = function(t, e, i, n, s, r) {
                        void 0 === r && (r = 1);
                        var a = this.ctx;
                        a.strokeStyle = s,
                        a.lineWidth = r,
                        a.strokeRect(t + this.x, e + this.y, i, n, r)
                    },
                    e._fillAndStroke = function(t, e, i, n) {
                        void 0 === n && (n = !1);
                        var s = this.ctx;
                        null != t && (s.fillStyle = t, Render.isWebGL ? s.fill(n) : s.fill()),
                        null != e && i > 0 && (s.strokeStyle = e, s.lineWidth = i, s.stroke())
                    },
                    e.clipRect = function(t, e, i, n) {
                        this.ctx.clipRect(t + this.x, e + this.y, i, n)
                    },
                    e.fillRect = function(t, e, i, n, s) {
                        this.ctx.fillRect(t + this.x, e + this.y, i, n, s)
                    },
                    e.drawCircle = function(e, i, n, s, r) {
                        void 0 === r && (r = 1),
                        Stat.drawCall++;
                        var a = this.ctx;
                        a.beginPath(),
                        a.strokeStyle = s,
                        a.lineWidth = r,
                        a.arc(e + this.x, i + this.y, n, 0, t.PI2),
                        a.stroke()
                    },
                    e.fillCircle = function(e, i, n, s) {
                        Stat.drawCall++;
                        var r = this.ctx;
                        r.beginPath(),
                        r.fillStyle = s,
                        r.arc(e + this.x, i + this.y, n, 0, t.PI2),
                        r.fill()
                    },
                    e.setShader = function(t) {
                        this.ctx.setShader(t)
                    },
                    e.drawLine = function(t, e, i, n, s, r) {
                        void 0 === r && (r = 1);
                        var a = this.ctx;
                        a.beginPath(),
                        a.strokeStyle = s,
                        a.lineWidth = r,
                        a.moveTo(this.x + t, this.y + e),
                        a.lineTo(this.x + i, this.y + n),
                        a.stroke()
                    },
                    e.clear = function() {
                        this.ctx.clear()
                    },
                    e.transformByMatrix = function(t) {
                        this.ctx.transformByMatrix(t)
                    },
                    e.setTransform = function(t, e, i, n, s, r) {
                        this.ctx.setTransform(t, e, i, n, s, r)
                    },
                    e.setTransformByMatrix = function(t) {
                        this.ctx.setTransformByMatrix(t)
                    },
                    e.save = function() {
                        this.ctx.save()
                    },
                    e.restore = function() {
                        this.ctx.restore()
                    },
                    e.translate = function(t, e) {
                        this.ctx.translate(t, e)
                    },
                    e.transform = function(t, e, i, n, s, r) {
                        this.ctx.transform(t, e, i, n, s, r)
                    },
                    e.rotate = function(t) {
                        this.ctx.rotate(t)
                    },
                    e.scale = function(t, e) {
                        this.ctx.scale(t, e)
                    },
                    e.alpha = function(t) {
                        this.ctx.globalAlpha *= t
                    },
                    e.setAlpha = function(t) {
                        this.ctx.globalAlpha = t
                    },
                    e.fillWords = function(t, e, i, n, s) {
                        this.ctx.fillWords(t, e, i, n, s)
                    },
                    e.fillBorderWords = function(t, e, i, n, s, r, a) {
                        this.ctx.fillBorderWords(t, e, i, n, s, r, a)
                    },
                    e.fillText = function(t, e, i, n, s, r) {
                        this.ctx.fillText(t, e + this.x, i + this.y, n, s, r)
                    },
                    e.strokeText = function(t, e, i, n, s, r, a) {
                        this.ctx.strokeText(t, e + this.x, i + this.y, n, s, r, a)
                    },
                    e.blendMode = function(t) {
                        this.ctx.globalCompositeOperation = t
                    },
                    e.flush = function() {
                        this.ctx.flush && this.ctx.flush()
                    },
                    e.addRenderObject = function(t) {
                        this.ctx.addRenderObject(t)
                    },
                    e.beginClip = function(t, e, i, n) {
                        this.ctx.beginClip && this.ctx.beginClip(t, e, i, n)
                    },
                    e.endClip = function() {
                        this.ctx.endClip && this.ctx.endClip()
                    },
                    e.fillTrangles = function(t, e, i) {
                        this.ctx.fillTrangles(i[0], i[1], i[2], i[3], i.length > 4 ? i[4] : null)
                    },
                    t.PI2 = 2 * Math.PI,
                    t
                } (),
                RenderSprite = function() {
                    function t(e, i) {
                        switch (this._next = i || t.NORENDER, e) {
                        case 0:
                            return void(this._fun = this._no);
                        case 1:
                            return void(this._fun = this._image);
                        case 2:
                            return void(this._fun = this._alpha);
                        case 4:
                            return void(this._fun = this._transform);
                        case 8:
                            return void(this._fun = this._blend);
                        case 16:
                            return void(this._fun = this._canvas);
                        case 64:
                            return void(this._fun = this._mask);
                        case 128:
                            return void(this._fun = this._clip);
                        case 256:
                            return void(this._fun = this._style);
                        case 512:
                            return void(this._fun = this._graphics);
                        case 2048:
                            return void(this._fun = this._childs);
                        case 1024:
                            return void(this._fun = this._custom);
                        case 513:
                        case 517:
                            return void(this._fun = this._image2);
                        case 32:
                            return void(this._fun = Filter._filter);
                        case 69905:
                            return void(this._fun = t._initRenderFun)
                        }
                        this.onCreate(e)
                    }
                    __class(t, "laya.renders.RenderSprite");
                    var e = t.prototype;
                    return e.onCreate = function(t) {},
                    e._style = function(t, e, i, n) {
                        t._style.render(t, e, i, n);
                        var s = this._next;
                        s._fun.call(s, t, e, i, n)
                    },
                    e._no = function(t, e, i, n) {},
                    e._custom = function(t, e, i, n) {
                        t.customRender(e, i, n);
                        var s = t._style._tf;
                        this._next._fun.call(this._next, t, e, i - s.translateX, n - s.translateY)
                    },
                    e._clip = function(e, i, n, s) {
                        var r = this._next;
                        if (r != t.NORENDER) {
                            var a = e._style.scrollRect;
                            i.ctx.save(),
                            i.ctx.clipRect(n, s, a.width, a.height),
                            r._fun.call(r, e, i, n - a.x, s - a.y),
                            i.ctx.restore()
                        }
                    },
                    e._blend = function(t, e, i, n) {
                        var s = t._style;
                        s.blendMode && (e.ctx.globalCompositeOperation = s.blendMode);
                        var r = this._next;
                        r._fun.call(r, t, e, i, n),
                        e.ctx.globalCompositeOperation = "source-over"
                    },
                    e._mask = function(t, e, i, n) {
                        var s = this._next;
                        s._fun.call(s, t, e, i, n);
                        var r = t.mask;
                        r && (e.ctx.globalCompositeOperation = "destination-in", (r.numChildren > 0 || !r.graphics._isOnlyOne()) && (r.cacheAsBitmap = !0), r.render(e, i - t.pivotX, n - t.pivotY)),
                        e.ctx.globalCompositeOperation = "source-over"
                    },
                    e._graphics = function(t, e, i, n) {
                        var s = t._style._tf;
                        t._graphics && t._graphics._render(t, e, i - s.translateX, n - s.translateY);
                        var r = this._next;
                        r._fun.call(r, t, e, i, n)
                    },
                    e._image = function(t, e, i, n) {
                        var s = t._style;
                        e.ctx.drawTexture2(i, n, s._tf.translateX, s._tf.translateY, t.transform, s.alpha, s.blendMode, t._graphics._one)
                    },
                    e._image2 = function(t, e, i, n) {
                        var s = t._style._tf;
                        e.ctx.drawTexture2(i, n, s.translateX, s.translateY, t.transform, 1, null, t._graphics._one)
                    },
                    e._alpha = function(t, e, i, n) {
                        var s, r = t._style;
                        if ((s = r.alpha) > .01 || t._needRepaint()) {
                            var a = e.ctx.globalAlpha;
                            e.ctx.globalAlpha *= s;
                            var o = this._next;
                            o._fun.call(o, t, e, i, n),
                            e.ctx.globalAlpha = a
                        }
                    },
                    e._transform = function(e, i, n, s) {
                        var r = e.transform,
                        a = this._next;
                        r && a != t.NORENDER ? (i.save(), i.transform(r.a, r.b, r.c, r.d, r.tx + n, r.ty + s), a._fun.call(a, e, i, 0, 0), i.restore()) : a._fun.call(a, e, i, n, s)
                    },
                    e._childs = function(t, e, i, n) {
                        var s = t._style,
                        r = s._tf;
                        if (i = i - r.translateX + s.paddingLeft, n = n - r.translateY + s.paddingTop, s._calculation) {
                            var a = t._getWords();
                            if (a) {
                                var o = s;
                                o && (o.stroke ? e.fillBorderWords(a, i, n, o.font, o.color, o.strokeColor, o.stroke) : e.fillWords(a, i, n, o.font, o.color))
                            }
                        }
                        var h, l = t._childs,
                        u = l.length;
                        if (t.viewport || t.optimizeScrollRect && t._style.scrollRect) {
                            var c = t.viewport || t._style.scrollRect,
                            d = c.x,
                            _ = c.y,
                            f = c.right,
                            p = c.bottom,
                            g = NaN,
                            y = NaN;
                            for (v = 0; v < u; ++v)(h = l[v]).visible && (g = h._x) < f && g + h.width > d && (y = h._y) < p && y + h.height > _ && h.render(e, i, n)
                        } else for (var v = 0; v < u; ++v)(h = l[v])._style.visible && h.render(e, i, n)
                    },
                    e._canvas = function(t, e, i, n) {
                        var s = t._$P.cacheCanvas,
                        r = this._next;
                        if (!s) return void r._fun.call(r, t, e, i, n);
                        var a, o, h, l, u = s.ctx,
                        c = (t._needRepaint(), t._needRepaint() || !u),
                        d = s.type;
                        if ("bitmap" === d ? Stat.canvasBitmap++:Stat.canvasNormal++, c) {
                            s._cacheRec || (s._cacheRec = new Rectangle);
                            var _, f;
                            Render.isWebGL && "bitmap" !== d ? s._cacheRec.setTo( - t.pivotX, -t.pivotY, 1, 1) : (l = t.getSelfBounds(), l.x = l.x - t.pivotX, l.y = l.y - t.pivotY, l.x = l.x - 16, l.y = l.y - 16, l.width = l.width + 32, l.height = l.height + 32, l.x = Math.floor(l.x + i) - i, l.y = Math.floor(l.y + n) - n, l.width = Math.floor(l.width), l.height = Math.floor(l.height), s._cacheRec.copyFrom(l)),
                            l = s._cacheRec;
                            var p = Render.isWebGL ? 1 : Browser.pixelRatio * Laya.stage.clientScaleX,
                            g = Render.isWebGL ? 1 : Browser.pixelRatio * Laya.stage.clientScaleY;
                            if (!Render.isWebGL) {
                                var y, v = 1,
                                m = 1;
                                for (y = t; y && y != Laya.stage;) v *= y.scaleX,
                                m *= y.scaleY,
                                y = y.parent;
                                Render.isWebGL ? (v < 1 && (p *= v), m < 1 && (g *= m)) : (v > 1 && (p *= v), m > 1 && (g *= m))
                            }
                            if (t.scrollRect) {
                                var w = t.scrollRect;
                                l.x -= w.x,
                                l.y -= w.y
                            }
                            if (_ = l.width * p, f = l.height * g, o = l.x, h = l.y, Render.isWebGL && "bitmap" === d && (_ > 2048 || f > 2048)) return console.warn("cache bitmap size larger than 2048,cache ignored"),
                            s.ctx && (Pool.recover("RenderContext", s.ctx), s.ctx.canvas.size(0, 0), s.ctx = null),
                            void r._fun.call(r, t, e, i, n);
                            u || (u = s.ctx = Pool.getItem("RenderContext") || new RenderContext(_, f, HTMLCanvas.create("AUTO"))),
                            u.ctx.sprite = t,
                            a = u.canvas,
                            a.clear(),
                            (a.width != _ || a.height != f) && a.size(_, f),
                            "bitmap" === d ? a.context.asBitmap = !0 : "normal" === d && (a.context.asBitmap = !1);
                            var x;
                            if (1 != p || 1 != g) {
                                var b = u.ctx;
                                b.save(),
                                b.scale(p, g),
                                !Render.isConchWebGL && Render.isConchApp && (x = t._$P.cf) && b.setFilterMatrix && b.setFilterMatrix(x._mat, x._alpha),
                                r._fun.call(r, t, u, -o, -h),
                                b.restore(),
                                Render.isConchApp && !Render.isConchWebGL || t._applyFilters()
                            } else b = u.ctx,
                            !Render.isConchWebGL && Render.isConchApp && (x = t._$P.cf) && b.setFilterMatrix && b.setFilterMatrix(x._mat, x._alpha),
                            r._fun.call(r, t, u, -o, -h),
                            Render.isConchApp && !Render.isConchWebGL || t._applyFilters();
                            t._$P.staticCache && (s.reCache = !1),
                            Stat.canvasReCache++
                        } else l = s._cacheRec,
                        o = l.x,
                        h = l.y,
                        a = u.canvas;
                        e.drawCanvas(a, i + o, n + h, l.width, l.height)
                    },
                    t.__init__ = function() {
                        var e, i = 0,
                        n = 0;
                        for (e = RunDriver.createRenderSprite(69905, null), n = t.renders.length = 4096, i = 0; i < n; i++) t.renders[i] = e;
                        t.renders[0] = RunDriver.createRenderSprite(0, null),
                        function(e, i) {
                            for (var n = 0,
                            s = 0; s < e.length; s++) n |= e[s],
                            t.renders[n] = i
                        } ([1, 512, 4, 2], new t(1, null)),
                        t.renders[513] = RunDriver.createRenderSprite(513, null),
                        t.renders[517] = new t(517, null)
                    },
                    t._initRenderFun = function(e, i, n, s) {
                        var r = e._renderType; (t.renders[r] = t._getTypeRender(r))._fun(e, i, n, s)
                    },
                    t._getTypeRender = function(t) {
                        for (var e = null,
                        i = 2048; i > 1;) i & t && (e = RunDriver.createRenderSprite(i, e)),
                        i >>= 1;
                        return e
                    },
                    t.IMAGE = 1,
                    t.ALPHA = 2,
                    t.TRANSFORM = 4,
                    t.BLEND = 8,
                    t.CANVAS = 16,
                    t.FILTERS = 32,
                    t.MASK = 64,
                    t.CLIP = 128,
                    t.STYLE = 256,
                    t.GRAPHICS = 512,
                    t.CUSTOM = 1024,
                    t.CHILDS = 2048,
                    t.INIT = 69905,
                    t.renders = [],
                    t.NORENDER = new t(0, null),
                    t
                } (),
                Context = function() {
                    function t() {
                        this._repaint = !1
                    }
                    __class(t, "laya.resource.Context");
                    var e = t.prototype;
                    return e.replaceReset = function() {
                        var e = 0,
                        i = 0;
                        i = t.replaceKeys.length;
                        var n;
                        for (e = 0; e < i; e++) n = t.replaceKeys[e],
                        this[t.newKeys[e]] = this[n]
                    },
                    e.replaceResotre = function() {
                        this.__restore(),
                        this.__reset()
                    },
                    e.setIsMainContext = function() {},
                    e.drawTextures = function(t, e, i, n) {
                        Stat.drawCall += e.length / 2;
                        for (var s = t.width,
                        r = t.height,
                        a = 0,
                        o = e.length; a < o; a += 2) this.drawTexture(t, e[a], e[a + 1], s, r, i, n)
                    },
                    e.drawCanvas = function(t, e, i, n, s) {
                        Stat.drawCall++,
                        this.drawImage(t.source, e, i, n, s)
                    },
                    e.fillRect = function(t, e, i, n, s) {
                        Stat.drawCall++,
                        s && (this.fillStyle = s),
                        this.__fillRect(t, e, i, n)
                    },
                    e.fillText = function(t, e, i, n, s, r) {
                        Stat.drawCall++,
                        arguments.length > 3 && null != n && (this.font = n, this.fillStyle = s, this.textAlign = r, this.textBaseline = "top"),
                        this.__fillText(t, e, i)
                    },
                    e.fillBorderText = function(t, e, i, n, s, r, a, o) {
                        Stat.drawCall++,
                        this.font = n,
                        this.fillStyle = s,
                        this.textBaseline = "top",
                        this.strokeStyle = r,
                        this.lineWidth = a,
                        this.textAlign = o,
                        this.__strokeText(t, e, i),
                        this.__fillText(t, e, i)
                    },
                    e.strokeText = function(t, e, i, n, s, r, a) {
                        Stat.drawCall++,
                        arguments.length > 3 && null != n && (this.font = n, this.strokeStyle = s, this.lineWidth = r, this.textAlign = a, this.textBaseline = "top"),
                        this.__strokeText(t, e, i)
                    },
                    e.transformByMatrix = function(t) {
                        this.transform(t.a, t.b, t.c, t.d, t.tx, t.ty)
                    },
                    e.setTransformByMatrix = function(t) {
                        this.setTransform(t.a, t.b, t.c, t.d, t.tx, t.ty)
                    },
                    e.clipRect = function(t, e, i, n) {
                        Stat.drawCall++,
                        this.beginPath(),
                        this.rect(t, e, i, n),
                        this.clip()
                    },
                    e.drawTexture = function(t, e, i, n, s, r, a) {
                        Stat.drawCall++;
                        var o = t.uv,
                        h = t.bitmap.width,
                        l = t.bitmap.height;
                        this.drawImage(t.source, o[0] * h, o[1] * l, (o[2] - o[0]) * h, (o[5] - o[3]) * l, e + r, i + a, n, s)
                    },
                    e.drawTextureWithTransform = function(t, e, i, n, s, r, a, o, h) {
                        Stat.drawCall++;
                        var l = t.uv,
                        u = t.bitmap.width,
                        c = t.bitmap.height;
                        this.save(),
                        1 != h && (this.globalAlpha *= h),
                        r ? (this.transform(r.a, r.b, r.c, r.d, r.tx + a, r.ty + o), this.drawImage(t.source, l[0] * u, l[1] * c, (l[2] - l[0]) * u, (l[5] - l[3]) * c, e, i, n, s)) : this.drawImage(t.source, l[0] * u, l[1] * c, (l[2] - l[0]) * u, (l[5] - l[3]) * c, e + a, i + o, n, s),
                        this.restore()
                    },
                    e.drawTexture2 = function(t, e, i, n, s, r, a, o) {
                        "use strict";
                        var h = o[0];
                        if (h.loaded && h.bitmap && h.source) {
                            Stat.drawCall++;
                            var l = 1 !== r;
                            if (l) {
                                var u = this.globalAlpha;
                                this.globalAlpha *= r
                            }
                            var c = h.uv,
                            d = h.bitmap.width,
                            _ = h.bitmap.height;
                            s ? (this.save(), this.transform(s.a, s.b, s.c, s.d, s.tx + t, s.ty + e), this.drawImage(h.source, c[0] * d, c[1] * _, (c[2] - c[0]) * d, (c[5] - c[3]) * _, o[1] - i, o[2] - n, o[3], o[4]), this.restore()) : this.drawImage(h.source, c[0] * d, c[1] * _, (c[2] - c[0]) * d, (c[5] - c[3]) * _, o[1] - i + t, o[2] - n + e, o[3], o[4]),
                            l && (this.globalAlpha = u)
                        }
                    },
                    e.fillTexture = function(t, e, i, n, s, r, a, o) {
                        if (!o.pat) {
                            if (t.uv != Texture.DEF_UV) {
                                var h = new HTMLCanvas("2D");
                                h.getContext("2d"),
                                h.size(t.width, t.height),
                                h.context.drawTexture(t, 0, 0, t.width, t.height, 0, 0),
                                t = new Texture(h)
                            }
                            o.pat = this.createPattern(t.bitmap.source, r)
                        }
                        var l = e,
                        u = i,
                        c = 0,
                        d = 0;
                        a && (l += a.x % t.width, u += a.y % t.height, c -= a.x % t.width, d -= a.y % t.height),
                        this.translate(l, u),
                        this.fillRect(c, d, n, s, o.pat),
                        this.translate( - l, -u)
                    },
                    e.flush = function() {
                        return 0
                    },
                    e.fillWords = function(t, e, i, n, s) {
                        n && (this.font = n),
                        s && (this.fillStyle = s);
                        this.textBaseline = "top",
                        this.textAlign = "left";
                        for (var r = 0,
                        a = t.length; r < a; r++) {
                            var o = t[r];
                            this.__fillText(o.char, o.x + e, o.y + i)
                        }
                    },
                    e.fillBorderWords = function(t, e, i, n, s, r, a) {
                        n && (this.font = n),
                        s && (this.fillStyle = s),
                        this.textBaseline = "top",
                        this.lineWidth = a,
                        this.textAlign = "left",
                        this.strokeStyle = r;
                        for (var o = 0,
                        h = t.length; o < h; o++) {
                            var l = t[o];
                            this.__strokeText(l.char, l.x + e, l.y + i),
                            this.__fillText(l.char, l.x + e, l.y + i)
                        }
                    },
                    e.destroy = function() {
                        this.canvas.width = this.canvas.height = 0
                    },
                    e.clear = function() {
                        this.clearRect(0, 0, this._canvas.width, this._canvas.height),
                        this._repaint = !1
                    },
                    e.drawCurves = function(t, e, i) {
                        this.beginPath(),
                        this.strokeStyle = i[3],
                        this.lineWidth = i[4];
                        var n = i[2];
                        t += i[0],
                        e += i[1],
                        this.moveTo(t + n[0], e + n[1]);
                        for (var s = 2,
                        r = n.length; s < r;) this.quadraticCurveTo(t + n[s++], e + n[s++], t + n[s++], e + n[s++]);
                        this.stroke()
                    },
                    t.__init__ = function(e) {
                        var i = laya.resource.Context.prototype;
                        e = e || canvas.getContext("2d").__proto__,
                        e.__fillText = e.fillText,
                        e.__fillRect = e.fillRect,
                        e.__strokeText = e.strokeText,
                        ["drawTextures", "fillWords", "fillBorderWords", "setIsMainContext", "fillRect", "strokeText", "fillTexture", "fillText", "transformByMatrix", "setTransformByMatrix", "clipRect", "drawTexture", "drawTexture2", "drawTextureWithTransform", "flush", "clear", "destroy", "drawCanvas", "fillBorderText", "drawCurves"].forEach(function(t) {
                            e[t] = i[t]
                        });
                        var n = canvas.__proto__;
                        if (t.replaceCanvasGetSet(n, "width") && t.replaceCanvasGetSet(n, "height")) {
                            var s = 0,
                            r = 0;
                            for (r = t.replaceKeys.length, s = 0; s < r; s++) if (!t.replaceGetSet(e, t.replaceKeys[s])) return;
                            e.__reset = i.replaceReset,
                            e.__restore = e.restore,
                            e.restore = i.replaceResotre
                        }
                    },
                    t.replaceCanvasGetSet = function(t, e) {
                        var i = Object.getOwnPropertyDescriptor(t, e);
                        if (!i || !i.configurable) return ! 1;
                        var n, s = {};
                        for (n in i)"set" != n && (s[n] = i[n]);
                        var r = i.set;
                        return s.set = function(t) {
                            var e = this;
                            r.call(e, t);
                            var i = e.getContext("2d");
                            i && "__reset" in i && i.__reset()
                        },
                        Object.defineProperty(t, e, s),
                        !0
                    },
                    t.replaceGetSet = function(e, i) {
                        var n = Object.getOwnPropertyDescriptor(e, i);
                        if (!n || !n.configurable) return ! 1;
                        var s, r = {};
                        for (s in n)"set" != s && (r[s] = n[s]);
                        var a = n.set,
                        o = "___" + i + "__";
                        return t.newKeys.push(o),
                        r.set = function(t) {
                            var e = this;
                            t != e[o] && (e[o] = t, a.call(e, t))
                        },
                        Object.defineProperty(e, i, r),
                        !0
                    },
                    t._default = new t,
                    t.newKeys = [],
                    __static(t, ["replaceKeys",
                    function() {
                        return this.replaceKeys = ["font", "fillStyle", "textBaseline"]
                    }]),
                    t
                } (),
                ResourceManager = function() {
                    function t() {
                        this._id = 0,
                        this._name = null,
                        this._resources = null,
                        this._memorySize = 0,
                        this._garbageCollectionRate = NaN,
                        this._isOverflow = !1,
                        this.autoRelease = !1,
                        this.autoReleaseMaxSize = 0,
                        this._id = ++t._uniqueIDCounter,
                        this._name = "Content Manager",
                        t._isResourceManagersSorted = !1,
                        this._memorySize = 0,
                        this._isOverflow = !1,
                        this.autoRelease = !1,
                        this.autoReleaseMaxSize = 536870912,
                        this._garbageCollectionRate = .2,
                        t._resourceManagers.push(this),
                        this._resources = []
                    }
                    __class(t, "laya.resource.ResourceManager");
                    var e = t.prototype;
                    return Laya.imps(e, {
                        "laya.resource.IDispose": !0
                    }),
                    e.getResourceByIndex = function(t) {
                        return this._resources[t]
                    },
                    e.getResourcesLength = function() {
                        return this._resources.length
                    },
                    e.addResource = function(t) {
                        return t.resourceManager && t.resourceManager.removeResource(t),
                        -1 === this._resources.indexOf(t) && (t._resourceManager = this, this._resources.push(t), this.addSize(t.memorySize), !0)
                    },
                    e.removeResource = function(t) {
                        var e = this._resources.indexOf(t);
                        return - 1 !== e && (this._resources.splice(e, 1), t._resourceManager = null, this._memorySize -= t.memorySize, !0)
                    },
                    e.unload = function() {
                        for (var t = this._resources.slice(0, this._resources.length), e = 0; e < t.length; e++) {
                            t[e].dispose()
                        }
                        t.length = 0
                    },
                    e.setUniqueName = function(e) {
                        for (var i = !0,
                        n = 0; n < t._resourceManagers.length; n++) if (t._resourceManagers[n]._name === e && t._resourceManagers[n] !== this) return void(i = !1);
                        i ? this.name != e && (this.name = e, t._isResourceManagersSorted = !1) : this.setUniqueName(e.concat("-copy"))
                    },
                    e.dispose = function() {
                        if (this === t._systemResourceManager) throw new Error("systemResourceManager不能被释放！");
                        t._resourceManagers.splice(t._resourceManagers.indexOf(this), 1),
                        t._isResourceManagersSorted = !1;
                        for (var e = this._resources.slice(0, this._resources.length), i = 0; i < e.length; i++) {
                            var n = e[i];
                            n.resourceManager.removeResource(n),
                            n.dispose()
                        }
                        e.length = 0
                    },
                    e.addSize = function(t) {
                        t && (this.autoRelease && t > 0 && this._memorySize + t > this.autoReleaseMaxSize && this.garbageCollection((1 - this._garbageCollectionRate) * this.autoReleaseMaxSize), this._memorySize += t)
                    },
                    e.garbageCollection = function(t) {
                        var e = this._resources;
                        e = e.slice(),
                        e.sort(function(t, e) {
                            if (!t || !e) throw new Error("a或b不能为空！");
                            return t.released && e.released ? 0 : t.released ? 1 : e.released ? -1 : t.lastUseFrameCount - e.lastUseFrameCount
                        });
                        for (var i = Stat.loopCount,
                        n = 0,
                        s = e.length; n < s; n++) {
                            var r = e[n];
                            if (! (i - r.lastUseFrameCount > 1)) return void(this._memorySize >= t && (this._isOverflow = !0));
                            if (r.releaseResource(), this._memorySize < t) return void(this._isOverflow = !1)
                        }
                    },
                    __getset(0, e, "id",
                    function() {
                        return this._id
                    }),
                    __getset(0, e, "name",
                    function() {
                        return this._name
                    },
                    function(e) { ! e && "" === e || this._name === e || (this._name = e, t._isResourceManagersSorted = !1)
                    }),
                    __getset(0, e, "memorySize",
                    function() {
                        return this._memorySize
                    }),
                    __getset(1, t, "systemResourceManager",
                    function() {
                        return null === t._systemResourceManager && (t._systemResourceManager = new t, t._systemResourceManager._name = "System Resource Manager"),
                        t._systemResourceManager
                    }),
                    __getset(1, t, "sortedResourceManagersByName",
                    function() {
                        return t._isResourceManagersSorted || (t._isResourceManagersSorted = !0, t._resourceManagers.sort(t.compareResourceManagersByName)),
                        t._resourceManagers
                    }),
                    t.__init__ = function() {
                        t.currentResourceManager = t.systemResourceManager
                    },
                    t.getLoadedResourceManagerByIndex = function(e) {
                        return t._resourceManagers[e]
                    },
                    t.getLoadedResourceManagersCount = function() {
                        return t._resourceManagers.length
                    },
                    t.recreateContentManagers = function(e) {
                        void 0 === e && (e = !1);
                        for (var i = t.currentResourceManager,
                        n = 0; n < t._resourceManagers.length; n++) {
                            t.currentResourceManager = t._resourceManagers[n];
                            for (var s = 0; s < t.currentResourceManager._resources.length; s++) t.currentResourceManager._resources[s].releaseResource(e),
                            t.currentResourceManager._resources[s].activeResource(e)
                        }
                        t.currentResourceManager = i
                    },
                    t.releaseContentManagers = function(e) {
                        void 0 === e && (e = !1);
                        for (var i = t.currentResourceManager,
                        n = 0; n < t._resourceManagers.length; n++) {
                            t.currentResourceManager = t._resourceManagers[n];
                            for (var s = 0; s < t.currentResourceManager._resources.length; s++) {
                                var r = t.currentResourceManager._resources[s]; ! r.released && r.releaseResource(e)
                            }
                        }
                        t.currentResourceManager = i
                    },
                    t.compareResourceManagersByName = function(t, e) {
                        if (t == e) return 0;
                        var i = t._name,
                        n = e._name;
                        if (null == i) return null == n ? 0 : -1;
                        if (null == n) return 1;
                        var s = i.localeCompare(n);
                        return 0 != s ? s: (e.setUniqueName(n), n = e._name, i.localeCompare(n))
                    },
                    t._uniqueIDCounter = 0,
                    t._systemResourceManager = null,
                    t._isResourceManagersSorted = !1,
                    t._resourceManagers = [],
                    t.currentResourceManager = null,
                    t
                } (),
                System = function() {
                    function System() {}
                    return __class(System, "laya.system.System"),
                    System.changeDefinition = function(name, classObj) {
                        Laya[name] = classObj;
                        var str = name + "=classObj";
                        eval(str)
                    },
                    System.__init__ = function() {
                        Render.isConchApp && (conch.disableConchResManager(), conch.disableConchAutoRestoreLostedDevice())
                    },
                    System
                } (),
                Browser = function() {
                    function t() {}
                    return __class(t, "laya.utils.Browser"),
                    __getset(1, t, "pixelRatio",
                    function() {
                        return t.__init__(),
                        t.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)") > -1 ? 2 : RunDriver.getPixelRatio()
                    }),
                    __getset(1, t, "height",
                    function() {
                        return t.__init__(),
                        (Laya.stage && Laya.stage.canvasRotation ? t.clientWidth: t.clientHeight) * t.pixelRatio
                    }),
                    __getset(1, t, "clientWidth",
                    function() {
                        return t.__init__(),
                        t.window.innerWidth || t.document.body.clientWidth
                    }),
                    __getset(1, t, "window",
                    function() {
                        return t.__init__(),
                        t._window
                    }),
                    __getset(1, t, "clientHeight",
                    function() {
                        return t.__init__(),
                        t.window.innerHeight || t.document.body.clientHeight || t.document.documentElement.clientHeight
                    }),
                    __getset(1, t, "width",
                    function() {
                        return t.__init__(),
                        (Laya.stage && Laya.stage.canvasRotation ? t.clientHeight: t.clientWidth) * t.pixelRatio
                    }),
                    __getset(1, t, "container",
                    function() {
                        return t.__init__(),
                        t._container,
                        t._container
                    },
                    function(e) {
                        t._container = e
                    }),
                    __getset(1, t, "document",
                    function() {
                        return t.__init__(),
                        t._document
                    }),
                    t.__init__ = function() {
                        if (!t._window) {
                            t._window = RunDriver.getWindow(),
                            t._document = t.window.document,
                            t._window.addEventListener("message",
                            function(t) {
                                laya.utils.Browser._onMessage(t)
                            },
                            !1),
                            t.document.__createElement = t.document.createElement,
                            window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
                            function(t) {
                                return window.setTimeout(t, 1e3 / 60)
                            };
                            var e = window.document.body.style;
                            e.margin = 0,
                            e.overflow = "hidden";
                            for (var i = window.document.getElementsByTagName("meta"), n = 0, s = !1, r = "width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"; n < i.length;) {
                                var a = i[n];
                                if ("viewport" == a.name) {
                                    a.content = r,
                                    s = !0;
                                    break
                                }
                                n++
                            }
                            s || (a = document.createElement("meta"), a.name = "viewport", a.content = r, document.getElementsByTagName("head")[0].appendChild(a)),
                            t.userAgent = t.window.navigator.userAgent,
                            t.u = t.userAgent,
                            t.onIOS = !!t.u.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),
                            t.onMobile = t.u.indexOf("Mobile") > -1,
                            t.onIPhone = t.u.indexOf("iPhone") > -1,
                            t.onIPad = t.u.indexOf("iPad") > -1,
                            t.onAndriod = t.u.indexOf("Android") > -1 || t.u.indexOf("Adr") > -1,
                            t.onWP = t.u.indexOf("Windows Phone") > -1,
                            t.onQQBrowser = t.u.indexOf("QQBrowser") > -1,
                            t.onMQQBrowser = t.u.indexOf("MQQBrowser") > -1,
                            t.onIE = !!t.window.ActiveXObject || "ActiveXObject" in t.window,
                            t.onWeiXin = t.u.indexOf("MicroMessenger") > -1,
                            t.onPC = !t.onMobile,
                            t.onSafari = !!t.u.match(/Version\/\d+\.\d\x20Mobile\/\S+\x20Safari/),
                            t.httpProtocol = "http:" == t.window.location.protocol,
                            t.webAudioEnabled = !!(t.window.AudioContext || t.window.webkitAudioContext || t.window.mozAudioContext),
                            t.soundType = t.webAudioEnabled ? "WEBAUDIOSOUND": "AUDIOSOUND",
                            Sound = t.webAudioEnabled ? WebAudioSound: AudioSound,
                            t.webAudioEnabled && WebAudioSound.initWebAudio(),
                            t.enableTouch = "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch,
                            SoundManager._soundClass = Sound,
                            Render._mainCanvas = Render._mainCanvas || HTMLCanvas.create("2D"),
                            t.canvas || (t.canvas = HTMLCanvas.create("2D"), t.context = t.canvas.getContext("2d"))
                        }
                    },
                    t._onMessage = function(e) {
                        if (e.data && "size" == e.data.name) {
                            if (t.window.innerWidth = e.data.width, t.window.innerHeight = e.data.height, t.window.__innerHeight = e.data.clientHeight, !t.document.createEvent) return void console.warn("no document.createEvent");
                            var i = t.document.createEvent("HTMLEvents");
                            return i.initEvent("resize", !1, !1),
                            void t.window.dispatchEvent(i)
                        }
                    },
                    t.createElement = function(e) {
                        return t.__init__(),
                        t.document.__createElement(e)
                    },
                    t.getElementById = function(e) {
                        return t.__init__(),
                        t.document.getElementById(e)
                    },
                    t.removeElement = function(t) {
                        t && t.parentNode && t.parentNode.removeChild(t)
                    },
                    t.now = function() {
                        return RunDriver.now()
                    },
                    t._window = null,
                    t._document = null,
                    t._container = null,
                    t.userAgent = null,
                    t.u = null,
                    t.onIOS = !1,
                    t.onMobile = !1,
                    t.onIPhone = !1,
                    t.onIPad = !1,
                    t.onAndriod = !1,
                    t.onAndroid = !1,
                    t.onWP = !1,
                    t.onQQBrowser = !1,
                    t.onMQQBrowser = !1,
                    t.onSafari = !1,
                    t.onIE = !1,
                    t.onWeiXin = !1,
                    t.onPC = !1,
                    t.httpProtocol = !1,
                    t.webAudioEnabled = !1,
                    t.soundType = null,
                    t.enableTouch = !1,
                    t.canvas = null,
                    t.context = null,
                    t.__init$ = function() {},
                    t
                } (),
                Byte = function() {
                    function t(t) {
                        this._xd_ = !0,
                        this._allocated_ = 8,
                        this._pos_ = 0,
                        this._length = 0,
                        t ? (this._u8d_ = new Uint8Array(t), this._d_ = new DataView(this._u8d_.buffer), this._length = this._d_.byteLength) : this.___resizeBuffer(this._allocated_)
                    }
                    __class(t, "laya.utils.Byte");
                    var e = t.prototype;
                    return e.___resizeBuffer = function(t) {
                        try {
                            var e = new Uint8Array(t);
                            null != this._u8d_ && (this._u8d_.length <= t ? e.set(this._u8d_) : e.set(this._u8d_.subarray(0, t))),
                            this._u8d_ = e,
                            this._d_ = new DataView(e.buffer)
                        } catch(e) {
                            throw "___resizeBuffer err:" + t
                        }
                    },
                    e.getString = function() {
                        return this.rUTF(this.getUint16())
                    },
                    e.getFloat32Array = function(t, e) {
                        var i = t + e;
                        i = i > this._length ? this._length: i;
                        var n = new Float32Array(this._d_.buffer.slice(t, i));
                        return this._pos_ = i,
                        n
                    },
                    e.getUint8Array = function(t, e) {
                        var i = t + e;
                        i = i > this._length ? this._length: i;
                        var n = new Uint8Array(this._d_.buffer.slice(t, i));
                        return this._pos_ = i,
                        n
                    },
                    e.getInt16Array = function(t, e) {
                        var i = t + e;
                        i = i > this._length ? this._length: i;
                        var n = new Int16Array(this._d_.buffer.slice(t, i));
                        return this._pos_ = i,
                        n
                    },
                    e.getFloat32 = function() {
                        if (this._pos_ + 4 > this._length) throw "getFloat32 error - Out of bounds";
                        var t = this._d_.getFloat32(this._pos_, this._xd_);
                        return this._pos_ += 4,
                        t
                    },
                    e.getFloat64 = function() {
                        if (this._pos_ + 8 > this._length) throw "getFloat64 error - Out of bounds";
                        var t = this._d_.getFloat64(this._pos_, this._xd_);
                        return this._pos_ += 8,
                        t
                    },
                    e.writeFloat32 = function(t) {
                        this.ensureWrite(this._pos_ + 4),
                        this._d_.setFloat32(this._pos_, t, this._xd_),
                        this._pos_ += 4
                    },
                    e.writeFloat64 = function(t) {
                        this.ensureWrite(this._pos_ + 8),
                        this._d_.setFloat64(this._pos_, t, this._xd_),
                        this._pos_ += 8
                    },
                    e.getInt32 = function() {
                        if (this._pos_ + 4 > this._length) throw "getInt32 error - Out of bounds";
                        var t = this._d_.getInt32(this._pos_, this._xd_);
                        return this._pos_ += 4,
                        t
                    },
                    e.getUint32 = function() {
                        if (this._pos_ + 4 > this._length) throw "getUint32 error - Out of bounds";
                        var t = this._d_.getUint32(this._pos_, this._xd_);
                        return this._pos_ += 4,
                        t
                    },
                    e.writeInt32 = function(t) {
                        this.ensureWrite(this._pos_ + 4),
                        this._d_.setInt32(this._pos_, t, this._xd_),
                        this._pos_ += 4
                    },
                    e.writeUint32 = function(t) {
                        this.ensureWrite(this._pos_ + 4),
                        this._d_.setUint32(this._pos_, t, this._xd_),
                        this._pos_ += 4
                    },
                    e.getInt16 = function() {
                        if (this._pos_ + 2 > this._length) throw "getInt16 error - Out of bounds";
                        var t = this._d_.getInt16(this._pos_, this._xd_);
                        return this._pos_ += 2,
                        t
                    },
                    e.getUint16 = function() {
                        if (this._pos_ + 2 > this._length) throw "getUint16 error - Out of bounds";
                        var t = this._d_.getUint16(this._pos_, this._xd_);
                        return this._pos_ += 2,
                        t
                    },
                    e.writeUint16 = function(t) {
                        this.ensureWrite(this._pos_ + 2),
                        this._d_.setUint16(this._pos_, t, this._xd_),
                        this._pos_ += 2
                    },
                    e.writeInt16 = function(t) {
                        this.ensureWrite(this._pos_ + 2),
                        this._d_.setInt16(this._pos_, t, this._xd_),
                        this._pos_ += 2
                    },
                    e.getUint8 = function() {
                        if (this._pos_ + 1 > this._length) throw "getUint8 error - Out of bounds";
                        return this._d_.getUint8(this._pos_++)
                    },
                    e.writeUint8 = function(t) {
                        this.ensureWrite(this._pos_ + 1),
                        this._d_.setUint8(this._pos_, t),
                        this._pos_++
                    },
                    e._getUInt8 = function(t) {
                        return this._d_.getUint8(t)
                    },
                    e._getUint16 = function(t) {
                        return this._d_.getUint16(t, this._xd_)
                    },
                    e._getMatrix = function() {
                        return new Matrix(this.getFloat32(), this.getFloat32(), this.getFloat32(), this.getFloat32(), this.getFloat32(), this.getFloat32())
                    },
                    e.rUTF = function(t) {
                        for (var e = "",
                        i = this._pos_ + t,
                        n = 0,
                        s = 0,
                        r = 0,
                        a = String.fromCharCode,
                        o = this._u8d_,
                        h = 0; this._pos_ < i;) n = o[this._pos_++],
                        n < 128 ? 0 != n && (e += a(n)) : n < 224 ? e += a((63 & n) << 6 | 127 & o[this._pos_++]) : n < 240 ? (s = o[this._pos_++], e += a((31 & n) << 12 | (127 & s) << 6 | 127 & o[this._pos_++])) : (s = o[this._pos_++], r = o[this._pos_++], e += a((15 & n) << 18 | (127 & s) << 12 | r << 6 & 127 | 127 & o[this._pos_++])),
                        h++;
                        return e
                    },
                    e.getCustomString = function(t) {
                        for (var e = "",
                        i = 0,
                        n = 0,
                        s = 0,
                        r = String.fromCharCode,
                        a = this._u8d_; t > 0;) if ((n = a[this._pos_]) < 128) e += r(n),
                        this._pos_++,
                        t--;
                        else for (i = n - 128, this._pos_++, t -= i; i > 0;) n = a[this._pos_++],
                        s = a[this._pos_++],
                        e += r(s << 8 | n),
                        i--;
                        return e
                    },
                    e.clear = function() {
                        this._pos_ = 0,
                        this.length = 0
                    },
                    e.__getBuffer = function() {
                        return this._d_.buffer
                    },
                    e.writeUTFBytes = function(t) {
                        t += "";
                        for (var e = 0,
                        i = t.length; e < i; e++) {
                            var n = t.charCodeAt(e);
                            n <= 127 ? this.writeByte(n) : n <= 2047 ? (this.ensureWrite(this._pos_ + 2), this._u8d_.set([192 | n >> 6, 128 | 63 & n], this._pos_), this._pos_ += 2) : n <= 65535 ? (this.ensureWrite(this._pos_ + 3), this._u8d_.set([224 | n >> 12, 128 | n >> 6 & 63, 128 | 63 & n], this._pos_), this._pos_ += 3) : (this.ensureWrite(this._pos_ + 4), this._u8d_.set([240 | n >> 18, 128 | n >> 12 & 63, 128 | n >> 6 & 63, 128 | 63 & n], this._pos_), this._pos_ += 4)
                        }
                    },
                    e.writeUTFString = function(t) {
                        var e = this.pos;
                        this.writeUint16(1),
                        this.writeUTFBytes(t);
                        var i = this.pos - e - 2;
                        this._d_.setUint16(e, i, this._xd_)
                    },
                    e.readUTFString = function() {
                        return this.readUTFBytes(this.getUint16())
                    },
                    e.getUTFString = function() {
                        return this.readUTFString()
                    },
                    e.readUTFBytes = function(t) {
                        if (void 0 === t && (t = -1), 0 == t) return "";
                        var e = this.bytesAvailable;
                        if (t > e) throw "readUTFBytes error - Out of bounds";
                        return t = t > 0 ? t: e,
                        this.rUTF(t)
                    },
                    e.getUTFBytes = function(t) {
                        return void 0 === t && (t = -1),
                        this.readUTFBytes(t)
                    },
                    e.writeByte = function(t) {
                        this.ensureWrite(this._pos_ + 1),
                        this._d_.setInt8(this._pos_, t),
                        this._pos_ += 1
                    },
                    e.readByte = function() {
                        if (this._pos_ + 1 > this._length) throw "readByte error - Out of bounds";
                        return this._d_.getInt8(this._pos_++)
                    },
                    e.getByte = function() {
                        return this.readByte()
                    },
                    e.ensureWrite = function(t) {
                        this._length < t && (this._length = t),
                        this._allocated_ < t && (this.length = t)
                    },
                    e.writeArrayBuffer = function(t, e, i) {
                        if (void 0 === e && (e = 0), void 0 === i && (i = 0), e < 0 || i < 0) throw "writeArrayBuffer error - Out of bounds";
                        0 == i && (i = t.byteLength - e),
                        this.ensureWrite(this._pos_ + i);
                        var n = new Uint8Array(t);
                        this._u8d_.set(n.subarray(e, e + i), this._pos_),
                        this._pos_ += i
                    },
                    __getset(0, e, "buffer",
                    function() {
                        var t = this._d_.buffer;
                        return t.byteLength == this.length ? t: t.slice(0, this.length)
                    }),
                    __getset(0, e, "endian",
                    function() {
                        return this._xd_ ? "littleEndian": "bigEndian"
                    },
                    function(t) {
                        this._xd_ = "littleEndian" == t
                    }),
                    __getset(0, e, "length",
                    function() {
                        return this._length
                    },
                    function(t) {
                        this._allocated_ < t ? this.___resizeBuffer(this._allocated_ = Math.floor(Math.max(t, 2 * this._allocated_))) : this._allocated_ > t && this.___resizeBuffer(this._allocated_ = t),
                        this._length = t
                    }),
                    __getset(0, e, "pos",
                    function() {
                        return this._pos_
                    },
                    function(t) {
                        this._pos_ = t
                    }),
                    __getset(0, e, "bytesAvailable",
                    function() {
                        return this._length - this._pos_
                    }),
                    t.getSystemEndian = function() {
                        if (!t._sysEndian) {
                            var e = new ArrayBuffer(2);
                            new DataView(e).setInt16(0, 256, !0),
                            t._sysEndian = 256 === new Int16Array(e)[0] ? "littleEndian": "bigEndian"
                        }
                        return t._sysEndian
                    },
                    t.BIG_ENDIAN = "bigEndian",
                    t.LITTLE_ENDIAN = "littleEndian",
                    t._sysEndian = null,
                    t
                } (),
                CacheManger = function() {
                    function t() {}
                    return __class(t, "laya.utils.CacheManger"),
                    t.regCacheByFunction = function(e, i) {
                        t.unRegCacheByFunction(e, i);
                        var n;
                        n = {
                            tryDispose: e,
                            getCacheList: i
                        },
                        t._cacheList.push(n)
                    },
                    t.unRegCacheByFunction = function(e, i) {
                        var n = 0,
                        s = 0;
                        for (s = t._cacheList.length, n = 0; n < s; n++) if (t._cacheList[n].tryDispose == e && t._cacheList[n].getCacheList == i) return void t._cacheList.splice(n, 1)
                    },
                    t.forceDispose = function() {
                        var e = 0,
                        i = t._cacheList.length;
                        for (e = 0; e < i; e++) t._cacheList[e].tryDispose(!0)
                    },
                    t.beginCheck = function(e) {
                        void 0 === e && (e = 15e3),
                        Laya.timer.loop(e, null, t._checkLoop)
                    },
                    t.stopCheck = function() {
                        Laya.timer.clear(null, t._checkLoop)
                    },
                    t._checkLoop = function() {
                        var e = t._cacheList;
                        if (! (e.length < 1)) {
                            var i = Browser.now(),
                            n = 0,
                            s = 0;
                            for (s = n = e.length; n > 0 && (t._index++, t._index = t._index % s, e[t._index].tryDispose(!1), !(Browser.now() - i > t.loopTimeLimit));) n--
                        }
                    },
                    t.loopTimeLimit = 2,
                    t._cacheList = [],
                    t._index = 0,
                    t
                } (),
                ClassUtils = function() {
                    function t() {}
                    return __class(t, "laya.utils.ClassUtils"),
                    t.regClass = function(e, i) {
                        t._classMap[e] = i
                    },
                    t.getRegClass = function(e) {
                        return t._classMap[e]
                    },
                    t.getInstance = function(e) {
                        var i = t.getClass(e);
                        return i ? new i: (console.warn("[error] Undefined class:", e), null)
                    },
                    t.createByJson = function(e, i, n, s, r) {
                        "string" == typeof e && (e = JSON.parse(e));
                        var a = e.props;
                        if (!i && !(i = r ? r.runWith(e) : t.getInstance(a.runtime || e.type))) return null;
                        var o = e.child;
                        if (o) for (var h = 0,
                        l = o.length; h < l; h++) {
                            var u = o[h];
                            if ("render" !== u.props.name && "render" !== u.props.renderType || !i._$set_itemRender) if ("Graphic" == u.type) t.addGraphicsToSprite(u, i);
                            else if (t.isDrawType(u.type)) t.addGraphicToSprite(u, i, !0);
                            else {
                                var c = t.createByJson(u, null, n, s, r);
                                "Script" == u.type ? c.hasOwnProperty("owner") ? c.owner = i: c.hasOwnProperty("target") && (c.target = i) : "mask" == u.props.renderType ? i.mask = c: i.addChild(c)
                            } else i.itemRender = u
                        }
                        if (a) for (var d in a) {
                            var _ = a[d];
                            "var" === d && n ? n[_] = i: _ instanceof Array && "function" == typeof i[d] ? i[d].apply(i, _) : i[d] = _
                        }
                        return s && e.customProps && s.runWith([i, e]),
                        i.created && i.created(),
                        i
                    },
                    t.addGraphicsToSprite = function(e, i) {
                        var n;
                        if ((n = e.child) && !(n.length < 1)) {
                            var s;
                            s = t._getGraphicsFromSprite(e, i);
                            var r = 0,
                            a = 0;
                            e.props && (r = t._getObjVar(e.props, "x", 0), a = t._getObjVar(e.props, "y", 0)),
                            0 != r && 0 != a && s.translate(r, a);
                            var o = 0,
                            h = 0;
                            for (h = n.length, o = 0; o < h; o++) t._addGraphicToGraphics(n[o], s);
                            0 != r && 0 != a && s.translate( - r, -a)
                        }
                    },
                    t.addGraphicToSprite = function(e, i, n) {
                        void 0 === n && (n = !1);
                        var s;
                        s = n ? t._getGraphicsFromSprite(e, i) : i.graphics,
                        t._addGraphicToGraphics(e, s)
                    },
                    t._getGraphicsFromSprite = function(t, e) {
                        var i;
                        if (!t || !t.props) return e.graphics;
                        var n;
                        switch (n = t.props.renderType) {
                        case "hit":
                        case "unHit":
                            var s;
                            e.hitArea || (e.hitArea = new HitArea),
                            s = e.hitArea,
                            s[n] || (s[n] = new Graphics),
                            i = s[n]
                        }
                        return i || (i = e.graphics),
                        i
                    },
                    t._getTransformData = function(e) {
                        var i; (e.hasOwnProperty("pivotX") || e.hasOwnProperty("pivotY")) && (i = i || new Matrix, i.translate( - t._getObjVar(e, "pivotX", 0), -t._getObjVar(e, "pivotY", 0)));
                        var n = t._getObjVar(e, "scaleX", 1),
                        s = t._getObjVar(e, "scaleY", 1),
                        r = t._getObjVar(e, "rotation", 0);
                        t._getObjVar(e, "skewX", 0),
                        t._getObjVar(e, "skewY", 0);
                        return 1 == n && 1 == s && 0 == r || (i = i || new Matrix, i.scale(n, s), i.rotate(.0174532922222222 * r)),
                        i
                    },
                    t._addGraphicToGraphics = function(e, i) {
                        var n;
                        if (n = e.props) {
                            var s;
                            if (s = t.DrawTypeDic[e.type]) {
                                var r;
                                r = i;
                                var a, o = t._getParams(n, s[1], s[2], s[3]);
                                a = t._tM,
                                (a || 1 != t._alpha) && (r.save(), a && r.transform(a), 1 != t._alpha && r.alpha(t._alpha)),
                                r[s[0]].apply(r, o),
                                (a || 1 != t._alpha) && r.restore()
                            }
                        }
                    },
                    t._adptLineData = function(t) {
                        return t[2] = parseFloat(t[0]) + parseFloat(t[2]),
                        t[3] = parseFloat(t[1]) + parseFloat(t[3]),
                        t
                    },
                    t._adptTextureData = function(t) {
                        return t[0] = Loader.getRes(t[0]),
                        t
                    },
                    t._adptLinesData = function(e) {
                        return e[2] = t._getPointListByStr(e[2]),
                        e
                    },
                    t.isDrawType = function(e) {
                        return "Image" != e && t.DrawTypeDic.hasOwnProperty(e)
                    },
                    t._getParams = function(e, i, n, s) {
                        void 0 === n && (n = 0);
                        var r;
                        r = t._temParam,
                        r.length = i.length;
                        var a = 0,
                        o = 0;
                        for (o = i.length, a = 0; a < o; a++) r[a] = t._getObjVar(e, i[a][0], i[a][1]);
                        t._alpha = t._getObjVar(e, "alpha", 1);
                        var h;
                        return h = t._getTransformData(e),
                        h ? (n || (n = 0), h.translate(r[n], r[n + 1]), r[n] = r[n + 1] = 0, t._tM = h) : t._tM = null,
                        s && t[s] && (r = t[s](r)),
                        r
                    },
                    t._getPointListByStr = function(t) {
                        var e;
                        e = t.split(",");
                        var i = 0,
                        n = 0;
                        for (n = e.length, i = 0; i < n; i++) e[i] = parseFloat(e[i]);
                        return e
                    },
                    t._getObjVar = function(t, e, i) {
                        return t.hasOwnProperty(e) ? t[e] : i
                    },
                    t._temParam = [],
                    t._classMap = {
                        Sprite: "laya.display.Sprite",
                        Text: "laya.display.Text",
                        Animation: "laya.display.Animation",
                        Skeleton: "laya.ani.bone.Skeleton",
                        Particle2D: "laya.particle.Particle2D",
                        div: "laya.html.dom.HTMLDivElement",
                        p: "laya.html.dom.HTMLElement",
                        img: "laya.html.dom.HTMLImageElement",
                        span: "laya.html.dom.HTMLElement",
                        br: "laya.html.dom.HTMLBrElement",
                        style: "laya.html.dom.HTMLStyleElement",
                        font: "laya.html.dom.HTMLElement",
                        a: "laya.html.dom.HTMLElement",
                        "#text": "laya.html.dom.HTMLElement"
                    },
                    t.getClass = function(e) {
                        var i = t._classMap[e] || e;
                        return "string" == typeof i ? Laya.__classmap[i] : i
                    },
                    t._tM = null,
                    t._alpha = NaN,
                    __static(t, ["DrawTypeDic",
                    function() {
                        return this.DrawTypeDic = {
                            Rect: ["drawRect", [["x", 0], ["y", 0], ["width", 0], ["height", 0], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]]],
                            Circle: ["drawCircle", [["x", 0], ["y", 0], ["radius", 0], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]]],
                            Pie: ["drawPie", [["x", 0], ["y", 0], ["radius", 0], ["startAngle", 0], ["endAngle", 0], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]]],
                            Image: ["drawTexture", [["x", 0], ["y", 0], ["width", 0], ["height", 0]]],
                            Texture: ["drawTexture", [["skin", null], ["x", 0], ["y", 0], ["width", 0], ["height", 0]], 1, "_adptTextureData"],
                            FillTexture: ["fillTexture", [["skin", null], ["x", 0], ["y", 0], ["width", 0], ["height", 0], ["repeat", null]], 1, "_adptTextureData"],
                            FillText: ["fillText", [["text", ""], ["x", 0], ["y", 0], ["font", null], ["color", null], ["textAlign", null]], 1],
                            Line: ["drawLine", [["x", 0], ["y", 0], ["toX", 0], ["toY", 0], ["lineColor", null], ["lineWidth", 0]], 0, "_adptLineData"],
                            Lines: ["drawLines", [["x", 0], ["y", 0], ["points", ""], ["lineColor", null], ["lineWidth", 0]], 0, "_adptLinesData"],
                            Curves: ["drawCurves", [["x", 0], ["y", 0], ["points", ""], ["lineColor", null], ["lineWidth", 0]], 0, "_adptLinesData"],
                            Poly: ["drawPoly", [["x", 0], ["y", 0], ["points", ""], ["fillColor", null], ["lineColor", null], ["lineWidth", 1]], 0, "_adptLinesData"]
                        }
                    }]),
                    t
                } (),
                Color = function() {
                    function t(e) {
                        if (this._color = [], "string" == typeof e) {
                            this.strColor = e,
                            null === e && (e = "#000000"),
                            "#" == e.charAt(0) && (e = e.substr(1));
                            var i = e.length;
                            if (3 == i || 4 == i) {
                                for (var n = "",
                                s = 0; s < i; s++) n += e[s] + e[s];
                                e = n
                            }
                            var r = this.numColor = parseInt(e, 16);
                            if (8 == e.length) return void(this._color = [parseInt(e.substr(0, 2), 16) / 255, ((16711680 & r) >> 16) / 255, ((65280 & r) >> 8) / 255, (255 & r) / 255])
                        } else r = this.numColor = e,
                        this.strColor = Utils.toHexColor(r);
                        this._color = [((16711680 & r) >> 16) / 255, ((65280 & r) >> 8) / 255, (255 & r) / 255, 1],
                        this._color.__id = ++t._COLODID
                    }
                    return __class(t, "laya.utils.Color"),
                    t._initDefault = function() {
                        t._DEFAULT = {};
                        for (var e in t._COLOR_MAP) t._SAVE[e] = t._DEFAULT[e] = new t(t._COLOR_MAP[e]);
                        return t._DEFAULT
                    },
                    t._initSaveMap = function() {
                        t._SAVE_SIZE = 0,
                        t._SAVE = {};
                        for (var e in t._DEFAULT) t._SAVE[e] = t._DEFAULT[e]
                    },
                    t.create = function(e) {
                        var i = t._SAVE[e + ""];
                        return null != i ? i: (t._SAVE_SIZE < 1e3 || t._initSaveMap(), t._SAVE[e + ""] = new t(e))
                    },
                    t._SAVE = {},
                    t._SAVE_SIZE = 0,
                    t._COLOR_MAP = {
                        white: "#FFFFFF",
                        red: "#FF0000",
                        green: "#00FF00",
                        blue: "#0000FF",
                        black: "#000000",
                        yellow: "#FFFF00",
                        gray: "#AAAAAA"
                    },
                    t._DEFAULT = t._initDefault(),
                    t._COLODID = 1,
                    t
                } (),
                Dictionary = function() {
                    function t() {
                        this._values = [],
                        this._keys = []
                    }
                    __class(t, "laya.utils.Dictionary");
                    var e = t.prototype;
                    return e.set = function(t, e) {
                        var i = this.indexOf(t);
                        if (i >= 0) return void(this._values[i] = e);
                        this._keys.push(t),
                        this._values.push(e)
                    },
                    e.indexOf = function(t) {
                        var e = this._keys.indexOf(t);
                        return e >= 0 ? e: (t = "string" == typeof t ? Number(t) : "number" == typeof t ? t.toString() : t, this._keys.indexOf(t))
                    },
                    e.get = function(t) {
                        var e = this.indexOf(t);
                        return e < 0 ? null: this._values[e]
                    },
                    e.remove = function(t) {
                        var e = this.indexOf(t);
                        return e >= 0 && (this._keys.splice(e, 1), this._values.splice(e, 1), !0)
                    },
                    e.clear = function() {
                        this._values.length = 0,
                        this._keys.length = 0
                    },
                    __getset(0, e, "values",
                    function() {
                        return this._values
                    }),
                    __getset(0, e, "keys",
                    function() {
                        return this._keys
                    }),
                    t
                } (),
                Dragging = function() {
                    function t() {
                        this.ratio = .92,
                        this.maxOffset = 60,
                        this._dragging = !1,
                        this._clickOnly = !0
                    }
                    __class(t, "laya.utils.Dragging");
                    var e = t.prototype;
                    return e.start = function(t, e, i, n, s, r, a, o) {
                        void 0 === o && (o = .92),
                        this.clearTimer(),
                        this.target = t,
                        this.area = e,
                        this.hasInertia = i,
                        this.elasticDistance = e ? n: 0,
                        this.elasticBackTime = s,
                        this.data = r,
                        this._disableMouseEvent = a,
                        this.ratio = o,
                        1 != t.globalScaleX || 1 != t.globalScaleY ? this._parent = t.parent: this._parent = Laya.stage,
                        this._clickOnly = !0,
                        this._dragging = !0,
                        this._elasticRateX = this._elasticRateY = 1,
                        this._lastX = this._parent.mouseX,
                        this._lastY = this._parent.mouseY,
                        Laya.stage.on("mouseup", this, this.onStageMouseUp),
                        Laya.stage.on("mouseout", this, this.onStageMouseUp),
                        Laya.timer.frameLoop(1, this, this.loop)
                    },
                    e.clearTimer = function() {
                        Laya.timer.clear(this, this.loop),
                        Laya.timer.clear(this, this.tweenMove),
                        this._tween && (this._tween.recover(), this._tween = null)
                    },
                    e.stop = function() {
                        this._dragging && (MouseManager.instance.disableMouseEvent = !1, Laya.stage.off("mouseup", this, this.onStageMouseUp), Laya.stage.off("mouseout", this, this.onStageMouseUp), this._dragging = !1, this.target && this.area && this.backToArea(), this.clear())
                    },
                    e.loop = function() {
                        var t = this._parent.getMousePoint(),
                        e = t.x,
                        i = t.y,
                        n = e - this._lastX,
                        s = i - this._lastY;
                        if (this._clickOnly) {
                            if (! (Math.abs(n * Laya.stage._canvasTransform.getScaleX()) > 1 || Math.abs(s * Laya.stage._canvasTransform.getScaleY()) > 1)) return;
                            this._clickOnly = !1,
                            this._offsets || (this._offsets = []),
                            this._offsets.length = 0,
                            this.target.event("dragstart", this.data),
                            MouseManager.instance.disableMouseEvent = this._disableMouseEvent,
                            this.target._set$P("$_MOUSEDOWN", !1)
                        } else this._offsets.push(n, s);
                        0 === n && 0 === s || (this._lastX = e, this._lastY = i, this.target.x += n * this._elasticRateX, this.target.y += s * this._elasticRateY, this.area && this.checkArea(), this.target.event("dragmove", this.data))
                    },
                    e.checkArea = function() {
                        if (this.elasticDistance <= 0) this.backToArea();
                        else {
                            if (this.target.x < this.area.x) var t = this.area.x - this.target.x;
                            else t = this.target.x > this.area.x + this.area.width ? this.target.x - this.area.x - this.area.width: 0;
                            if (this._elasticRateX = Math.max(0, 1 - t / this.elasticDistance), this.target.y < this.area.y) var e = this.area.y - this.target.y;
                            else e = this.target.y > this.area.y + this.area.height ? this.target.y - this.area.y - this.area.height: 0;
                            this._elasticRateY = Math.max(0, 1 - e / this.elasticDistance)
                        }
                    },
                    e.backToArea = function() {
                        this.target.x = Math.min(Math.max(this.target.x, this.area.x), this.area.x + this.area.width),
                        this.target.y = Math.min(Math.max(this.target.y, this.area.y), this.area.y + this.area.height)
                    },
                    e.onStageMouseUp = function(t) {
                        if (MouseManager.instance.disableMouseEvent = !1, Laya.stage.off("mouseup", this, this.onStageMouseUp), Laya.stage.off("mouseout", this, this.onStageMouseUp), Laya.timer.clear(this, this.loop), !this._clickOnly && this.target) if (this.hasInertia) {
                            this._offsets.length < 1 && this._offsets.push(this._parent.mouseX - this._lastX, this._parent.mouseY - this._lastY),
                            this._offsetX = this._offsetY = 0;
                            for (var e = this._offsets.length,
                            i = Math.min(e, 6), n = this._offsets.length - i, s = e - 1; s > n; s--) this._offsetY += this._offsets[s--],
                            this._offsetX += this._offsets[s];
                            this._offsetX = this._offsetX / i * 2,
                            this._offsetY = this._offsetY / i * 2,
                            Math.abs(this._offsetX) > this.maxOffset && (this._offsetX = this._offsetX > 0 ? this.maxOffset: -this.maxOffset),
                            Math.abs(this._offsetY) > this.maxOffset && (this._offsetY = this._offsetY > 0 ? this.maxOffset: -this.maxOffset),
                            Laya.timer.frameLoop(1, this, this.tweenMove)
                        } else this.elasticDistance > 0 ? this.checkElastic() : this.clear()
                    },
                    e.checkElastic = function() {
                        var t = NaN,
                        e = NaN;
                        if (this.target.x < this.area.x ? t = this.area.x: this.target.x > this.area.x + this.area.width && (t = this.area.x + this.area.width), this.target.y < this.area.y ? e = this.area.y: this.target.y > this.area.y + this.area.height && (e = this.area.y + this.area.height), isNaN(t) && isNaN(e)) this.clear();
                        else {
                            var i = {};
                            isNaN(t) || (i.x = t),
                            isNaN(e) || (i.y = e),
                            this._tween = Tween.to(this.target, i, this.elasticBackTime, Ease.sineOut, Handler.create(this, this.clear), 0, !1, !1)
                        }
                    },
                    e.tweenMove = function() {
                        this._offsetX *= this.ratio * this._elasticRateX,
                        this._offsetY *= this.ratio * this._elasticRateY,
                        this.target.x += this._offsetX,
                        this.target.y += this._offsetY,
                        this.area && this.checkArea(),
                        this.target.event("dragmove", this.data),
                        (Math.abs(this._offsetX) < 1 && Math.abs(this._offsetY) < 1 || this._elasticRateX < .5 || this._elasticRateY < .5) && (Laya.timer.clear(this, this.tweenMove), this.elasticDistance > 0 ? this.checkElastic() : this.clear())
                    },
                    e.clear = function() {
                        if (this.target) {
                            this.clearTimer();
                            var t = this.target;
                            this.target = null,
                            this._parent = null,
                            t.event("dragend", this.data)
                        }
                    },
                    t
                } (),
                Ease = function() {
                    function t() {}
                    return __class(t, "laya.utils.Ease"),
                    t.linearNone = function(t, e, i, n) {
                        return i * t / n + e
                    },
                    t.linearIn = function(t, e, i, n) {
                        return i * t / n + e
                    },
                    t.linearInOut = function(t, e, i, n) {
                        return i * t / n + e
                    },
                    t.linearOut = function(t, e, i, n) {
                        return i * t / n + e
                    },
                    t.bounceIn = function(e, i, n, s) {
                        return n - t.bounceOut(s - e, 0, n, s) + i
                    },
                    t.bounceInOut = function(e, i, n, s) {
                        return e < .5 * s ? .5 * t.bounceIn(2 * e, 0, n, s) + i: .5 * t.bounceOut(2 * e - s, 0, n, s) + .5 * n + i
                    },
                    t.bounceOut = function(t, e, i, n) {
                        return (t /= n) < 1 / 2.75 ? i * (7.5625 * t * t) + e: t < 2 / 2.75 ? i * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + e: t < 2.5 / 2.75 ? i * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + e: i * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + e
                    },
                    t.backIn = function(t, e, i, n, s) {
                        return void 0 === s && (s = 1.70158),
                        i * (t /= n) * t * ((s + 1) * t - s) + e
                    },
                    t.backInOut = function(t, e, i, n, s) {
                        return void 0 === s && (s = 1.70158),
                        (t /= .5 * n) < 1 ? .5 * i * (t * t * ((1 + (s *= 1.525)) * t - s)) + e: i / 2 * ((t -= 2) * t * ((1 + (s *= 1.525)) * t + s) + 2) + e
                    },
                    t.backOut = function(t, e, i, n, s) {
                        return void 0 === s && (s = 1.70158),
                        i * ((t = t / n - 1) * t * ((s + 1) * t + s) + 1) + e
                    },
                    t.elasticIn = function(e, i, n, s, r, a) {
                        void 0 === r && (r = 0),
                        void 0 === a && (a = 0);
                        var o;
                        return 0 == e ? i: 1 == (e /= s) ? i + n: (a || (a = .3 * s), !r || n > 0 && r < n || n < 0 && r < -n ? (r = n, o = a / 4) : o = a / t.PI2 * Math.asin(n / r), -r * Math.pow(2, 10 * (e -= 1)) * Math.sin((e * s - o) * t.PI2 / a) + i)
                    },
                    t.elasticInOut = function(e, i, n, s, r, a) {
                        void 0 === r && (r = 0),
                        void 0 === a && (a = 0);
                        var o;
                        return 0 == e ? i: 2 == (e /= .5 * s) ? i + n: (a || (a = s * (.3 * 1.5)), !r || n > 0 && r < n || n < 0 && r < -n ? (r = n, o = a / 4) : o = a / t.PI2 * Math.asin(n / r), e < 1 ? r * Math.pow(2, 10 * (e -= 1)) * Math.sin((e * s - o) * t.PI2 / a) * -.5 + i: r * Math.pow(2, -10 * (e -= 1)) * Math.sin((e * s - o) * t.PI2 / a) * .5 + n + i)
                    },
                    t.elasticOut = function(e, i, n, s, r, a) {
                        void 0 === r && (r = 0),
                        void 0 === a && (a = 0);
                        var o;
                        return 0 == e ? i: 1 == (e /= s) ? i + n: (a || (a = .3 * s), !r || n > 0 && r < n || n < 0 && r < -n ? (r = n, o = a / 4) : o = a / t.PI2 * Math.asin(n / r), r * Math.pow(2, -10 * e) * Math.sin((e * s - o) * t.PI2 / a) + n + i)
                    },
                    t.strongIn = function(t, e, i, n) {
                        return i * (t /= n) * t * t * t * t + e
                    },
                    t.strongInOut = function(t, e, i, n) {
                        return (t /= .5 * n) < 1 ? .5 * i * t * t * t * t * t + e: .5 * i * ((t -= 2) * t * t * t * t + 2) + e
                    },
                    t.strongOut = function(t, e, i, n) {
                        return i * ((t = t / n - 1) * t * t * t * t + 1) + e
                    },
                    t.sineInOut = function(t, e, i, n) {
                        return.5 * -i * (Math.cos(Math.PI * t / n) - 1) + e
                    },
                    t.sineIn = function(e, i, n, s) {
                        return - n * Math.cos(e / s * t.HALF_PI) + n + i
                    },
                    t.sineOut = function(e, i, n, s) {
                        return n * Math.sin(e / s * t.HALF_PI) + i
                    },
                    t.quintIn = function(t, e, i, n) {
                        return i * (t /= n) * t * t * t * t + e
                    },
                    t.quintInOut = function(t, e, i, n) {
                        return (t /= .5 * n) < 1 ? .5 * i * t * t * t * t * t + e: .5 * i * ((t -= 2) * t * t * t * t + 2) + e
                    },
                    t.quintOut = function(t, e, i, n) {
                        return i * ((t = t / n - 1) * t * t * t * t + 1) + e
                    },
                    t.quartIn = function(t, e, i, n) {
                        return i * (t /= n) * t * t * t + e
                    },
                    t.quartInOut = function(t, e, i, n) {
                        return (t /= .5 * n) < 1 ? .5 * i * t * t * t * t + e: .5 * -i * ((t -= 2) * t * t * t - 2) + e
                    },
                    t.quartOut = function(t, e, i, n) {
                        return - i * ((t = t / n - 1) * t * t * t - 1) + e
                    },
                    t.cubicIn = function(t, e, i, n) {
                        return i * (t /= n) * t * t + e
                    },
                    t.cubicInOut = function(t, e, i, n) {
                        return (t /= .5 * n) < 1 ? .5 * i * t * t * t + e: .5 * i * ((t -= 2) * t * t + 2) + e
                    },
                    t.cubicOut = function(t, e, i, n) {
                        return i * ((t = t / n - 1) * t * t + 1) + e
                    },
                    t.quadIn = function(t, e, i, n) {
                        return i * (t /= n) * t + e
                    },
                    t.quadInOut = function(t, e, i, n) {
                        return (t /= .5 * n) < 1 ? .5 * i * t * t + e: .5 * -i * (--t * (t - 2) - 1) + e
                    },
                    t.quadOut = function(t, e, i, n) {
                        return - i * (t /= n) * (t - 2) + e
                    },
                    t.expoIn = function(t, e, i, n) {
                        return 0 == t ? e: i * Math.pow(2, 10 * (t / n - 1)) + e - .001 * i
                    },
                    t.expoInOut = function(t, e, i, n) {
                        return 0 == t ? e: t == n ? e + i: (t /= .5 * n) < 1 ? .5 * i * Math.pow(2, 10 * (t - 1)) + e: .5 * i * (2 - Math.pow(2, -10 * --t)) + e
                    },
                    t.expoOut = function(t, e, i, n) {
                        return t == n ? e + i: i * (1 - Math.pow(2, -10 * t / n)) + e
                    },
                    t.circIn = function(t, e, i, n) {
                        return - i * (Math.sqrt(1 - (t /= n) * t) - 1) + e
                    },
                    t.circInOut = function(t, e, i, n) {
                        return (t /= .5 * n) < 1 ? .5 * -i * (Math.sqrt(1 - t * t) - 1) + e: .5 * i * (Math.sqrt(1 - (t -= 2) * t) + 1) + e
                    },
                    t.circOut = function(t, e, i, n) {
                        return i * Math.sqrt(1 - (t = t / n - 1) * t) + e
                    },
                    t.HALF_PI = .5 * Math.PI,
                    t.PI2 = 2 * Math.PI,
                    t
                } (),
                HitArea = function() {
                    function t() {
                        this._hit = null,
                        this._unHit = null
                    }
                    __class(t, "laya.utils.HitArea");
                    var e = t.prototype;
                    return e.isHit = function(e, i) {
                        return !! t.isHitGraphic(e, i, this.hit) && !t.isHitGraphic(e, i, this.unHit)
                    },
                    e.contains = function(t, e) {
                        return this.isHit(t, e)
                    },
                    __getset(0, e, "hit",
                    function() {
                        return this._hit || (this._hit = new Graphics),
                        this._hit
                    },
                    function(t) {
                        this._hit = t
                    }),
                    __getset(0, e, "unHit",
                    function() {
                        return this._unHit || (this._unHit = new Graphics),
                        this._unHit
                    },
                    function(t) {
                        this._unHit = t
                    }),
                    t.isHitGraphic = function(e, i, n) {
                        if (!n) return ! 1;
                        var s;
                        if (s = n.cmds, !s && n._one && (s = t._cmds, s.length = 1, s[0] = n._one), !s) return ! 1;
                        var r = 0,
                        a = 0;
                        a = s.length;
                        var o;
                        for (r = 0; r < a; r++) if (o = s[r]) {
                            var h = Render._context;
                            switch (o.callee) {
                            case h._translate:
                            case 6:
                                e -= o[0],
                                i -= o[1]
                            }
                            if (t.isHitCmd(e, i, o)) return ! 0
                        }
                        return ! 1
                    },
                    t.isHitCmd = function(e, i, n) {
                        if (!n) return ! 1;
                        var s = Render._context,
                        r = !1;
                        switch (n.callee) {
                        case s._drawRect:
                        case 13:
                            t._rec.setTo(n[0], n[1], n[2], n[3]),
                            r = t._rec.contains(e, i);
                            break;
                        case s._drawCircle:
                        case s._fillCircle:
                        case 14:
                            var a = NaN;
                            e -= n[0],
                            i -= n[1],
                            a = e * e + i * i,
                            r = a < n[2] * n[2];
                            break;
                        case s._drawPoly:
                        case 18:
                            e -= n[0],
                            i -= n[1],
                            r = t.ptInPolygon(e, i, n[2])
                        }
                        return r
                    },
                    t.ptInPolygon = function(e, i, n) {
                        var s;
                        s = t._ptPoint,
                        s.setTo(e, i);
                        var r = 0,
                        a = NaN,
                        o = NaN,
                        h = NaN,
                        l = NaN,
                        u = 0;
                        u = n.length;
                        for (var c = 0; c < u; c += 2) if (a = n[c], o = n[c + 1], h = n[(c + 2) % u], l = n[(c + 3) % u], o != l && !(s.y < Math.min(o, l) || s.y >= Math.max(o, l))) {
                            var d = (s.y - o) * (h - a) / (l - o) + a;
                            d > s.x && r++
                        }
                        return r % 2 == 1
                    },
                    t._cmds = [],
                    __static(t, ["_rec",
                    function() {
                        return this._rec = new Rectangle
                    },
                    "_ptPoint",
                    function() {
                        return this._ptPoint = new Point
                    }]),
                    t
                } (),
                HTMLChar = function() {
                    function t(e, i, n, s) {
                        this.char = e,
                        this.charNum = e.charCodeAt(0),
                        this._x = this._y = 0,
                        this.width = i,
                        this.height = n,
                        this.style = s,
                        this.isWord = !t._isWordRegExp.test(e)
                    }
                    __class(t, "laya.utils.HTMLChar");
                    var e = t.prototype;
                    return Laya.imps(e, {
                        "laya.display.ILayout": !0
                    }),
                    e.setSprite = function(t) {
                        this._sprite = t
                    },
                    e.getSprite = function() {
                        return this._sprite
                    },
                    e._isChar = function() {
                        return ! 0
                    },
                    e._getCSSStyle = function() {
                        return this.style
                    },
                    __getset(0, e, "width",
                    function() {
                        return this._w
                    },
                    function(t) {
                        this._w = t
                    }),
                    __getset(0, e, "x",
                    function() {
                        return this._x
                    },
                    function(t) {
                        this._sprite && (this._sprite.x = t),
                        this._x = t
                    }),
                    __getset(0, e, "y",
                    function() {
                        return this._y
                    },
                    function(t) {
                        this._sprite && (this._sprite.y = t),
                        this._y = t
                    }),
                    __getset(0, e, "height",
                    function() {
                        return this._h
                    },
                    function(t) {
                        this._h = t
                    }),
                    t._isWordRegExp = new RegExp("[\\w.]", ""),
                    t
                } (),
                Log = function() {
                    function t() {}
                    return __class(t, "laya.utils.Log"),
                    t.enable = function() {
                        t._logdiv || (t._logdiv = Browser.window.document.createElement("div"), Browser.window.document.body.appendChild(t._logdiv), t._logdiv.style.cssText = "pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;")
                    },
                    t.toggle = function() {
                        var e = t._logdiv.style;
                        "1px" == e.width ? e.width = e.height = "50%": e.width = e.height = "1px"
                    },
                    t.print = function(e) {
                        t._logdiv && (t._count >= t.maxCount && t.clear(), t._count++, t._logdiv.innerText += e + "\n", t._logdiv.scrollTop = t._logdiv.scrollHeight)
                    },
                    t.clear = function() {
                        t._logdiv.innerText = "",
                        t._count = 0
                    },
                    t._logdiv = null,
                    t._count = 0,
                    t.maxCount = 20,
                    t
                } (),
                Mouse = function() {
                    function t() {}
                    return __class(t, "laya.utils.Mouse"),
                    __getset(1, t, "cursor",
                    function() {
                        return t._style.cursor
                    },
                    function(e) {
                        t._style.cursor = e
                    }),
                    t.hide = function() {
                        "none" != t.cursor && (t._preCursor = t.cursor, t.cursor = "none")
                    },
                    t.show = function() {
                        "none" == t.cursor && (t._preCursor ? t.cursor = t._preCursor: t.cursor = "auto")
                    },
                    t._preCursor = null,
                    __static(t, ["_style",
                    function() {
                        return this._style = Browser.document.body.style
                    }]),
                    t
                } (),
                Pool = function() {
                    function t() {}
                    return __class(t, "laya.utils.Pool"),
                    t.getPoolBySign = function(e) {
                        return t._poolDic[e] || (t._poolDic[e] = [])
                    },
                    t.clearBySign = function(e) {
                        t._poolDic[e] && (t._poolDic[e].length = 0)
                    },
                    t.recover = function(e, i) {
                        i.__InPool || (i.__InPool = !0, t.getPoolBySign(e).push(i))
                    },
                    t.getItemByClass = function(e, i) {
                        var n = t.getPoolBySign(e),
                        s = n.length ? n.pop() : new i;
                        return s.__InPool = !1,
                        s
                    },
                    t.getItemByCreateFun = function(e, i) {
                        var n = t.getPoolBySign(e),
                        s = n.length ? n.pop() : i();
                        return s.__InPool = !1,
                        s
                    },
                    t.getItem = function(e) {
                        var i = t.getPoolBySign(e),
                        n = i.length ? i.pop() : null;
                        return n && (n.__InPool = !1),
                        n
                    },
                    t._poolDic = {},
                    t.InPoolSign = "__InPool",
                    t
                } (),
                PoolCache = function() {
                    function t() {
                        this.sign = null,
                        this.maxCount = 1e3
                    }
                    __class(t, "laya.utils.PoolCache");
                    var e = t.prototype;
                    return e.getCacheList = function() {
                        return Pool.getPoolBySign(this.sign)
                    },
                    e.tryDispose = function(t) {
                        var e;
                        e = Pool.getPoolBySign(this.sign),
                        e.length > this.maxCount && e.splice(this.maxCount, e.length - this.maxCount)
                    },
                    t.addPoolCacheManager = function(e, i) {
                        void 0 === i && (i = 100);
                        var n;
                        n = new t,
                        n.sign = e,
                        n.maxCount = i,
                        CacheManger.regCacheByFunction(Utils.bind(n.tryDispose, n), Utils.bind(n.getCacheList, n))
                    },
                    t
                } (),
                Stat = function() {
                    function t() {}
                    return __class(t, "laya.utils.Stat"),
                    __getset(1, t, "onclick", null,
                    function(e) {
                        t._canvas.source.onclick = e,
                        t._canvas.source.style.pointerEvents = ""
                    }),
                    t.show = function(e, i) {
                        if (void 0 === e && (e = 0), void 0 === i && (i = 0), Render.isConchApp) return void(conch.showFPS && conch.showFPS(e, i));
                        var n = Browser.pixelRatio;
                        t._width = 130 * n,
                        t._vx = 75 * n,
                        t._view[0] = {
                            title: "FPS(Canvas)",
                            value: "_fpsStr",
                            color: "yellow",
                            units: "int"
                        },
                        t._view[1] = {
                            title: "Sprite",
                            value: "spriteCount",
                            color: "white",
                            units: "int"
                        },
                        t._view[2] = {
                            title: "DrawCall",
                            value: "drawCall",
                            color: "white",
                            units: "int"
                        },
                        t._view[3] = {
                            title: "CurMem",
                            value: "currentMemorySize",
                            color: "yellow",
                            units: "M"
                        },
                        Render.isWebGL ? (t._view[4] = {
                            title: "Shader",
                            value: "shaderCall",
                            color: "white",
                            units: "int"
                        },
                        Render.is3DMode ? (t._view[0].title = "FPS(3D)", t._view[5] = {
                            title: "TriFaces",
                            value: "trianglesFaces",
                            color: "white",
                            units: "int"
                        },
                        t._view[6] = {
                            title: "treeNodeColl",
                            value: "treeNodeCollision",
                            color: "white",
                            units: "int"
                        },
                        t._view[7] = {
                            title: "treeSpriteColl",
                            value: "treeSpriteCollision",
                            color: "white",
                            units: "int"
                        }) : (t._view[0].title = "FPS(WebGL)", t._view[5] = {
                            title: "Canvas",
                            value: "_canvasStr",
                            color: "white",
                            units: "int"
                        })) : t._view[4] = {
                            title: "Canvas",
                            value: "_canvasStr",
                            color: "white",
                            units: "int"
                        },
                        t._fontSize = 12 * n;
                        for (var s = 0; s < t._view.length; s++) t._view[s].x = 4,
                        t._view[s].y = s * t._fontSize + 2 * n;
                        t._height = n * (12 * t._view.length + 3 * n) + 4,
                        t._canvas || (t._canvas = canvas, t._ctx = t._canvas.getContext("2d")),
                        t._first = !0,
                        t.loop(),
                        t._first = !1,
                        t.enable()
                    },
                    t.enable = function() {
                        Laya.timer.frameLoop(1, t, t.loop)
                    },
                    t.hide = function() {
                        t._canvas && (Browser.removeElement(t._canvas.source), Laya.timer.clear(t, t.loop))
                    },
                    t.clear = function() {
                        t.trianglesFaces = t.drawCall = t.shaderCall = t.spriteCount = t.treeNodeCollision = t.treeSpriteCollision = t.canvasNormal = t.canvasBitmap = t.canvasReCache = 0
                    },
                    t.loop = function() {
                        t._count++;
                        var e = Browser.now();
                        if (! (e - t._timer < 1e3)) {
                            var i = t._count;
                            if (t.FPS = Math.round(1e3 * i / (e - t._timer)), t._canvas) {
                                t.trianglesFaces = Math.round(t.trianglesFaces / i),
                                t.drawCall = Math.round(t.drawCall / i) - 2,
                                t.shaderCall = Math.round(t.shaderCall / i),
                                t.spriteCount = Math.round(t.spriteCount / i) - 1,
                                t.canvasNormal = Math.round(t.canvasNormal / i),
                                t.canvasBitmap = Math.round(t.canvasBitmap / i),
                                t.canvasReCache = Math.ceil(t.canvasReCache / i),
                                t.treeNodeCollision = Math.round(t.treeNodeCollision / i),
                                t.treeSpriteCollision = Math.round(t.treeSpriteCollision / i);
                                var n = t.FPS > 0 ? Math.floor(1e3 / t.FPS).toString() : " ";
                                t._fpsStr = t.FPS + (t.renderSlow ? " slow": "") + " " + n,
                                t._canvasStr = t.canvasReCache + "/" + t.canvasNormal + "/" + t.canvasBitmap,
                                t.currentMemorySize = ResourceManager.systemResourceManager.memorySize;
                                var s = t._ctx;
                                s.clearRect(t._first ? 0 : t._vx, 0, t._width, t._height);
                                for (var r = 0; r < t._view.length; r++) {
                                    var a = t._view[r];
                                    t._first && (s.fillStyle = "white", s.fillText(a.title, a.x, a.y, null, null, null)),
                                    s.fillStyle = a.color;
                                    var o = t[a.value];
                                    "M" == a.units && (o = Math.floor(o / 1048576 * 100) / 100 + " M"),
                                    s.fillText(o + "", a.x + t._vx, a.y, null, null, null),
                                    /me/i.test(a.title) && console.log(a.title + ":" + o)
                                }
                                t.clear()
                            }
                            t._count = 0,
                            t._timer = e
                        }
                    },
                    t.FPS = 0,
                    t.loopCount = 0,
                    t.shaderCall = 0,
                    t.drawCall = 0,
                    t.trianglesFaces = 0,
                    t.spriteCount = 0,
                    t.treeNodeCollision = 0,
                    t.treeSpriteCollision = 0,
                    t.canvasNormal = 0,
                    t.canvasBitmap = 0,
                    t.canvasReCache = 0,
                    t.renderSlow = !1,
                    t.currentMemorySize = 0,
                    t._fpsStr = null,
                    t._canvasStr = null,
                    t._canvas = null,
                    t._ctx = null,
                    t._timer = 0,
                    t._count = 0,
                    t._width = 0,
                    t._height = 100,
                    t._view = [],
                    t._fontSize = 12,
                    t._first = !1,
                    t._vx = NaN,
                    t
                } (),
                StringKey = function() {
                    function t() {
                        this._strsToID = {},
                        this._idToStrs = [],
                        this._length = 0
                    }
                    __class(t, "laya.utils.StringKey");
                    var e = t.prototype;
                    return e.add = function(t) {
                        var e = this._strsToID[t];
                        return null != e ? e: (this._idToStrs[this._length] = t, this._strsToID[t] = this._length++)
                    },
                    e.getID = function(t) {
                        var e = this._strsToID[t];
                        return null == e ? -1 : e
                    },
                    e.getName = function(t) {
                        var e = this._idToStrs[t];
                        return null == e ? void 0 : e
                    },
                    t
                } (),
                Timer = function() {
                    function t() {
                        this._delta = 0,
                        this.scale = 1,
                        this.currFrame = 0,
                        this._mid = 1,
                        this._map = [],
                        this._laters = [],
                        this._handlers = [],
                        this._temp = [],
                        this._count = 0,
                        this.currTimer = Browser.now(),
                        this._lastTimer = Browser.now(),
                        Laya.timer && Laya.timer.frameLoop(1, this, this._update)
                    }
                    var e;
                    __class(t, "laya.utils.Timer");
                    var i = t.prototype;
                    return i._update = function() {
                        if (this.scale <= 0) return void(this._lastTimer = Browser.now());
                        var t = this.currFrame = this.currFrame + this.scale,
                        e = Browser.now();
                        this._delta = (e - this._lastTimer) * this.scale;
                        var i = this.currTimer = this.currTimer + this._delta;
                        this._lastTimer = e;
                        var n = this._handlers;
                        for (this._count = 0, a = 0, o = n.length; a < o; a++) if (h = n[a], null !== h.method) {
                            var s = h.userFrame ? t: i;
                            if (s >= h.exeTime) if (h.repeat) if (h.jumpFrame) for (; s >= h.exeTime;) h.exeTime += h.delay,
                            h.run(!1);
                            else h.exeTime += h.delay,
                            h.run(!1),
                            s > h.exeTime && (h.exeTime += Math.ceil((s - h.exeTime) / h.delay) * h.delay);
                            else h.run(!0)
                        } else this._count++; (this._count > 30 || t % 200 == 0) && this._clearHandlers();
                        for (var r = this._laters,
                        a = 0,
                        o = r.length - 1; a <= o; a++) {
                            var h = r[a];
                            null !== h.method && (this._map[h.key] = null, h.run(!1)),
                            this._recoverHandler(h),
                            a === o && (o = r.length - 1)
                        }
                        r.length = 0
                    },
                    i._clearHandlers = function() {
                        for (var t = this._handlers,
                        e = 0,
                        i = t.length; e < i; e++) {
                            var n = t[e];
                            null !== n.method ? this._temp.push(n) : this._recoverHandler(n)
                        }
                        this._handlers = this._temp,
                        this._temp = t,
                        this._temp.length = 0
                    },
                    i._recoverHandler = function(e) {
                        this._map[e.key] == e && (this._map[e.key] = null),
                        e.clear(),
                        t._pool.push(e)
                    },
                    i._create = function(i, n, s, r, a, o, h) {
                        if (!s) return a.apply(r, o),
                        null;
                        if (h) {
                            var l = this._getHandler(r, a);
                            if (l) return l.repeat = n,
                            l.userFrame = i,
                            l.delay = s,
                            l.caller = r,
                            l.method = a,
                            l.args = o,
                            l.exeTime = s + (i ? this.currFrame: this.currTimer + Browser.now() - this._lastTimer),
                            l
                        }
                        return l = t._pool.length > 0 ? t._pool.pop() : new e,
                        l.repeat = n,
                        l.userFrame = i,
                        l.delay = s,
                        l.caller = r,
                        l.method = a,
                        l.args = o,
                        l.exeTime = s + (i ? this.currFrame: this.currTimer + Browser.now() - this._lastTimer),
                        this._indexHandler(l),
                        this._handlers.push(l),
                        l
                    },
                    i._indexHandler = function(t) {
                        var e = t.caller,
                        i = t.method,
                        n = e ? e.$_GID || (e.$_GID = Utils.getGID()) : 0,
                        s = i.$_TID || (i.$_TID = 1e5 * this._mid++);
                        t.key = n + s,
                        this._map[t.key] = t
                    },
                    i.once = function(t, e, i, n, s) {
                        void 0 === s && (s = !0),
                        this._create(!1, !1, t, e, i, n, s)
                    },
                    i.loop = function(t, e, i, n, s, r) {
                        void 0 === s && (s = !0),
                        void 0 === r && (r = !1);
                        var a = this._create(!1, !0, t, e, i, n, s);
                        a && (a.jumpFrame = r)
                    },
                    i.frameOnce = function(t, e, i, n, s) {
                        void 0 === s && (s = !0),
                        this._create(!0, !1, t, e, i, n, s)
                    },
                    i.frameLoop = function(t, e, i, n, s) {
                        void 0 === s && (s = !0),
                        this._create(!0, !0, t, e, i, n, s)
                    },
                    i.toString = function() {
                        return "callLater:" + this._laters.length + " handlers:" + this._handlers.length + " pool:" + t._pool.length
                    },
                    i.clear = function(t, e) {
                        var i = this._getHandler(t, e);
                        i && (this._map[i.key] = null, i.key = 0, i.clear())
                    },
                    i.clearAll = function(t) {
                        if (t) for (var e = 0,
                        i = this._handlers.length; e < i; e++) {
                            var n = this._handlers[e];
                            n.caller === t && (this._map[n.key] = null, n.key = 0, n.clear())
                        }
                    },
                    i._getHandler = function(t, e) {
                        var i = t ? t.$_GID || (t.$_GID = Utils.getGID()) : 0,
                        n = e.$_TID || (e.$_TID = 1e5 * this._mid++);
                        return this._map[i + n]
                    },
                    i.callLater = function(i, n, s) {
                        if (null == this._getHandler(i, n)) {
                            if (t._pool.length) var r = t._pool.pop();
                            else r = new e;
                            r.caller = i,
                            r.method = n,
                            r.args = s,
                            this._indexHandler(r),
                            this._laters.push(r)
                        }
                    },
                    i.runCallLater = function(t, e) {
                        var i = this._getHandler(t, e);
                        i && null != i.method && (this._map[i.key] = null, i.run(!0))
                    },
                    i.runTimer = function(t, e) {
                        this.runCallLater(t, e)
                    },
                    __getset(0, i, "delta",
                    function() {
                        return this._delta
                    }),
                    t._pool = [],
                    t.__init$ = function() {
                        e = function() {
                            function t() {
                                this.key = 0,
                                this.repeat = !1,
                                this.delay = 0,
                                this.userFrame = !1,
                                this.exeTime = 0,
                                this.caller = null,
                                this.method = null,
                                this.args = null,
                                this.jumpFrame = !1
                            }
                            __class(t, "");
                            var e = t.prototype;
                            return e.clear = function() {
                                this.caller = null,
                                this.method = null,
                                this.args = null
                            },
                            e.run = function(t) {
                                var e = this.caller;
                                if (e && e.destroyed) return this.clear();
                                var i = this.method,
                                n = this.args;
                                t && this.clear(),
                                null != i && (n ? i.apply(e, n) : i.call(e))
                            },
                            t
                        } ()
                    },
                    t
                } (),
                Tween = function() {
                    function t() {
                        this.gid = 0
                    }
                    __class(t, "laya.utils.Tween");
                    var e = t.prototype;
                    return e.to = function(t, e, i, n, s, r, a) {
                        return void 0 === r && (r = 0),
                        void 0 === a && (a = !1),
                        this._create(t, e, i, n, s, r, a, !0, !1, !0)
                    },
                    e.from = function(t, e, i, n, s, r, a) {
                        return void 0 === r && (r = 0),
                        void 0 === a && (a = !1),
                        this._create(t, e, i, n, s, r, a, !1, !1, !0)
                    },
                    e._create = function(e, i, n, s, r, a, o, h, l, u) {
                        if (!e) throw new Error("Tween:target is null");
                        this._target = e,
                        this._duration = n,
                        this._ease = s || i.ease || t.easeNone,
                        this._complete = r || i.complete,
                        this._delay = a,
                        this._props = [],
                        this._usedTimer = 0,
                        this._startTimer = Browser.now(),
                        this._usedPool = l,
                        this.update = i.update;
                        var c = e.$_GID || (e.$_GID = Utils.getGID());
                        return t.tweenMap[c] ? (o && t.clearTween(e), t.tweenMap[c].push(this)) : t.tweenMap[c] = [this],
                        u ? a <= 0 ? this.firstStart(e, i, h) : Laya.timer.once(a, this, this.firstStart, [e, i, h]) : this._initProps(e, i, h),
                        this
                    },
                    e.firstStart = function(t, e, i) {
                        if (t.destroyed) return void this.clear();
                        this._initProps(t, e, i),
                        this._beginLoop()
                    },
                    e._initProps = function(t, e, i) {
                        for (var n in e) if ("number" == typeof t[n]) {
                            var s = i ? t[n] : e[n],
                            r = i ? e[n] : t[n];
                            this._props.push([n, s, r - s]),
                            i || (t[n] = s)
                        }
                    },
                    e._beginLoop = function() {
                        Laya.timer.frameLoop(1, this, this._doEase)
                    },
                    e._doEase = function() {
                        this._updateEase(Browser.now())
                    },
                    e._updateEase = function(e) {
                        var i = this._target;
                        if (i) {
                            if (i.destroyed) return t.clearTween(i);
                            var n = this._usedTimer = e - this._startTimer - this._delay;
                            if (! (n < 0)) {
                                if (n >= this._duration) return this.complete();
                                for (var s = n > 0 ? this._ease(n, 0, 1, this._duration) : 0, r = this._props, a = 0, o = r.length; a < o; a++) {
                                    var h = r[a];
                                    i[h[0]] = h[1] + s * h[2]
                                }
                                this.update && this.update.run()
                            }
                        }
                    },
                    e.complete = function() {
                        if (this._target) {
                            Laya.timer.runTimer(this, this.firstStart);
                            for (var t = this._target,
                            e = this._props,
                            i = this._complete,
                            n = 0,
                            s = e.length; n < s; n++) {
                                var r = e[n];
                                t[r[0]] = r[1] + r[2]
                            }
                            this.update && this.update.run(),
                            this.clear(),
                            i && i.run()
                        }
                    },
                    e.pause = function() {
                        Laya.timer.clear(this, this._beginLoop),
                        Laya.timer.clear(this, this._doEase)
                    },
                    e.setStartTime = function(t) {
                        this._startTimer = t
                    },
                    e.clear = function() {
                        this._target && (this._remove(), this._clear())
                    },
                    e._clear = function() {
                        this.pause(),
                        Laya.timer.clear(this, this.firstStart),
                        this._complete = null,
                        this._target = null,
                        this._ease = null,
                        this._props = null,
                        this._usedPool && (this.update = null, Pool.recover("tween", this))
                    },
                    e.recover = function() {
                        this._usedPool = !0,
                        this._clear()
                    },
                    e._remove = function() {
                        var e = t.tweenMap[this._target.$_GID];
                        if (e) for (var i = 0,
                        n = e.length; i < n; i++) if (e[i] === this) {
                            e.splice(i, 1);
                            break
                        }
                    },
                    e.restart = function() {
                        this.pause(),
                        this._usedTimer = 0,
                        this._startTimer = Browser.now();
                        for (var t = this._props,
                        e = 0,
                        i = t.length; e < i; e++) {
                            var n = t[e];
                            this._target[n[0]] = n[1]
                        }
                        Laya.timer.once(this._delay, this, this._beginLoop)
                    },
                    e.resume = function() {
                        this._usedTimer >= this._duration || (this._startTimer = Browser.now() - this._usedTimer - this._delay, this._beginLoop())
                    },
                    __getset(0, e, "progress", null,
                    function(t) {
                        var e = t * this._duration;
                        this._startTimer = Browser.now() - this._delay - e
                    }),
                    t.to = function(e, i, n, s, r, a, o, h) {
                        return void 0 === a && (a = 0),
                        void 0 === o && (o = !1),
                        void 0 === h && (h = !0),
                        Pool.getItemByClass("tween", t)._create(e, i, n, s, r, a, o, !0, h, !0)
                    },
                    t.from = function(e, i, n, s, r, a, o, h) {
                        return void 0 === a && (a = 0),
                        void 0 === o && (o = !1),
                        void 0 === h && (h = !0),
                        Pool.getItemByClass("tween", t)._create(e, i, n, s, r, a, o, !1, h, !0)
                    },
                    t.clearAll = function(e) {
                        if (e && e.$_GID) {
                            var i = t.tweenMap[e.$_GID];
                            if (i) {
                                for (var n = 0,
                                s = i.length; n < s; n++) i[n]._clear();
                                i.length = 0
                            }
                        }
                    },
                    t.clear = function(t) {
                        t.clear()
                    },
                    t.clearTween = function(e) {
                        t.clearAll(e)
                    },
                    t.easeNone = function(t, e, i, n) {
                        return i * t / n + e
                    },
                    t.tweenMap = {},
                    t
                } (),
                Utils = function() {
                    function t() {}
                    return __class(t, "laya.utils.Utils"),
                    t.toRadian = function(e) {
                        return e * t._pi2
                    },
                    t.toAngle = function(e) {
                        return e * t._pi
                    },
                    t.toHexColor = function(t) {
                        if (t < 0 || isNaN(t)) return null;
                        for (var e = t.toString(16); e.length < 6;) e = "0" + e;
                        return "#" + e
                    },
                    t.getGID = function() {
                        return t._gid++
                    },
                    t.concatArray = function(t, e) {
                        if (!e) return t;
                        if (!t) return e;
                        var i = 0,
                        n = e.length;
                        for (i = 0; i < n; i++) t.push(e[i]);
                        return t
                    },
                    t.clearArray = function(t) {
                        return t ? (t.length = 0, t) : t
                    },
                    t.copyArray = function(t, e) {
                        if (t || (t = []), !e) return t;
                        t.length = e.length;
                        var i = 0,
                        n = e.length;
                        for (i = 0; i < n; i++) t[i] = e[i];
                        return t
                    },
                    t.getGlobalRecByPoints = function(t, e, i, n, s) {
                        var r;
                        r = new Point(e, i),
                        r = t.localToGlobal(r);
                        var a;
                        return a = new Point(n, s),
                        a = t.localToGlobal(a),
                        Rectangle._getWrapRec([r.x, r.y, a.x, a.y])
                    },
                    t.getGlobalPosAndScale = function(e) {
                        return t.getGlobalRecByPoints(e, 0, 0, 1, 1)
                    },
                    t.bind = function(t, e) {
                        return t.bind(e)
                    },
                    t.measureText = function(t, e) {
                        return RunDriver.measureText(t, e)
                    },
                    t.updateOrder = function(t) {
                        if (!t || t.length < 2) return ! 1;
                        for (var e, i = 1,
                        n = 0,
                        s = t.length,
                        r = NaN; i < s;) {
                            for (n = i, e = t[n], r = t[n]._zOrder; --n > -1 && t[n]._zOrder > r;) t[n + 1] = t[n];
                            t[n + 1] = e,
                            i++
                        }
                        var a = e.parent.conchModel;
                        if (a) if (null != a.updateZOrder) a.updateZOrder();
                        else {
                            for (i = 0; i < s; i++) a.removeChild(t[i].conchModel);
                            for (i = 0; i < s; i++) a.addChildAt(t[i].conchModel, i)
                        }
                        return ! 0
                    },
                    t.transPointList = function(t, e, i) {
                        var n = 0,
                        s = t.length;
                        for (n = 0; n < s; n += 2) t[n] += e,
                        t[n + 1] += i
                    },
                    t.parseInt = function(t, e) {
                        void 0 === e && (e = 0);
                        var i = Browser.window.parseInt(t, e);
                        return isNaN(i) ? 0 : i
                    },
                    t.getFileExtension = function(e) {
                        t._extReg.lastIndex = e.lastIndexOf(".");
                        var i = t._extReg.exec(e);
                        return i && i.length > 1 ? i[1].toLowerCase() : null
                    },
                    t.getTransformRelativeToWindow = function(t, e, i) {
                        var n = Laya.stage,
                        s = laya.utils.Utils.getGlobalPosAndScale(t),
                        r = n._canvasTransform.clone(),
                        a = r.tx,
                        o = r.ty;
                        r.rotate( - Math.PI / 180 * Laya.stage.canvasDegree),
                        r.scale(Laya.stage.clientScaleX, Laya.stage.clientScaleY);
                        var h = Laya.stage.canvasDegree % 180 != 0,
                        l = NaN,
                        u = NaN;
                        h ? (l = i + s.y, u = e + s.x, l *= r.d, u *= r.a, 90 == Laya.stage.canvasDegree ? (l = a - l, u += o) : (l += a, u = o - u)) : (l = e + s.x, u = i + s.y, l *= r.a, u *= r.d, l += a, u += o),
                        u += Laya.stage._safariOffsetY;
                        var c = NaN,
                        d = NaN;
                        return h ? (c = r.d * s.height, d = r.a * s.width) : (c = r.a * s.width, d = r.d * s.height),
                        {
                            x: l,
                            y: u,
                            scaleX: c,
                            scaleY: d
                        }
                    },
                    t.fitDOMElementInArea = function(e, i, n, s, r, a) {
                        e._fitLayaAirInitialized || (e._fitLayaAirInitialized = !0, e.style.transformOrigin = e.style.webKittransformOrigin = "left top", e.style.position = "absolute");
                        var o = t.getTransformRelativeToWindow(i, n, s);
                        e.style.transform = e.style.webkitTransform = "scale(" + o.scaleX + "," + o.scaleY + ") rotate(" + Laya.stage.canvasDegree + "deg)",
                        e.style.width = r + "px",
                        e.style.height = a + "px",
                        e.style.left = o.x + "px",
                        e.style.top = o.y + "px"
                    },
                    t._gid = 1,
                    t._pi = 180 / Math.PI,
                    t._pi2 = Math.PI / 180,
                    t._extReg = /\.(\w+)\??/g,
                    t.parseXMLFromString = function(t) {
                        var e;
                        if (t = t.replace(/>\s+</g, "><"), e = (new DOMParser).parseFromString(t, "text/xml"), e.firstChild.textContent.indexOf("This page contains the following errors") > -1) throw new Error(e.firstChild.firstChild.textContent);
                        return e
                    },
                    t
                } (),
                VectorGraphManager = function() {
                    function t() {
                        this.useDic = {},
                        this.shapeDic = {},
                        this.shapeLineDic = {},
                        this._id = 0,
                        this._checkKey = !1,
                        this._freeIdArray = [],
                        Render.isWebGL && CacheManger.regCacheByFunction(Utils.bind(this.startDispose, this), Utils.bind(this.getCacheList, this))
                    }
                    __class(t, "laya.utils.VectorGraphManager");
                    var e = t.prototype;
                    return e.getId = function() {
                        return this._id++
                    },
                    e.addShape = function(t, e) {
                        this.shapeDic[t] = e,
                        this.useDic[t] || (this.useDic[t] = !0)
                    },
                    e.addLine = function(t, e) {
                        this.shapeLineDic[t] = e,
                        this.shapeLineDic[t] || (this.shapeLineDic[t] = !0)
                    },
                    e.getShape = function(t) {
                        this._checkKey && null != this.useDic[t] && (this.useDic[t] = !0)
                    },
                    e.deleteShape = function(t) {
                        this.shapeDic[t] && (this.shapeDic[t] = null, delete this.shapeDic[t]),
                        this.shapeLineDic[t] && (this.shapeLineDic[t] = null, delete this.shapeLineDic[t]),
                        null != this.useDic[t] && delete this.useDic[t]
                    },
                    e.getCacheList = function() {
                        var t, e = [];
                        for (t in this.shapeDic) e.push(this.shapeDic[t]);
                        for (t in this.shapeLineDic) e.push(this.shapeLineDic[t]);
                        return e
                    },
                    e.startDispose = function(t) {
                        var e;
                        for (e in this.useDic) this.useDic[e] = !1;
                        this._checkKey = !0
                    },
                    e.endDispose = function() {
                        if (this._checkKey) {
                            var t;
                            for (t in this.useDic) this.useDic[t] || this.deleteShape(t);
                            this._checkKey = !1
                        }
                    },
                    t.getInstance = function() {
                        return t.instance = t.instance || new t
                    },
                    t.instance = null,
                    t
                } (),
                WordText = function() {
                    function t() {
                        this.id = NaN,
                        this.save = [],
                        this.toUpperCase = null,
                        this.changed = !1,
                        this._text = null
                    }
                    __class(t, "laya.utils.WordText");
                    var e = t.prototype;
                    return e.setText = function(t) {
                        this.changed = !0,
                        this._text = t
                    },
                    e.toString = function() {
                        return this._text
                    },
                    e.charCodeAt = function(t) {
                        return this._text ? this._text.charCodeAt(t) : NaN
                    },
                    e.charAt = function(t) {
                        return this._text ? this._text.charAt(t) : null
                    },
                    __getset(0, e, "length",
                    function() {
                        return this._text ? this._text.length: 0
                    }),
                    t
                } (),
                Node = function(t) {
                    function e() {
                        this._bits = 0,
                        this._displayedInStage = !1,
                        this._parent = null,
                        this.conchModel = null,
                        this.name = "",
                        this.destroyed = !1,
                        e.__super.call(this),
                        this._childs = e.ARRAY_EMPTY,
                        this._$P = e.PROP_EMPTY,
                        this.timer = Laya.timer,
                        this.conchModel = Render.isConchNode ? this.createConchModel() : null
                    }
                    __class(e, "laya.display.Node", t);
                    var i = e.prototype;
                    return i._setBit = function(t, e) {
                        if (1 == t) {
                            this._getBit(t) != e && this._updateDisplayedInstage()
                        }
                        e ? this._bits |= t: this._bits &= ~t
                    },
                    i._getBit = function(t) {
                        return 0 != (this._bits & t)
                    },
                    i._setUpNoticeChain = function() {
                        this._getBit(1) && this._setUpNoticeType(1)
                    },
                    i._setUpNoticeType = function(t) {
                        var e = this;
                        for (e._setBit(t, !0), e = e.parent; e;) {
                            if (e._getBit(t)) return;
                            e._setBit(t, !0),
                            e = e.parent
                        }
                    },
                    i.on = function(t, e, i, n) {
                        return "display" !== t && "undisplay" !== t || this._getBit(1) || this._setUpNoticeType(1),
                        this._createListener(t, e, i, n, !1)
                    },
                    i.once = function(t, e, i, n) {
                        return "display" !== t && "undisplay" !== t || this._getBit(1) || this._setUpNoticeType(1),
                        this._createListener(t, e, i, n, !0)
                    },
                    i.createConchModel = function() {
                        return null
                    },
                    i.destroy = function(t) {
                        void 0 === t && (t = !0),
                        this.destroyed = !0,
                        this._parent && this._parent.removeChild(this),
                        this._childs && (t ? this.destroyChildren() : this.removeChildren()),
                        this._childs = null,
                        this._$P = null,
                        this.offAll(),
                        this.timer.clearAll(this)
                    },
                    i.destroyChildren = function() {
                        if (this._childs) for (var t = this._childs.length - 1; t > -1; t--) this._childs[t].destroy(!0)
                    },
                    i.addChild = function(t) {
                        if (!t || this.destroyed || t === this) return t;
                        if (t.zOrder && this._set$P("hasZorder", !0), t._parent === this) {
                            var i = this.getChildIndex(t);
                            i !== this._childs.length - 1 && (this._childs.splice(i, 1), this._childs.push(t), this.conchModel && (this.conchModel.removeChild(t.conchModel), this.conchModel.addChildAt(t.conchModel, this._childs.length - 1)), this._childChanged())
                        } else t.parent && t.parent.removeChild(t),
                        this._childs === e.ARRAY_EMPTY && (this._childs = []),
                        this._childs.push(t),
                        this.conchModel && this.conchModel.addChildAt(t.conchModel, this._childs.length - 1),
                        t.parent = this,
                        this._childChanged();
                        return t
                    },
                    i.addChildren = function(t) {
                        for (var e = arguments,
                        i = 0,
                        n = e.length; i < n;) this.addChild(e[i++])
                    },
                    i.addChildAt = function(t, i) {
                        if (!t || this.destroyed || t === this) return t;
                        if (t.zOrder && this._set$P("hasZorder", !0), i >= 0 && i <= this._childs.length) {
                            if (t._parent === this) {
                                var n = this.getChildIndex(t);
                                this._childs.splice(n, 1),
                                this._childs.splice(i, 0, t),
                                this.conchModel && (this.conchModel.removeChild(t.conchModel), this.conchModel.addChildAt(t.conchModel, i)),
                                this._childChanged()
                            } else t.parent && t.parent.removeChild(t),
                            this._childs === e.ARRAY_EMPTY && (this._childs = []),
                            this._childs.splice(i, 0, t),
                            this.conchModel && this.conchModel.addChildAt(t.conchModel, i),
                            t.parent = this;
                            return t
                        }
                        throw new Error("appendChildAt:The index is out of bounds")
                    },
                    i.getChildIndex = function(t) {
                        return this._childs.indexOf(t)
                    },
                    i.getChildByName = function(t) {
                        var e = this._childs;
                        if (e) for (var i = 0,
                        n = e.length; i < n; i++) {
                            var s = e[i];
                            if (s.name === t) return s
                        }
                        return null
                    },
                    i._get$P = function(t) {
                        return this._$P[t]
                    },
                    i._set$P = function(t, i) {
                        return this.destroyed || (this._$P === e.PROP_EMPTY && (this._$P = {}), this._$P[t] = i),
                        i
                    },
                    i.getChildAt = function(t) {
                        return this._childs[t]
                    },
                    i.setChildIndex = function(t, e) {
                        var i = this._childs;
                        if (e < 0 || e >= i.length) throw new Error("setChildIndex:The index is out of bounds.");
                        var n = this.getChildIndex(t);
                        if (n < 0) throw new Error("setChildIndex:node is must child of this object.");
                        return i.splice(n, 1),
                        i.splice(e, 0, t),
                        this.conchModel && (this.conchModel.removeChild(t.conchModel), this.conchModel.addChildAt(t.conchModel, e)),
                        this._childChanged(),
                        t
                    },
                    i._childChanged = function(t) {},
                    i.removeChild = function(t) {
                        if (!this._childs) return t;
                        var e = this._childs.indexOf(t);
                        return this.removeChildAt(e)
                    },
                    i.removeSelf = function() {
                        return this._parent && this._parent.removeChild(this),
                        this
                    },
                    i.removeChildByName = function(t) {
                        var e = this.getChildByName(t);
                        return e && this.removeChild(e),
                        e
                    },
                    i.removeChildAt = function(t) {
                        var e = this.getChildAt(t);
                        return e && (this._childs.splice(t, 1), this.conchModel && this.conchModel.removeChild(e.conchModel), e.parent = null),
                        e
                    },
                    i.removeChildren = function(t, i) {
                        if (void 0 === t && (t = 0), void 0 === i && (i = 2147483647), this._childs && this._childs.length > 0) {
                            var n = this._childs;
                            if (0 === t && i >= a) {
                                var s = n;
                                this._childs = e.ARRAY_EMPTY
                            } else s = n.splice(t, i - t);
                            for (var r = 0,
                            a = s.length; r < a; r++) s[r].parent = null,
                            this.conchModel && this.conchModel.removeChild(s[r].conchModel)
                        }
                        return this
                    },
                    i.replaceChild = function(t, e) {
                        var i = this._childs.indexOf(e);
                        return i > -1 ? (this._childs.splice(i, 1, t), this.conchModel && (this.conchModel.removeChild(e.conchModel), this.conchModel.addChildAt(t.conchModel, i)), e.parent = null, t.parent = this, t) : null
                    },
                    i._updateDisplayedInstage = function() {
                        var t;
                        t = this;
                        var e = Laya.stage;
                        for (this._displayedInStage = !1; t;) {
                            if (t._getBit(1)) {
                                this._displayedInStage = t._displayedInStage;
                                break
                            }
                            if (t == e || t._displayedInStage) {
                                this._displayedInStage = !0;
                                break
                            }
                            t = t.parent
                        }
                    },
                    i._setDisplay = function(t) {
                        this._displayedInStage !== t && (this._displayedInStage = t, t ? this.event("display") : this.event("undisplay"))
                    },
                    i._displayChild = function(t, e) {
                        var i = t._childs;
                        if (i) for (var n = 0,
                        s = i.length; n < s; n++) {
                            var r = i[n];
                            r._getBit(1) && (r._childs.length > 0 ? this._displayChild(r, e) : r._setDisplay(e))
                        }
                        t._setDisplay(e)
                    },
                    i.contains = function(t) {
                        if (t === this) return ! 0;
                        for (; t;) {
                            if (t.parent === this) return ! 0;
                            t = t.parent
                        }
                        return ! 1
                    },
                    i.timerLoop = function(t, e, i, n, s, r) {
                        void 0 === s && (s = !0),
                        void 0 === r && (r = !1),
                        this.timer.loop(t, e, i, n, s, r)
                    },
                    i.timerOnce = function(t, e, i, n, s) {
                        void 0 === s && (s = !0),
                        this.timer._create(!1, !1, t, e, i, n, s)
                    },
                    i.frameLoop = function(t, e, i, n, s) {
                        void 0 === s && (s = !0),
                        this.timer._create(!0, !0, t, e, i, n, s)
                    },
                    i.frameOnce = function(t, e, i, n, s) {
                        void 0 === s && (s = !0),
                        this.timer._create(!0, !1, t, e, i, n, s)
                    },
                    i.clearTimer = function(t, e) {
                        this.timer.clear(t, e)
                    },
                    __getset(0, i, "numChildren",
                    function() {
                        return this._childs.length
                    }),
                    __getset(0, i, "parent",
                    function() {
                        return this._parent
                    },
                    function(t) {
                        this._parent !== t && (t ? (this._parent = t, this.event("added"), this._getBit(1) && (this._setUpNoticeChain(), t.displayedInStage && this._displayChild(this, !0)), t._childChanged(this)) : (this.event("removed"), this._parent._childChanged(), this._getBit(1) && this._displayChild(this, !1), this._parent = t))
                    }),
                    __getset(0, i, "displayedInStage",
                    function() {
                        return this._getBit(1) ? this._displayedInStage: (this._setUpNoticeType(1), this._displayedInStage)
                    }),
                    e.ARRAY_EMPTY = [],
                    e.PROP_EMPTY = {},
                    e.NOTICE_DISPLAY = 1,
                    e.MOUSEENABLE = 2,
                    e
                } (EventDispatcher),
                CSSStyle = function(t) {
                    function e(t) {
                        this._bgground = null,
                        this._border = null,
                        this._rect = null,
                        this.lineHeight = 0,
                        e.__super.call(this),
                        this._padding = e._PADDING,
                        this._spacing = e._SPACING,
                        this._aligns = e._ALIGNS,
                        this._font = Font.EMPTY,
                        this._ower = t
                    }
                    __class(e, "laya.display.css.CSSStyle", t);
                    var i = e.prototype;
                    return i.destroy = function() {
                        this._ower = null,
                        this._font = null,
                        this._rect = null
                    },
                    i.inherit = function(t) {
                        this._font = t._font,
                        this._spacing = t._spacing === e._SPACING ? e._SPACING: t._spacing.slice(),
                        this.lineHeight = t.lineHeight
                    },
                    i._widthAuto = function() {
                        return 0 != (262144 & this._type)
                    },
                    i.widthed = function(t) {
                        return 0 != (8 & this._type)
                    },
                    i._calculation = function(t, e) {
                        function i(t, e, i) {
                            return t * i[0] + e * i[1] + i[2]
                        }
                        function n(t) {
                            var e = r.width,
                            n = s.width;
                            a.width && (s.width = i(e, n, a.width)),
                            a.height && (s.height = i(e, n, a.height)),
                            a.left && (s.x = i(e, n, a.left)),
                            a.top && (s.y = i(e, n, a.top))
                        }
                        if (e.indexOf("%") < 0) return ! 1;
                        var s = this._ower,
                        r = s.parent,
                        a = this._rect;
                        null === a && (r._getCSSStyle()._type |= 524288, r.on("resize", this, n), this._rect = a = {
                            input: {}
                        });
                        var o = e.split(" ");
                        return o[0] = parseFloat(o[0]) / 100,
                        1 == o.length ? o[1] = o[2] = 0 : (o[1] = parseFloat(o[1]) / 100, o[2] = parseFloat(o[2])),
                        a[t] = o,
                        a.input[t] = e,
                        n(t),
                        !0
                    },
                    i.heighted = function(t) {
                        return 0 != (8192 & this._type)
                    },
                    i.size = function(t, e) {
                        var i = this._ower,
                        n = !1; - 1 !== t && t != this._ower.width && (this._type |= 8, this._ower.width = t, n = !0),
                        -1 !== e && e != this._ower.height && (this._type |= 8192, this._ower.height = e, n = !0),
                        n && (i._layoutLater(), 524288 & this._type && i.event("resize", this))
                    },
                    i._getAlign = function() {
                        return this._aligns[0]
                    },
                    i._getValign = function() {
                        return this._aligns[1]
                    },
                    i._getCssFloat = function() {
                        return 0 != (32768 & this._type) ? 32768 : 0
                    },
                    i._createFont = function() {
                        return 4096 & this._type ? this._font: (this._type |= 4096, this._font = new Font(this._font))
                    },
                    i.render = function(t, e, i, n) {
                        var s = t.width,
                        r = t.height;
                        i -= t.pivotX,
                        n -= t.pivotY,
                        this._bgground && null != this._bgground.color && e.ctx.fillRect(i, n, s, r, this._bgground.color),
                        this._border && this._border.color && e.drawRect(i, n, s, r, this._border.color.strColor, this._border.size)
                    },
                    i.getCSSStyle = function() {
                        return this
                    },
                    i.cssText = function(t) {
                        this.attrs(e.parseOneCSS(t, ";"))
                    },
                    i.attrs = function(t) {
                        if (t) for (var e = 0,
                        i = t.length; e < i; e++) {
                            var n = t[e];
                            this[n[0]] = n[1]
                        }
                    },
                    i.setTransform = function(t) {
                        "none" === t ? this._tf = Style._TF_EMPTY: this.attrs(e.parseOneCSS(t, ","))
                    },
                    i.translate = function(t, e) {
                        this._tf === Style._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.translateX = t,
                        this._tf.translateY = e
                    },
                    i.scale = function(t, e) {
                        this._tf === Style._TF_EMPTY && (this._tf = new TransformInfo),
                        this._tf.scaleX = t,
                        this._tf.scaleY = e
                    },
                    i._enableLayout = function() {
                        return 0 == (2 & this._type) && 0 == (4 & this._type)
                    },
                    __getset(0, i, "block", t.prototype._$get_block,
                    function(t) {
                        t ? this._type |= 1 : this._type &= -2
                    }),
                    __getset(0, i, "valign",
                    function() {
                        return e._valigndef[this._aligns[1]]
                    },
                    function(t) {
                        this._aligns === e._ALIGNS && (this._aligns = [0, 0, 0]),
                        this._aligns[1] = e._valigndef[t]
                    }),
                    __getset(0, i, "height", null,
                    function(t) {
                        if (this._type |= 8192, "string" == typeof t) {
                            if (this._calculation("height", t)) return;
                            t = parseInt(t)
                        }
                        this.size( - 1, t)
                    }),
                    __getset(0, i, "width", null,
                    function(t) {
                        if (this._type |= 8, "string" == typeof t) {
                            var e = t.indexOf("auto");
                            if (e >= 0 && (this._type |= 262144, t = t.substr(0, e)), this._calculation("width", t)) return;
                            t = parseInt(t)
                        }
                        this.size(t, -1)
                    }),
                    __getset(0, i, "fontWeight",
                    function() {
                        return this._font.weight
                    },
                    function(t) {
                        this._createFont().weight = t
                    }),
                    __getset(0, i, "left", null,
                    function(t) {
                        var e = this._ower;
                        if ("string" == typeof t) {
                            if ("center" === t ? t = "50% -50% 0": "right" === t && (t = "100% -100% 0"), this._calculation("left", t)) return;
                            t = parseInt(t)
                        }
                        e.x = t
                    }),
                    __getset(0, i, "_translate", null,
                    function(t) {
                        this.translate(t[0], t[1])
                    }),
                    __getset(0, i, "absolute",
                    function() {
                        return 0 != (4 & this._type)
                    }),
                    __getset(0, i, "top", null,
                    function(t) {
                        var e = this._ower;
                        if ("string" == typeof t) {
                            if ("middle" === t ? t = "50% -50% 0": "bottom" === t && (t = "100% -100% 0"), this._calculation("top", t)) return;
                            t = parseInt(t)
                        }
                        e.y = t
                    }),
                    __getset(0, i, "align",
                    function() {
                        return e._aligndef[this._aligns[0]]
                    },
                    function(t) {
                        this._aligns === e._ALIGNS && (this._aligns = [0, 0, 0]),
                        this._aligns[0] = e._aligndef[t]
                    }),
                    __getset(0, i, "bold",
                    function() {
                        return this._font.bold
                    },
                    function(t) {
                        this._createFont().bold = t
                    }),
                    __getset(0, i, "padding",
                    function() {
                        return this._padding
                    },
                    function(t) {
                        this._padding = t
                    }),
                    __getset(0, i, "leading",
                    function() {
                        return this._spacing[1]
                    },
                    function(t) {
                        "string" == typeof t && (t = parseInt(t + "")),
                        this._spacing === e._SPACING && (this._spacing = [0, 0]),
                        this._spacing[1] = t
                    }),
                    __getset(0, i, "lineElement",
                    function() {
                        return 0 != (65536 & this._type)
                    },
                    function(t) {
                        t ? this._type |= 65536 : this._type &= -65537
                    }),
                    __getset(0, i, "cssFloat",
                    function() {
                        return 0 != (32768 & this._type) ? "right": "left"
                    },
                    function(t) {
                        this.lineElement = !1,
                        "right" === t ? this._type |= 32768 : this._type &= -32769
                    }),
                    __getset(0, i, "textDecoration",
                    function() {
                        return this._font.decoration
                    },
                    function(t) {
                        this._createFont().decoration = t
                    }),
                    __getset(0, i, "whiteSpace",
                    function() {
                        return 131072 & this._type ? "nowrap": ""
                    },
                    function(t) {
                        "nowrap" === t && (this._type |= 131072),
                        "none" === t && (this._type &= -131073)
                    }),
                    __getset(0, i, "background", null,
                    function(t) {
                        if (!t) return void(this._bgground = null);
                        this._bgground || (this._bgground = {}),
                        this._bgground.color = t,
                        this._ower.conchModel && this._ower.conchModel.bgColor(t),
                        this._type |= 16384,
                        this._ower._renderType |= 256
                    }),
                    __getset(0, i, "wordWrap",
                    function() {
                        return 0 == (131072 & this._type)
                    },
                    function(t) {
                        t ? this._type &= -131073 : this._type |= 131072
                    }),
                    __getset(0, i, "color",
                    function() {
                        return this._font.color
                    },
                    function(t) {
                        this._createFont().color = t
                    }),
                    __getset(0, i, "password",
                    function() {
                        return this._font.password
                    },
                    function(t) {
                        this._createFont().password = t
                    }),
                    __getset(0, i, "backgroundColor",
                    function() {
                        return this._bgground ? this._bgground.color: null
                    },
                    function(t) {
                        "none" === t ? this._bgground = null: (this._bgground || (this._bgground = {}), this._bgground.color = t),
                        this._ower.conchModel && this._ower.conchModel.bgColor(t),
                        this._ower._renderType |= 256
                    }),
                    __getset(0, i, "font",
                    function() {
                        return this._font.toString()
                    },
                    function(t) {
                        this._createFont().set(t)
                    }),
                    __getset(0, i, "weight", null,
                    function(t) {
                        this._createFont().weight = t
                    }),
                    __getset(0, i, "letterSpacing",
                    function() {
                        return this._spacing[0]
                    },
                    function(t) {
                        "string" == typeof t && (t = parseInt(t + "")),
                        this._spacing === e._SPACING && (this._spacing = [0, 0]),
                        this._spacing[0] = t
                    }),
                    __getset(0, i, "fontSize",
                    function() {
                        return this._font.size
                    },
                    function(t) {
                        this._createFont().size = t
                    }),
                    __getset(0, i, "italic",
                    function() {
                        return this._font.italic
                    },
                    function(t) {
                        this._createFont().italic = t
                    }),
                    __getset(0, i, "fontFamily",
                    function() {
                        return this._font.family
                    },
                    function(t) {
                        this._createFont().family = t
                    }),
                    __getset(0, i, "stroke",
                    function() {
                        return this._font.stroke[0]
                    },
                    function(t) {
                        this._createFont().stroke === Font._STROKE && (this._font.stroke = [0, "#000000"]),
                        this._font.stroke[0] = t
                    }),
                    __getset(0, i, "strokeColor",
                    function() {
                        return this._font.stroke[1]
                    },
                    function(t) {
                        this._createFont().stroke === Font._STROKE && (this._font.stroke = [0, "#000000"]),
                        this._font.stroke[1] = t
                    }),
                    __getset(0, i, "border",
                    function() {
                        return this._border ? this._border.value: ""
                    },
                    function(t) {
                        if ("none" == t) return void(this._border = null);
                        this._border || (this._border = {}),
                        this._border.value = t;
                        var e = t.split(" ");
                        if (this._border.color = Color.create(e[e.length - 1]), 1 == e.length) return this._border.size = 1,
                        void(this._border.type = "solid");
                        var i = 0;
                        e[0].indexOf("px") > 0 ? (this._border.size = parseInt(e[0]), i++) : this._border.size = 1,
                        this._border.type = e[i],
                        this._ower._renderType |= 256
                    }),
                    __getset(0, i, "borderColor",
                    function() {
                        return this._border && this._border.color ? this._border.color.strColor: null
                    },
                    function(t) {
                        if (!t) return void(this._border = null);
                        this._border || (this._border = {
                            size: 1,
                            type: "solid"
                        }),
                        this._border.color = null == t ? null: Color.create(t),
                        this._ower.conchModel && this._ower.conchModel.border(this._border.color.strColor),
                        this._ower._renderType |= 256
                    }),
                    __getset(0, i, "position",
                    function() {
                        return 4 & this._type ? "absolute": ""
                    },
                    function(t) {
                        "absolute" == t ? this._type |= 4 : this._type &= -5
                    }),
                    __getset(0, i, "display", null,
                    function(t) {
                        switch (t) {
                        case "":
                            this._type &= -3,
                            this.visible = !0;
                            break;
                        case "none":
                            this._type |= 2,
                            this.visible = !1,
                            this._ower._layoutLater()
                        }
                    }),
                    __getset(0, i, "paddingLeft",
                    function() {
                        return this.padding[3]
                    }),
                    __getset(0, i, "paddingTop",
                    function() {
                        return this.padding[0]
                    }),
                    __getset(0, i, "_scale", null,
                    function(t) {
                        this._ower.scale(t[0], t[1])
                    }),
                    __getset(0, i, "_rotate", null,
                    function(t) {
                        this._ower.rotation = t
                    }),
                    e.parseOneCSS = function(t, i) {
                        for (var n, s = [], r = t.split(i), a = 0, o = r.length; a < o; a++) {
                            var h = r[a],
                            l = h.indexOf(":"),
                            u = h.substr(0, l).replace(/^\s+|\s+$/g, "");
                            if (0 != u.length) {
                                var c = h.substr(l + 1).replace(/^\s+|\s+$/g, ""),
                                d = [u, c];
                                switch (u) {
                                case "italic":
                                case "bold":
                                    d[1] = "true" == c;
                                    break;
                                case "line-height":
                                    d[0] = "lineHeight",
                                    d[1] = parseInt(c);
                                    break;
                                case "font-size":
                                    d[0] = "fontSize",
                                    d[1] = parseInt(c);
                                    break;
                                case "padding":
                                    n = c.split(" "),
                                    n.length > 1 || (n[1] = n[2] = n[3] = n[0]),
                                    d[1] = [parseInt(n[0]), parseInt(n[1]), parseInt(n[2]), parseInt(n[3])];
                                    break;
                                case "rotate":
                                    d[0] = "_rotate",
                                    d[1] = parseFloat(c);
                                    break;
                                case "scale":
                                    n = c.split(" "),
                                    d[0] = "_scale",
                                    d[1] = [parseFloat(n[0]), parseFloat(n[1])];
                                    break;
                                case "translate":
                                    n = c.split(" "),
                                    d[0] = "_translate",
                                    d[1] = [parseInt(n[0]), parseInt(n[1])];
                                    break;
                                default:
                                    (d[0] = e._CSSTOVALUE[u]) || (d[0] = u)
                                }
                                s.push(d)
                            }
                        }
                        return s
                    },
                    e.parseCSS = function(t, i) {
                        for (var n; null != (n = e._parseCSSRegExp.exec(t));) e.styleSheets[n[1]] = e.parseOneCSS(n[2], ";")
                    },
                    e.EMPTY = new e(null),
                    e._CSSTOVALUE = {
                        "letter-spacing": "letterSpacing",
                        "line-spacing": "lineSpacing",
                        "white-space": "whiteSpace",
                        "line-height": "lineHeight",
                        "scale-x": "scaleX",
                        "scale-y": "scaleY",
                        "translate-x": "translateX",
                        "translate-y": "translateY",
                        "font-family": "fontFamily",
                        "font-weight": "fontWeight",
                        "vertical-align": "valign",
                        "text-decoration": "textDecoration",
                        "background-color": "backgroundColor",
                        "border-color": "borderColor",
                        float: "cssFloat"
                    },
                    e._parseCSSRegExp = new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}", "g"),
                    e._aligndef = {
                        left: 0,
                        center: 1,
                        right: 2,
                        0 : "left",
                        1 : "center",
                        2 : "right"
                    },
                    e._valigndef = {
                        top: 0,
                        middle: 1,
                        bottom: 2,
                        0 : "top",
                        1 : "middle",
                        2 : "bottom"
                    },
                    e.styleSheets = {},
                    e.ALIGN_CENTER = 1,
                    e.ALIGN_RIGHT = 2,
                    e.VALIGN_MIDDLE = 1,
                    e.VALIGN_BOTTOM = 2,
                    e._CSS_BLOCK = 1,
                    e._DISPLAY_NONE = 2,
                    e._ABSOLUTE = 4,
                    e._WIDTH_SET = 8,
                    e._PADDING = [0, 0, 0, 0],
                    e._RECT = [ - 1, -1, -1, -1],
                    e._SPACING = [0, 0],
                    e._ALIGNS = [0, 0, 0],
                    e.ADDLAYOUTED = 512,
                    e._NEWFONT = 4096,
                    e._HEIGHT_SET = 8192,
                    e._BACKGROUND_SET = 16384,
                    e._FLOAT_RIGHT = 32768,
                    e._LINE_ELEMENT = 65536,
                    e._NOWARP = 131072,
                    e._WIDTHAUTO = 262144,
                    e._LISTERRESZIE = 524288,
                    e
                } (Style),
                AudioSound = function(t) {
                    function e() {
                        this.url = null,
                        this.audio = null,
                        this.loaded = !1,
                        e.__super.call(this)
                    }
                    __class(e, "laya.media.h5audio.AudioSound", t);
                    var i = e.prototype;
                    return i.dispose = function() {
                        var t = e._audioCache[this.url];
                        t && (t.src = "", delete e._audioCache[this.url])
                    },
                    i.load = function(t) {
                        function i() {
                            s(),
                            a.loaded = !0,
                            a.event("complete")
                        }
                        function n() {
                            r.load = null,
                            s(),
                            a.event("error")
                        }
                        function s() {
                            r.removeEventListener("canplaythrough", i),
                            r.removeEventListener("error", n)
                        }
                        t = URL.formatURL(t),
                        this.url = t;
                        var r = e._audioCache[t];
                        if (r && r.readyState >= 2) return void this.event("complete");
                        r || (r = Browser.createElement("audio"), r.src = t, e._audioCache[t] = r),
                        r.addEventListener("canplaythrough", i),
                        r.addEventListener("error", n);
                        var a = this;
                        this.audio = r,
                        r.load ? r.load() : n()
                    },
                    i.play = function(t, i) {
                        if (void 0 === t && (t = 0), void 0 === i && (i = 0), !this.url) return null;
                        var n;
                        if (! (n = e._audioCache[this.url])) return null;
                        var s;
                        s = Pool.getItem("audio:" + this.url),
                        Render.isConchApp ? s || (s = Browser.createElement("audio"), s.src = n.src) : s = s || n.cloneNode(!0);
                        var r = new AudioSoundChannel(s);
                        return r.url = this.url,
                        r.loops = i,
                        r.startTime = t,
                        r.play(),
                        SoundManager.addChannel(r),
                        r
                    },
                    __getset(0, i, "duration",
                    function() {
                        var t;
                        return t = e._audioCache[this.url],
                        t ? t.duration: 0
                    }),
                    e._audioCache = {},
                    e
                } (EventDispatcher),
                SoundChannel = function(t) {
                    function e() {
                        this.url = null,
                        this.loops = 0,
                        this.startTime = NaN,
                        this.isStopped = !1,
                        this.completeHandler = null,
                        e.__super.call(this)
                    }
                    __class(e, "laya.media.SoundChannel", t);
                    var i = e.prototype;
                    return i.play = function() {},
                    i.stop = function() {},
                    i.pause = function() {},
                    i.resume = function() {},
                    i.__runComplete = function(t) {
                        t && t.run()
                    },
                    __getset(0, i, "volume",
                    function() {
                        return 1
                    },
                    function(t) {}),
                    __getset(0, i, "position",
                    function() {
                        return 0
                    }),
                    __getset(0, i, "duration",
                    function() {
                        return 0
                    }),
                    e
                } (EventDispatcher),
                Sound = function(t) {
                    function e() {
                        e.__super.call(this)
                    }
                    __class(e, "laya.media.Sound", t);
                    var i = e.prototype;
                    return i.load = function(t) {},
                    i.play = function(t, e) {
                        return void 0 === t && (t = 0),
                        void 0 === e && (e = 0),
                        null
                    },
                    i.dispose = function() {},
                    __getset(0, i, "duration",
                    function() {
                        return 0
                    }),
                    e
                } (EventDispatcher),
                WebAudioSound = function(t) {
                    function e() {
                        this.url = null,
                        this.loaded = !1,
                        this.data = null,
                        this.audioBuffer = null,
                        this.__toPlays = null,
                        e.__super.call(this)
                    }
                    __class(e, "laya.media.webaudio.WebAudioSound", t);
                    var i = e.prototype;
                    return i.load = function(t) {
                        var i = this;
                        if (t = URL.formatURL(t), this.url = t, this.audioBuffer = e._dataCache[t], this.audioBuffer) return void this._loaded(this.audioBuffer);
                        if (e.e.on("loaded:" + t, this, this._loaded), e.e.on("err:" + t, this, this._err), !e.__loadingSound[t]) {
                            e.__loadingSound[t] = !0;
                            var n = new Browser.window.XMLHttpRequest;
                            n.open("GET", t, !0),
                            n.responseType = "arraybuffer",
                            n.onload = function() {
                                i.data = n.response,
                                e.buffs.push({
                                    buffer: i.data,
                                    url: i.url
                                }),
                                e.decode()
                            },
                            n.onerror = function(t) {
                                i._err()
                            },
                            n.send()
                        }
                    },
                    i._err = function() {
                        this._removeLoadEvents(),
                        e.__loadingSound[this.url] = !1,
                        this.event("error")
                    },
                    i._loaded = function(t) {
                        this._removeLoadEvents(),
                        this.audioBuffer = t,
                        e._dataCache[this.url] = this.audioBuffer,
                        this.loaded = !0,
                        this.event("complete")
                    },
                    i._removeLoadEvents = function() {
                        e.e.off("loaded:" + this.url, this, this._loaded),
                        e.e.off("err:" + this.url, this, this._err)
                    },
                    i.__playAfterLoaded = function() {
                        if (this.__toPlays) {
                            var t, e = 0,
                            i = 0;
                            t = this.__toPlays,
                            i = t.length;
                            var n;
                            for (e = 0; e < i; e++) n = t[e],
                            n[2] && !n[2].isStopped && this.play(n[0], n[1], n[2]);
                            this.__toPlays.length = 0
                        }
                    },
                    i.play = function(t, e, i) {
                        return void 0 === t && (t = 0),
                        void 0 === e && (e = 0),
                        i = i || new WebAudioSoundChannel,
                        this.audioBuffer || this.url && (this.__toPlays || (this.__toPlays = []), this.__toPlays.push([t, e, i]), this.once("complete", this, this.__playAfterLoaded), this.load(this.url)),
                        i.url = this.url,
                        i.loops = e,
                        i.audioBuffer = this.audioBuffer,
                        i.startTime = t,
                        i.play(),
                        SoundManager.addChannel(i),
                        i
                    },
                    i.dispose = function() {
                        delete e._dataCache[this.url],
                        delete e.__loadingSound[this.url]
                    },
                    __getset(0, i, "duration",
                    function() {
                        return this.audioBuffer ? this.audioBuffer.duration: 0
                    }),
                    e.decode = function() {
                        e.buffs.length <= 0 || e.isDecoding || (e.isDecoding = !0, e.tInfo = e.buffs.shift(), e.ctx.decodeAudioData(e.tInfo.buffer, e._done, e._fail))
                    },
                    e._done = function(t) {
                        e.e.event("loaded:" + e.tInfo.url, t),
                        e.isDecoding = !1,
                        e.decode()
                    },
                    e._fail = function() {
                        e.e.event("err:" + e.tInfo.url, null),
                        e.isDecoding = !1,
                        e.decode()
                    },
                    e._playEmptySound = function() {
                        if (null != e.ctx) {
                            var t = e.ctx.createBufferSource();
                            t.buffer = e._miniBuffer,
                            t.connect(e.ctx.destination),
                            t.start(0, 0, 0)
                        }
                    },
                    e._unlock = function() {
                        e._unlocked || (e._playEmptySound(), "running" == e.ctx.state && (Browser.document.removeEventListener("mousedown", e._unlock, !0), Browser.document.removeEventListener("touchend", e._unlock, !0), e._unlocked = !0))
                    },
                    e.initWebAudio = function() {
                        "running" != e.ctx.state && (e._unlock(), Browser.document.addEventListener("mousedown", e._unlock, !0), Browser.document.addEventListener("touchend", e._unlock, !0))
                    },
                    e._dataCache = {},
                    e.buffs = [],
                    e.isDecoding = !1,
                    e._unlocked = !1,
                    e.tInfo = null,
                    e.__loadingSound = {},
                    __static(e, ["window",
                    function() {
                        return this.window = Browser.window
                    },
                    "webAudioEnabled",
                    function() {
                        return this.webAudioEnabled = e.window.AudioContext || e.window.webkitAudioContext || e.window.mozAudioContext
                    },
                    "ctx",
                    function() {
                        return this.ctx = e.webAudioEnabled ? new(e.window.AudioContext || e.window.webkitAudioContext || e.window.mozAudioContext) : void 0
                    },
                    "_miniBuffer",
                    function() {
                        return this._miniBuffer = e.ctx.createBuffer(1, 1, 22050)
                    },
                    "e",
                    function() {
                        return this.e = new EventDispatcher
                    }]),
                    e
                } (EventDispatcher),
                HttpRequest = function(t) {
                    function e() {
                        this._responseType = null,
                        this._data = null,
                        e.__super.call(this),
                        this._http = new Browser.window.XMLHttpRequest
                    }
                    __class(e, "laya.net.HttpRequest", t);
                    var i = e.prototype;
                    return i.send = function(t, e, i, n, s) {
                        void 0 === i && (i = "get"),
                        void 0 === n && (n = "text"),
                        this._responseType = n,
                        this._data = null;
                        var r = this,
                        a = this._http;
                        if (a.open(i, t, !0), s) for (var o = 0; o < s.length; o++) a.setRequestHeader(s[o++], s[o]);
                        else Render.isConchApp || (e && "string" != typeof e ? a.setRequestHeader("Content-Type", "application/json") : a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"));
                        a.responseType = "arraybuffer" !== n ? "text": "arraybuffer",
                        a.onerror = function(t) {
                            r._onError(t)
                        },
                        a.onabort = function(t) {
                            r._onAbort(t)
                        },
                        a.onprogress = function(t) {
                            r._onProgress(t)
                        },
                        a.onload = function(t) {
                            r._onLoad(t)
                        },
                        a.send(e)
                    },
                    i._onProgress = function(t) {
                        t && t.lengthComputable && this.event("progress", t.loaded / t.total)
                    },
                    i._onAbort = function(t) {
                        this.error("Request was aborted by user")
                    },
                    i._onError = function(t) {
                        this.error("Request failed Status:" + this._http.status + " text:" + this._http.statusText)
                    },
                    i._onLoad = function(t) {
                        var e = this._http,
                        i = void 0 !== e.status ? e.status: 200;
                        200 === i || 204 === i || 0 === i ? this.complete() : this.error("[" + e.status + "]" + e.statusText + ":" + e.responseURL)
                    },
                    i.error = function(t) {
                        this.clear(),
                        this.event("error", t)
                    },
                    i.complete = function() {
                        this.clear();
                        var t = !0;
                        try {
                            "json" === this._responseType ? this._data = JSON.parse(this._http.responseText) : "xml" === this._responseType ? this._data = Utils.parseXMLFromString(this._http.responseText) : this._data = this._http.response || this._http.responseText
                        } catch(e) {
                            t = !1,
                            this.error(e.message)
                        }
                        t && this.event("complete", this._data instanceof Array ? [this._data] : this._data)
                    },
                    i.clear = function() {
                        var t = this._http;
                        t.onerror = t.onabort = t.onprogress = t.onload = null
                    },
                    __getset(0, i, "url",
                    function() {
                        return this._http.responseURL
                    }),
                    __getset(0, i, "http",
                    function() {
                        return this._http
                    }),
                    __getset(0, i, "data",
                    function() {
                        return this._data
                    }),
                    e
                } (EventDispatcher),
                Loader = function(t) {
                    function e() {
                        this._data = null,
                        this._url = null,
                        this._type = null,
                        this._cache = !1,
                        this._http = null,
                        e.__super.call(this)
                    }
                    __class(e, "laya.net.Loader", t);
                    var i = e.prototype;
                    return i.load = function(t, i, n, s, r) {
                        if (void 0 === n && (n = !0), void 0 === r && (r = !1), this._url = t, 0 === t.indexOf("data:image") ? i = "image": t = URL.formatURL(t), this._type = i || (i = this.getTypeFromUrl(t)), this._cache = n, this._data = null, !r && e.loadedMap[t]) return this._data = e.loadedMap[t],
                        this.event("progress", 1),
                        void this.event("complete", this._data);
                        if (s && e.setGroup(t, s), null != e.parserMap[i]) return void(e.parserMap[i] instanceof laya.utils.Handler ? e.parserMap[i].runWith(this) : e.parserMap[i].call(null, this));
                        if ("image" === i || "htmlimage" === i || "nativeimage" === i) return this._loadImage(t);
                        if ("sound" === i) return this._loadSound(t);
                        this._http || (this._http = new HttpRequest, this._http.on("progress", this, this.onProgress), this._http.on("error", this, this.onError), this._http.on("complete", this, this.onLoaded));
                        var a;
                        switch (i) {
                        case "atlas":
                            a = "json";
                            break;
                        case "font":
                            a = "xml";
                            break;
                        default:
                            a = i
                        }
                        this._http.send(t, null, "get", a)
                    },
                    i.getTypeFromUrl = function(t) {
                        var i = Utils.getFileExtension(t);
                        return i ? e.typeMap[i] : (console.warn("Not recognize the resources suffix", t), "text")
                    },
                    i._loadImage = function(t) {
                        function e() {
                            i.onload = null,
                            i.onerror = null
                        }
                        t = URL.formatURL(t);
                        var i, n = this,
                        s = function() {
                            e(),
                            n.onLoaded(i)
                        },
                        r = function() {
                            e(),
                            n.event("error", "Load image failed")
                        };
                        "nativeimage" === this._type ? (i = new Browser.window.Image, i.crossOrigin = "", i.onload = s, i.onerror = r, i.src = t) : new HTMLImage.create(t, {
                            onload: s,
                            onerror: r,
                            onCreate: function(t) {
                                i = t
                            }
                        })
                    },
                    i._loadSound = function(t) {
                        function e() {
                            n(),
                            r.onLoaded(s)
                        }
                        function i() {
                            n(),
                            s.dispose(),
                            r.event("error", "Load sound failed")
                        }
                        function n() {
                            s.offAll()
                        }
                        var s = new SoundManager._soundClass,
                        r = this;
                        s.on("complete", this, e),
                        s.on("error", this, i),
                        s.load(t)
                    },
                    i.onProgress = function(t) {
                        "atlas" === this._type ? this.event("progress", .3 * t) : this.event("progress", t)
                    },
                    i.onError = function(t) {
                        this.event("error", t)
                    },
                    i.onLoaded = function(t) {
                        var i = this._type;
                        if ("image" === i) {
                            var n = new Texture(t);
                            n.url = this._url,
                            this.complete(n)
                        } else if ("sound" === i || "htmlimage" === i || "nativeimage" === i) this.complete(t);
                        else if ("atlas" === i) {
                            if (!t.src && !t._setContext) {
                                if (!this._data) {
                                    if (this._data = t, t.meta && t.meta.image) for (var s = t.meta.image.split(","), r = this._url.indexOf("/") >= 0 ? "/": "\\", a = this._url.lastIndexOf(r), o = a >= 0 ? this._url.substr(0, a + 1) : "", h = 0, l = s.length; h < l; h++) s[h] = o + s[h];
                                    else s = [this._url.replace(".json", ".png")];
                                    s.reverse(),
                                    t.toLoads = s,
                                    t.pics = []
                                }
                                return this.event("progress", .3 + 1 / s.length * .6),
                                this._loadImage(s.pop())
                            }
                            if (this._data.pics.push(t), this._data.toLoads.length > 0) return this.event("progress", .3 + 1 / this._data.toLoads.length * .6),
                            this._loadImage(this._data.toLoads.pop());
                            var u = this._data.frames,
                            c = this._url.split("?")[0],
                            d = this._data.meta && this._data.meta.prefix ? this._data.meta.prefix: c.substring(0, c.lastIndexOf(".")) + "/",
                            _ = this._data.pics,
                            f = URL.formatURL(this._url),
                            p = e.atlasMap[f] || (e.atlasMap[f] = []);
                            p.dir = d;
                            for (var g in u) {
                                var y = u[g],
                                v = _[y.frame.idx ? y.frame.idx: 0],
                                m = URL.formatURL(d + g);
                                e.cacheRes(m, Texture.create(v, y.frame.x, y.frame.y, y.frame.w, y.frame.h, y.spriteSourceSize.x, y.spriteSourceSize.y, y.sourceSize.w, y.sourceSize.h)),
                                e.loadedMap[m].url = m,
                                p.push(m)
                            }
                            this.complete(this._data)
                        } else if ("font" == i) {
                            if (!t.src) return this._data = t,
                            this.event("progress", .5),
                            this._loadImage(this._url.replace(".fnt", ".png"));
                            var w = new BitmapFont;
                            w.parseFont(this._data, t);
                            var x = this._url.split(".fnt")[0].split("/"),
                            b = x[x.length - 1];
                            Text.registerBitmapFont(b, w),
                            this._data = w,
                            this.complete(this._data)
                        } else this.complete(t)
                    },
                    i.complete = function(t) {
                        this._data = t,
                        e._loaders.push(this),
                        e._isWorking || e.checkNext()
                    },
                    i.endLoad = function(t) {
                        t && (this._data = t),
                        this._cache && e.cacheRes(this._url, this._data),
                        this.event("progress", 1),
                        this.event("complete", this.data instanceof Array ? [this.data] : this.data)
                    },
                    __getset(0, i, "url",
                    function() {
                        return this._url
                    }),
                    __getset(0, i, "data",
                    function() {
                        return this._data
                    }),
                    __getset(0, i, "cache",
                    function() {
                        return this._cache
                    }),
                    __getset(0, i, "type",
                    function() {
                        return this._type
                    }),
                    e.checkNext = function() {
                        e._isWorking = !0;
                        for (var t = Browser.now(); e._startIndex < e._loaders.length;) if (Browser.now(), e._loaders[e._startIndex].endLoad(), e._startIndex++, Browser.now() - t > e.maxTimeOut) return console.warn("loader callback cost a long time:" + (Browser.now() - t) + " url=" + e._loaders[e._startIndex - 1].url),
                        void Laya.timer.frameOnce(1, null, e.checkNext);
                        e._loaders.length = 0,
                        e._startIndex = 0,
                        e._isWorking = !1
                    },
                    e.clearRes = function(t, i) {
                        void 0 === i && (i = !1),
                        t = URL.formatURL(t);
                        var n = e.getAtlas(t);
                        if (n) {
                            for (var s = 0,
                            r = n.length; s < r; s++) {
                                var a = n[s],
                                o = e.getRes(a);
                                o && o.destroy(i),
                                delete e.loadedMap[a]
                            }
                            n.length = 0,
                            delete e.atlasMap[t],
                            delete e.loadedMap[t]
                        } else {
                            var h = e.loadedMap[t];
                            h && (h instanceof laya.resource.Texture && h.bitmap && h.destroy(i), delete e.loadedMap[t])
                        }
                    },
                    e.getRes = function(t) {
                        return e.loadedMap[URL.formatURL(t)]
                    },
                    e.getAtlas = function(t) {
                        return e.atlasMap[URL.formatURL(t)]
                    },
                    e.cacheRes = function(t, i) {
                        t = URL.formatURL(t),
                        null != e.loadedMap[t] ? console.warn("Resources already exist,is repeated loading:", t) : e.loadedMap[t] = i
                    },
                    e.setGroup = function(t, i) {
                        e.groupMap[i] || (e.groupMap[i] = []),
                        e.groupMap[i].push(t)
                    },
                    e.clearResByGroup = function(t) {
                        if (e.groupMap[t]) {
                            var i = e.groupMap[t],
                            n = 0,
                            s = i.length;
                            for (n = 0; n < s; n++) e.clearRes(i[n]);
                            i.length = 0
                        }
                    },
                    e.TEXT = "text",
                    e.JSON = "json",
                    e.XML = "xml",
                    e.BUFFER = "arraybuffer",
                    e.IMAGE = "image",
                    e.SOUND = "sound",
                    e.ATLAS = "atlas",
                    e.FONT = "font",
                    e.typeMap = {
                        png: "image",
                        jpg: "image",
                        jpeg: "image",
                        txt: "text",
                        json: "json",
                        xml: "xml",
                        als: "atlas",
                        atlas: "atlas",
                        mp3: "sound",
                        ogg: "sound",
                        wav: "sound",
                        part: "json",
                        fnt: "font"
                    },
                    e.parserMap = {},
                    e.groupMap = {},
                    e.maxTimeOut = 100,
                    e.loadedMap = {},
                    e.atlasMap = {},
                    e._loaders = [],
                    e._isWorking = !1,
                    e._startIndex = 0,
                    e
                } (EventDispatcher),
                LoaderManager = function(t) {
                    function e() {
                        this.retryNum = 1,
                        this.retryDelay = 0,
                        this.maxLoader = 5,
                        this._loaders = [],
                        this._loaderCount = 0,
                        this._resInfos = [],
                        this._infoPool = [],
                        this._maxPriority = 5,
                        this._failRes = {},
                        e.__super.call(this);
                        for (var t = 0; t < this._maxPriority; t++) this._resInfos[t] = []
                    }
                    var i;
                    __class(e, "laya.net.LoaderManager", t);
                    var n = e.prototype;
                    return n.create = function(t, e, i, n, s, r, a) {
                        function o(t, i) {
                            c++,
                            t.progress = 1,
                            c === u && e && e.run()
                        }
                        function h(t, e) {
                            t.progress = e;
                            for (var i = 0,
                            n = 0; n < u; n++) {
                                i += l[n].progress
                            }
                            var s = i / u;
                            d.runWith(s)
                        }
                        if (void 0 === r && (r = 1), void 0 === a && (a = !0), t instanceof Array) {
                            var l = t,
                            u = l.length,
                            c = 0;
                            if (i) var d = Handler.create(i.caller, i.method, i.args, !1);
                            for (var _ = 0; _ < u; _++) {
                                var f = l[_];
                                "string" == typeof f && (f = l[_] = {
                                    url: f
                                }),
                                f.progress = 0;
                                var p = i ? Handler.create(null, h, [f], !1) : null,
                                g = i || e ? Handler.create(null, o, [f]) : null;
                                this._create(f.url, g, p, f.clas || n, f.params || s, f.priority || r, a)
                            }
                            return ! 0
                        }
                        return this._create(t, e, i, n, s, r, a)
                    },
                    n._create = function(t, i, n, s, r, a, o) {
                        function h(e) {
                            l && l.onAsynLoaded.call(l, t, e, r),
                            i && i.run(),
                            Laya.loader.event(t)
                        }
                        void 0 === a && (a = 1),
                        void 0 === o && (o = !0),
                        t = URL.formatURL(t);
                        var l = this.getRes(t);
                        if (l) ! l.hasOwnProperty("loaded") || l.loaded ? (n && n.runWith(1), i && i.run()) : i && Laya.loader._createListener(t, i.caller, i.method, i.args, !0, !1);
                        else {
                            var u = Utils.getFileExtension(t),
                            c = e.createMap[u];
                            s || (s = c[0]);
                            var d = c[1];
                            "atlas" == u ? this.load(t, i, n, d, a, o) : (s === Texture && (d = "htmlimage"), l = s ? new s: null, l.hasOwnProperty("_loaded") && (l._loaded = !1), this.load(t, Handler.create(null, h), n, d, a, !1, null, !0), o && (this.cacheRes(t, l), l.url = t))
                        }
                        return l
                    },
                    n.load = function(t, n, s, r, a, o, h, l) {
                        if (void 0 === a && (a = 1), void 0 === o && (o = !0), void 0 === l && (l = !1), t instanceof Array) return this._loadAssets(t, n, s, r, a, o, h);
                        var u = Loader.getRes(t);
                        if (null != u) s && s.runWith(1),
                        n && n.runWith(u),
                        this._loaderCount || this.event("complete");
                        else {
                            var c = e._resMap[t];
                            c ? (n && c._createListener("complete", n.caller, n.method, n.args, !1, !1), s && c._createListener("progress", s.caller, s.method, s.args, !1, !1)) : (c = this._infoPool.length ? this._infoPool.pop() : new i, c.url = t, c.type = r, c.cache = o, c.group = h, c.ignoreCache = l, n && c.on("complete", n.caller, n.method, n.args), s && c.on("progress", s.caller, s.method, s.args), e._resMap[t] = c, a = a < this._maxPriority ? a: this._maxPriority - 1, this._resInfos[a].push(c), this._next())
                        }
                        return this
                    },
                    n._next = function() {
                        if (! (this._loaderCount >= this.maxLoader)) {
                            for (var t = 0; t < this._maxPriority; t++) {
                                var e = this._resInfos[t];
                                if (e.length > 0) {
                                    var i = e.shift();
                                    if (i) return this._doLoad(i)
                                }
                            }
                            this._loaderCount || this.event("complete")
                        }
                    },
                    n._doLoad = function(t) {
                        function e(e) {
                            i.offAll(),
                            i._data = null,
                            n._loaders.push(i),
                            n._endLoad(t, e instanceof Array ? [e] : e),
                            n._loaderCount--,
                            n._next()
                        }
                        this._loaderCount++;
                        var i = this._loaders.length ? this._loaders.pop() : new Loader;
                        i.on("complete", null, e),
                        i.on("progress", null,
                        function(e) {
                            t.event("progress", e)
                        }),
                        i.on("error", null,
                        function(t) {
                            e(null)
                        });
                        var n = this;
                        i.load(t.url, t.type, t.cache, t.group, t.ignoreCache)
                    },
                    n._endLoad = function(t, i) {
                        var n = t.url;
                        if (null == i) {
                            var s = this._failRes[n] || 0;
                            if (s < this.retryNum) return console.warn("[warn]Retry to load:", n),
                            this._failRes[n] = s + 1,
                            void Laya.timer.once(this.retryDelay, this, this._addReTry, [t], !1);
                            console.warn("[error]Failed to load:", n),
                            this.event("error", n)
                        }
                        this._failRes[n] && (this._failRes[n] = 0),
                        delete e._resMap[n],
                        t.event("complete", i),
                        t.offAll(),
                        this._infoPool.push(t)
                    },
                    n._addReTry = function(t) {
                        this._resInfos[this._maxPriority - 1].push(t),
                        this._next()
                    },
                    n.clearRes = function(t, e) {
                        void 0 === e && (e = !1),
                        Loader.clearRes(t, e)
                    },
                    n.getRes = function(t) {
                        return Loader.getRes(t)
                    },
                    n.cacheRes = function(t, e) {
                        Loader.cacheRes(t, e)
                    },
                    n.setGroup = function(t, e) {
                        Loader.setGroup(t, e)
                    },
                    n.clearResByGroup = function(t) {
                        Loader.clearResByGroup(t)
                    },
                    n.clearUnLoaded = function() {
                        for (var t = 0; t < this._maxPriority; t++) {
                            for (var i = this._resInfos[t], n = i.length - 1; n > -1; n--) {
                                var s = i[n];
                                s && (s.offAll(), this._infoPool.push(s))
                            }
                            i.length = 0
                        }
                        this._loaderCount = 0,
                        e._resMap = {}
                    },
                    n.cancelLoadByUrls = function(t) {
                        if (t) for (var e = 0,
                        i = t.length; e < i; e++) this.cancelLoadByUrl(t[e])
                    },
                    n.cancelLoadByUrl = function(t) {
                        for (var i = 0; i < this._maxPriority; i++) for (var n = this._resInfos[i], s = n.length - 1; s > -1; s--) {
                            var r = n[s];
                            r && r.url === t && (n[s] = null, r.offAll(), this._infoPool.push(r))
                        }
                        e._resMap[t] && delete e._resMap[t]
                    },
                    n._loadAssets = function(t, e, i, n, s, r, a) {
                        function o(t, i) {
                            u++,
                            t.progress = 1,
                            i || (_ = !1),
                            u === l && e && e.runWith(_)
                        }
                        function h(t, e) {
                            if (null != i) {
                                t.progress = e;
                                for (var n = 0,
                                s = 0; s < d.length; s++) {
                                    var r = d[s];
                                    n += r.size * r.progress
                                }
                                var a = n / c;
                                i.runWith(a)
                            }
                        }
                        void 0 === s && (s = 1),
                        void 0 === r && (r = !0);
                        for (var l = t.length,
                        u = 0,
                        c = 0,
                        d = [], _ = !0, f = 0; f < l; f++) {
                            var p = t[f];
                            "string" == typeof p && (p = {
                                url: p,
                                type: n,
                                size: 1,
                                priority: s
                            }),
                            p.size || (p.size = 1),
                            p.progress = 0,
                            c += p.size,
                            d.push(p);
                            var g = i ? Handler.create(null, h, [p], !1) : null,
                            y = e || i ? Handler.create(null, o, [p]) : null;
                            this.load(p.url, y, g, p.type, p.priority || 1, r, p.group || a)
                        }
                        return this
                    },
                    e.cacheRes = function(t, e) {
                        Loader.cacheRes(t, e)
                    },
                    e._resMap = {},
                    __static(e, ["createMap",
                    function() {
                        return this.createMap = {
                            atlas: [null, "atlas"]
                        }
                    }]),
                    e.__init$ = function() {
                        i = function(t) {
                            function e() {
                                this.url = null,
                                this.type = null,
                                this.cache = !1,
                                this.group = null,
                                this.ignoreCache = !1,
                                e.__super.call(this)
                            }
                            return __class(e, "", t),
                            e
                        } (EventDispatcher)
                    },
                    e
                } (EventDispatcher),
                ColorFilter = function(t) {
                    function e(t) {
                        e.__super.call(this),
                        t || (t = [.3, .59, .11, 0, 0, .3, .59, .11, 0, 0, .3, .59, .11, 0, 0, 0, 0, 0, 1, 0]),
                        this._mat = new Float32Array(16),
                        this._alpha = new Float32Array(4);
                        for (var i = 0,
                        n = 0,
                        s = 0; s < 20; s++) s % 5 != 4 ? this._mat[i++] = t[s] : this._alpha[n++] = t[s];
                        this._action = RunDriver.createFilterAction(32),
                        this._action.data = this
                    }
                    __class(e, "laya.filters.ColorFilter", t);
                    var i = e.prototype;
                    return Laya.imps(i, {
                        "laya.filters.IFilter": !0
                    }),
                    i.callNative = function(t) {
                        t._$P.cf = this;
                        t.conchModel && t.conchModel.setFilterMatrix && t.conchModel.setFilterMatrix(this._mat, this._alpha)
                    },
                    __getset(0, i, "type",
                    function() {
                        return 32
                    }),
                    __getset(0, i, "action",
                    function() {
                        return this._action
                    }),
                    e
                } (Filter),
                Socket = function(t) {
                    function e(t, i, n) {
                        this._endian = null,
                        this._stamp = NaN,
                        this._socket = null,
                        this._connected = !1,
                        this._addInputPosition = 0,
                        this._input = null,
                        this._output = null,
                        this.timeout = 0,
                        this.objectEncoding = 0,
                        this.disableInput = !1,
                        this._byteClass = null,
                        this.protocols = [],
                        void 0 === i && (i = 0),
                        e.__super.call(this),
                        this._byteClass = n || Byte,
                        this.endian = "bigEndian",
                        this.timeout = 2e4,
                        this._addInputPosition = 0,
                        t && i > 0 && i < 65535 && this.connect(t, i)
                    }
                    __class(e, "laya.net.Socket", t);
                    var i = e.prototype;
                    return i.connect = function(t, e) {
                        var i = "ws://" + t + ":" + e;
                        this.connectByUrl(i)
                    },
                    i.connectByUrl = function(t) {
                        var e = this;
                        null != this._socket && this.close(),
                        this._socket && this.cleanSocket(),
                        this.protocols && 0 != this.protocols.length ? this._socket = new Browser.window.WebSocket(t, this.protocols) : this._socket = new Browser.window.WebSocket(t),
                        this._socket.binaryType = "arraybuffer",
                        this._output = new this._byteClass,
                        this._output.endian = this.endian,
                        this._input = new this._byteClass,
                        this._input.endian = this.endian,
                        this._addInputPosition = 0,
                        this._socket.onopen = function(t) {
                            e._onOpen(t)
                        },
                        this._socket.onmessage = function(t) {
                            e._onMessage(t)
                        },
                        this._socket.onclose = function(t) {
                            e._onClose(t)
                        },
                        this._socket.onerror = function(t) {
                            e._onError(t)
                        }
                    },
                    i.cleanSocket = function() {
                        try {
                            this._socket.close()
                        } catch(t) {}
                        this._connected = !1,
                        this._socket.onopen = null,
                        this._socket.onmessage = null,
                        this._socket.onclose = null,
                        this._socket.onerror = null,
                        this._socket = null
                    },
                    i.close = function() {
                        if (null != this._socket) try {
                            this._socket.close()
                        } catch(t) {}
                    },
                    i._onOpen = function(t) {
                        this._connected = !0,
                        this.event("open", t)
                    },
                    i._onMessage = function(t) {
                        if (t && t.data) {
                            var e = t.data;
                            if (this.disableInput && e) return void this.event("message", e);
                            this._input.length > 0 && this._input.bytesAvailable < 1 && (this._input.clear(), this._addInputPosition = 0);
                            var i = this._input.pos; ! this._addInputPosition && (this._addInputPosition = 0),
                            this._input.pos = this._addInputPosition,
                            e && ("string" == typeof e ? this._input.writeUTFBytes(e) : this._input.writeArrayBuffer(e), this._addInputPosition = this._input.pos, this._input.pos = i),
                            this.event("message", e)
                        }
                    },
                    i._onClose = function(t) {
                        this._connected = !1,
                        this.event("close", t)
                    },
                    i._onError = function(t) {
                        this.event("error", t)
                    },
                    i.send = function(t) {
                        this._socket.send(t)
                    },
                    i.flush = function() {
                        if (this._output && this._output.length > 0) {
                            var t;
                            try {
                                this._socket && this._socket.send(this._output.__getBuffer().slice(0, this._output.length))
                            } catch(e) {
                                t = e
                            }
                            this._output.endian = this.endian,
                            this._output.clear(),
                            t && this.event("error", t)
                        }
                    },
                    __getset(0, i, "input",
                    function() {
                        return this._input
                    }),
                    __getset(0, i, "output",
                    function() {
                        return this._output
                    }),
                    __getset(0, i, "connected",
                    function() {
                        return this._connected
                    }),
                    __getset(0, i, "endian",
                    function() {
                        return this._endian
                    },
                    function(t) {
                        this._endian = t,
                        null != this._input && (this._input.endian = t),
                        null != this._output && (this._output.endian = t)
                    }),
                    e.LITTLE_ENDIAN = "littleEndian",
                    e.BIG_ENDIAN = "bigEndian",
                    e
                } (EventDispatcher),
                WorkerLoader = function(t) {
                    function e() {
                        this.worker = null,
                        e.__super.call(this);
                        var t = this;
                        this.worker = new Browser.window.Worker(e.workerPath),
                        this.worker.onmessage = function(e) {
                            t.workerMessage(e.data)
                        }
                    }
                    __class(e, "laya.net.WorkerLoader", t);
                    var i = e.prototype;
                    return i.workerMessage = function(t) {
                        if (t) switch (t.type) {
                        case "Image":
                            this.imageLoaded(t);
                            break;
                        case "Msg":
                            this.event("image_msg", t.msg)
                        }
                    },
                    i.imageLoaded = function(t) {
                        if (t && t.buffer && t.buffer.length < 10) return e._enable = !1,
                        this._myTrace("buffer lost when postmessage ,disable workerloader"),
                        this.event(t.url, null),
                        void this.event("image_err", t.url + "\n" + t.msg);
                        if (!t.dataType) return this.event(t.url, null),
                        void this.event("image_err", t.url + "\n" + t.msg);
                        var i, n = new HTMLCanvas("2D");
                        i = n.source.getContext("2d");
                        var s;
                        switch (t.dataType) {
                        case "buffer":
                            s = i.createImageData(t.width, t.height),
                            s.data.set(t.buffer),
                            n.size(s.width, s.height),
                            i.putImageData(s, 0, 0);
                            break;
                        case "imagedata":
                            s = t.imagedata,
                            n.size(s.width, s.height),
                            i.putImageData(s, 0, 0),
                            s = t.imagedata;
                            break;
                        case "imageBitmap":
                            s = t.imageBitmap,
                            n.size(s.width, s.height),
                            i.drawImage(s, 0, 0)
                        }
                        Render.isWebGL && (n.memorySize = 0, n = new laya.webgl.resource.WebGLImage(n, t.url)),
                        this.event(t.url, n)
                    },
                    i._myTrace = function(t) {
                        var e = arguments,
                        i = [],
                        n = 0,
                        s = e.length;
                        for (n = 0; n < s; n++) i.push(e[n]);
                        this.event("image_msg", i.join(" "))
                    },
                    i.loadImage = function(t) {
                        var e;
                        e = {},
                        e.type = "load",
                        e.url = t,
                        this.worker.postMessage(e)
                    },
                    i._loadImage = function(t) {
                        function i() {
                            laya.net.WorkerLoader.I.off(t, n, s)
                        }
                        var n = this;
                        if (!e._enable || t.toLowerCase().indexOf(".png") < 0) return void e._preLoadFun.call(n, t);
                        t = URL.formatURL(t);
                        var s = function(s) {
                            i(),
                            s ? n.onLoaded(s) : e._preLoadFun.call(n, t)
                        };
                        laya.net.WorkerLoader.I.on(t, n, s),
                        laya.net.WorkerLoader.I.loadImage(t)
                    },
                    __getset(1, e, "enable",
                    function() {
                        return e._enable
                    },
                    function(t) {
                        e._enable = t,
                        e._enable && null == e._preLoadFun && e.__init__()
                    }),
                    e.__init__ = function() {
                        return null == e._preLoadFun && ( !! Browser.window.Worker && (e._preLoadFun = Loader.prototype._loadImage, Loader.prototype._loadImage = e.prototype._loadImage, e.I || (e.I = new e), !0))
                    },
                    e.workerSupported = function() {
                        return !! Browser.window.Worker
                    },
                    e.IMAGE_LOADED = "image_loaded",
                    e.IMAGE_ERR = "image_err",
                    e.IMAGE_MSG = "image_msg",
                    e.I = null,
                    e._preLoadFun = null,
                    e._enable = !1,
                    e.workerPath = "libs/worker.js",
                    e
                } (EventDispatcher),
                Resource = function(t) {
                    function e() {
                        e.__super.call(this),
                        this._$1__id = ++e._uniqueIDCounter,
                        this.__loaded = !0,
                        this._disposed = !1,
                        e._loadedResources.push(this),
                        e._isLoadedResourcesSorted = !1,
                        this._released = !0,
                        this.lock = !1,
                        this._memorySize = 0,
                        this._lastUseFrameCount = -1,
                        ResourceManager.currentResourceManager && ResourceManager.currentResourceManager.addResource(this)
                    }
                    __class(e, "laya.resource.Resource", t);
                    var i = e.prototype;
                    return Laya.imps(i, {
                        "laya.resource.ICreateResource": !0,
                        "laya.resource.IDispose": !0
                    }),
                    i._endLoaded = function() {
                        this.__loaded = !0,
                        this.event("loaded", this)
                    },
                    i.recreateResource = function() {
                        this.startCreate(),
                        this.completeCreate()
                    },
                    i.detoryResource = function() {},
                    i.activeResource = function(t) {
                        void 0 === t && (t = !1),
                        this._lastUseFrameCount = Stat.loopCount,
                        (this._released || t) && this.recreateResource()
                    },
                    i.releaseResource = function(t) {
                        return void 0 === t && (t = !1),
                        !(!t && this.lock) && (!(this._released && !t) && (this.detoryResource(), this._released = !0, this._lastUseFrameCount = -1, this.event("released", this), !0))
                    },
                    i.setUniqueName = function(t) {
                        for (var i = !0,
                        n = 0; n < e._loadedResources.length; n++) if (e._loadedResources[n]._name === t && e._loadedResources[n] !== this) return void(i = !1);
                        i ? this.name != t && (this.name = t, e._isLoadedResourcesSorted = !1) : this.setUniqueName(t.concat("-copy"))
                    },
                    i.onAsynLoaded = function(t, e, i) {
                        throw new Error("Resource: must override this function!")
                    },
                    i.dispose = function() {
                        if (null !== this._resourceManager) throw new Error("附属于resourceManager的资源不能独立释放！");
                        this._disposed = !0,
                        this.lock = !1,
                        this.releaseResource();
                        var t = e._loadedResources.indexOf(this); - 1 !== t && (e._loadedResources.splice(t, 1), e._isLoadedResourcesSorted = !1),
                        Loader.clearRes(this.url)
                    },
                    i.startCreate = function() {
                        this.event("recovering", this)
                    },
                    i.completeCreate = function() {
                        this._released = !1,
                        this.event("recovered", this)
                    },
                    __getset(0, i, "memorySize",
                    function() {
                        return this._memorySize
                    },
                    function(t) {
                        var e = t - this._memorySize;
                        this._memorySize = t,
                        this.resourceManager && this.resourceManager.addSize(e)
                    }),
                    __getset(0, i, "_loaded", null,
                    function(t) {
                        this.__loaded = t
                    }),
                    __getset(0, i, "loaded",
                    function() {
                        return this.__loaded
                    }),
                    __getset(0, i, "id",
                    function() {
                        return this._$1__id
                    }),
                    __getset(0, i, "name",
                    function() {
                        return this._name
                    },
                    function(t) { ! t && "" === t || this.name === t || (this._name = t, e._isLoadedResourcesSorted = !1)
                    }),
                    __getset(0, i, "disposed",
                    function() {
                        return this._disposed
                    }),
                    __getset(0, i, "released",
                    function() {
                        return this._released
                    }),
                    __getset(0, i, "resourceManager",
                    function() {
                        return this._resourceManager
                    }),
                    __getset(0, i, "lastUseFrameCount",
                    function() {
                        return this._lastUseFrameCount
                    }),
                    __getset(0, i, "url",
                    function() {
                        return this._url
                    },
                    function(t) {
                        this._url = t
                    }),
                    __getset(1, e, "sortedLoadedResourcesByName",
                    function() {
                        return e._isLoadedResourcesSorted || (e._isLoadedResourcesSorted = !0, e._loadedResources.sort(e.compareResourcesByName)),
                        e._loadedResources
                    },
                    laya.events.EventDispatcher._$SET_sortedLoadedResourcesByName),
                    e.getLoadedResourceByIndex = function(t) {
                        return e._loadedResources[t]
                    },
                    e.getLoadedResourcesCount = function() {
                        return e._loadedResources.length
                    },
                    e.compareResourcesByName = function(t, e) {
                        if (t === e) return 0;
                        var i = t.name,
                        n = e.name;
                        if (null === i) return null === n ? 0 : -1;
                        if (null == n) return 1;
                        var s = i.localeCompare(n);
                        return 0 != s ? s: (e.setUniqueName(n), n = e.name, i.localeCompare(n))
                    },
                    e._uniqueIDCounter = 0,
                    e._loadedResources = [],
                    e._isLoadedResourcesSorted = !1,
                    e
                } (EventDispatcher),
                Texture = function(t) {
                    function e(t, i) {
                        this.offsetX = 0,
                        this.offsetY = 0,
                        this.sourceWidth = 0,
                        this.sourceHeight = 0,
                        this._w = 0,
                        this._h = 0,
                        this._uvID = 0,
                        e.__super.call(this),
                        t && t.useNum++,
                        this.setTo(t, i)
                    }
                    __class(e, "laya.resource.Texture", t);
                    var i = e.prototype;
                    return i.setTo = function(t, i) {
                        if (this.bitmap = t, this.uv = i || e.DEF_UV, t) {
                            this._w = t.width,
                            this._h = t.height,
                            this.sourceWidth = this.sourceWidth || this._w,
                            this.sourceHeight = this.sourceHeight || this._h,
                            this._loaded = this._w > 0;
                            var n = this;
                            if (this._loaded) RunDriver.addToAtlas && RunDriver.addToAtlas(n);
                            else {
                                var s = t;
                                s instanceof laya.resource.HTMLImage && s.image && s.image.addEventListener("load",
                                function(t) {
                                    RunDriver.addToAtlas && RunDriver.addToAtlas(n)
                                },
                                !1)
                            }
                        }
                    },
                    i.active = function() {
                        this.bitmap && this.bitmap.activeResource()
                    },
                    i.destroy = function(t) {
                        void 0 === t && (t = !1),
                        this.bitmap && this.bitmap.useNum > 0 && (t ? (this.bitmap.dispose(), this.bitmap.useNum = 0) : 0 == --this.bitmap.useNum && this.bitmap.dispose(), this.bitmap = null, this.url && this === Laya.loader.getRes(this.url) && Laya.loader.clearRes(this.url, t), this._loaded = !1)
                    },
                    i.load = function(t) {
                        var e = this;
                        this._loaded = !1;
                        var i = this.bitmap || (this.bitmap = HTMLImage.create(t));
                        i && i.useNum++;
                        var n = this;
                        i.onload = function() {
                            i.onload = null,
                            n._loaded = !0,
                            e.sourceWidth = e._w = i.width,
                            e.sourceHeight = e._h = i.height,
                            n.event("loaded", this),
                            RunDriver.addToAtlas && RunDriver.addToAtlas(n)
                        }
                    },
                    i.addTextureToAtlas = function(t) {
                        RunDriver.addTextureToAtlas(this)
                    },
                    i.getPixels = function(t, e, i, n) {
                        return Render.isWebGL ? RunDriver.getTexturePixels(this, t, e, i, n) : (Browser.canvas.size(i, n), Browser.canvas.clear(), Browser.context.drawTexture(this, -t, -e, this.width, this.height, 0, 0), Browser.context.getImageData(0, 0, i, n).data)
                    },
                    i.onAsynLoaded = function(t, e) {
                        e && e.useNum++,
                        this.setTo(e, this.uv)
                    },
                    __getset(0, i, "source",
                    function() {
                        return this.bitmap ? (this.bitmap.activeResource(), this.bitmap.source) : null
                    }),
                    __getset(0, i, "loaded",
                    function() {
                        return this._loaded
                    }),
                    __getset(0, i, "released",
                    function() {
                        return ! this.bitmap || this.bitmap.released
                    }),
                    __getset(0, i, "width",
                    function() {
                        return this._w ? this._w: this.uv && this.uv !== e.DEF_UV ? (this.uv[2] - this.uv[0]) * this.bitmap.width: this.bitmap.width
                    },
                    function(t) {
                        this._w = t,
                        this.sourceWidth || (this.sourceWidth = t)
                    }),
                    __getset(0, i, "repeat",
                    function() {
                        return ! Render.isWebGL || !this.bitmap || this.bitmap.repeat
                    },
                    function(t) {
                        t && Render.isWebGL && this.bitmap && (this.bitmap.repeat = t, t && (this.bitmap.enableMerageInAtlas = !1))
                    }),
                    __getset(0, i, "height",
                    function() {
                        return this._h ? this._h: this.uv && this.uv !== e.DEF_UV ? (this.uv[5] - this.uv[1]) * this.bitmap.height: this.bitmap.height
                    },
                    function(t) {
                        this._h = t,
                        this.sourceHeight || (this.sourceHeight = t)
                    }),
                    __getset(0, i, "isLinearSampling",
                    function() {
                        return ! Render.isWebGL || 9728 != this.bitmap.minFifter
                    },
                    function(t) { ! t && Render.isWebGL && (t || -1 != this.bitmap.minFifter || -1 != this.bitmap.magFifter || (this.bitmap.minFifter = 9728, this.bitmap.magFifter = 9728, this.bitmap.enableMerageInAtlas = !1))
                    }),
                    e.moveUV = function(t, e, i) {
                        for (var n = 0; n < 8; n += 2) i[n] += t,
                        i[n + 1] += e;
                        return i
                    },
                    e.create = function(t, i, n, s, r, a, o, h, l) {
                        void 0 === a && (a = 0),
                        void 0 === o && (o = 0),
                        void 0 === h && (h = 0),
                        void 0 === l && (l = 0);
                        var u = t instanceof laya.resource.Texture,
                        c = u ? t.uv: e.DEF_UV,
                        d = u ? t.bitmap: t,
                        _ = new e(d, null);
                        d.width && i + s > d.width && (s = d.width - i),
                        d.height && n + r > d.height && (r = d.height - n),
                        _.width = s,
                        _.height = r,
                        _.offsetX = a,
                        _.offsetY = o,
                        _.sourceWidth = h || s,
                        _.sourceHeight = l || r;
                        var f = 1 / d.width,
                        p = 1 / d.height;
                        i *= f,
                        n *= p,
                        s *= f,
                        r *= p;
                        var g = _.uv[0],
                        y = _.uv[1],
                        v = _.uv[4],
                        m = _.uv[5],
                        w = v - g,
                        x = m - y,
                        b = e.moveUV(c[0], c[1], [i, n, i + s, n, i + s, n + r, i, n + r]);
                        return _.uv = [g + b[0] * w, y + b[1] * x, v - (1 - b[2]) * w, y + b[3] * x, v - (1 - b[4]) * w, m - (1 - b[5]) * x, g + b[6] * w, m - (1 - b[7]) * x],
                        _
                    },
                    e.createFromTexture = function(t, i, n, s, r) {
                        var a = Rectangle.TEMP.setTo(i - t.offsetX, n - t.offsetY, s, r),
                        o = a.intersection(e._rect1.setTo(0, 0, t.width, t.height), e._rect2);
                        if (!o) return null;
                        var h = e.create(t, o.x, o.y, o.width, o.height, o.x - a.x, o.y - a.y, s, r);
                        return h.bitmap.useNum--,
                        h
                    },
                    e.DEF_UV = [0, 0, 1, 0, 1, 1, 0, 1],
                    e.INV_UV = [0, 1, 1, 1, 1, 0, 0, 0],
                    e._rect1 = new Rectangle,
                    e._rect2 = new Rectangle,
                    e
                } (EventDispatcher),
                TimeLine = function(t) {
                    function e() {
                        this._labelDic = null,
                        this._tweenDic = {},
                        this._tweenDataList = [],
                        this._endTweenDataList = null,
                        this._currTime = 0,
                        this._lastTime = 0,
                        this._startTime = 0,
                        this._index = 0,
                        this._gidIndex = 0,
                        this._firstTweenDic = {},
                        this._startTimeSort = !1,
                        this._endTimeSort = !1,
                        this._loopKey = !1,
                        this.scale = 1,
                        this._frameRate = 60,
                        this._frameIndex = 0,
                        this._total = 0,
                        e.__super.call(this)
                    }
                    var i;
                    __class(e, "laya.utils.TimeLine", t);
                    var n = e.prototype;
                    return n.to = function(t, e, i, n, s) {
                        return void 0 === s && (s = 0),
                        this._create(t, e, i, n, s, !0)
                    },
                    n.from = function(t, e, i, n, s) {
                        return void 0 === s && (s = 0),
                        this._create(t, e, i, n, s, !1)
                    },
                    n._create = function(t, e, n, s, r, a) {
                        var o = new i;
                        return o.isTo = a,
                        o.type = 0,
                        o.target = t,
                        o.duration = n,
                        o.data = e,
                        o.startTime = this._startTime + r,
                        o.endTime = o.startTime + o.duration,
                        o.ease = s,
                        this._startTime = Math.max(o.endTime, this._startTime),
                        this._tweenDataList.push(o),
                        this._startTimeSort = !0,
                        this._endTimeSort = !0,
                        this
                    },
                    n.addLabel = function(t, e) {
                        var n = new i;
                        return n.type = 1,
                        n.data = t,
                        n.endTime = n.startTime = this._startTime + e,
                        this._labelDic || (this._labelDic = {}),
                        this._labelDic[t] = n,
                        this._tweenDataList.push(n),
                        this
                    },
                    n.removeLabel = function(t) {
                        if (this._labelDic && this._labelDic[t]) {
                            var e = this._labelDic[t];
                            if (e) {
                                var i = this._tweenDataList.indexOf(e);
                                i > -1 && this._tweenDataList.splice(i, 1)
                            }
                            delete this._labelDic[t]
                        }
                    },
                    n.gotoTime = function(t) {
                        function e(t, e) {
                            return t.endTime > e.endTime ? 1 : t.endTime < e.endTime ? -1 : 0
                        }
                        if (null != this._tweenDataList && 0 != this._tweenDataList.length) {
                            var i, n;
                            for (var s in this._firstTweenDic) if (n = this._firstTweenDic[s]) for (var r in n) n.diyTarget.hasOwnProperty(r) && (n.diyTarget[r] = n[r]);
                            for (s in this._tweenDic) i = this._tweenDic[s],
                            i.clear(),
                            delete this._tweenDic[s];
                            this._index = 0,
                            this._gidIndex = 0,
                            this._currTime = t,
                            this._lastTime = Browser.now();
                            var a;
                            null == this._endTweenDataList || this._endTimeSort ? (this._endTimeSort = !1, this._endTweenDataList = a = this._tweenDataList.concat(), a.sort(e)) : a = this._endTweenDataList;
                            for (var o, h = 0,
                            l = a.length; h < l; h++) if (o = a[h], 0 == o.type) {
                                if (! (t >= o.endTime)) break;
                                this._index = Math.max(this._index, h + 1);
                                var u = o.data;
                                for (var c in u) o.isTo && (o.target[c] = u[c])
                            }
                            for (h = 0, l = this._tweenDataList.length; h < l; h++) o = this._tweenDataList[h],
                            0 == o.type && t >= o.startTime && t < o.endTime && (this._index = Math.max(this._index, h + 1), this._gidIndex++, i = Pool.getItemByClass("tween", Tween), i._create(o.target, o.data, o.duration, o.ease, Handler.create(this, this._animComplete, [this._gidIndex]), 0, !1, o.isTo, !0, !1), i.setStartTime(this._currTime - (t - o.startTime)), i._updateEase(this._currTime), i.gid = this._gidIndex, this._tweenDic[this._gidIndex] = i)
                        }
                    },
                    n.gotoLabel = function(t) {
                        if (null != this._labelDic) {
                            var e = this._labelDic[t];
                            e && this.gotoTime(e.startTime)
                        }
                    },
                    n.pause = function() {
                        Laya.timer.clear(this, this._update)
                    },
                    n.resume = function() {
                        this.play(this._currTime, this._loopKey)
                    },
                    n.play = function(t, e) {
                        function i(t, e) {
                            return t.startTime > e.startTime ? 1 : t.startTime < e.startTime ? -1 : 0
                        }
                        if (void 0 === t && (t = 0), void 0 === e && (e = !1), this._tweenDataList) {
                            if (this._startTimeSort) {
                                this._startTimeSort = !1,
                                this._tweenDataList.sort(i);
                                for (var n = 0,
                                s = this._tweenDataList.length; n < s; n++) {
                                    var r = this._tweenDataList[n];
                                    if (null != r && 0 == r.type) {
                                        var a = r.target,
                                        o = a.$_GID || (a.$_GID = Utils.getGID()),
                                        h = null;
                                        null == this._firstTweenDic[o] ? (h = {},
                                        h.diyTarget = a, this._firstTweenDic[o] = h) : h = this._firstTweenDic[o];
                                        for (var l in r.data) null == h[l] && (h[l] = a[l])
                                    }
                                }
                            }
                            "string" == typeof t ? this.gotoLabel(t) : this.gotoTime(t),
                            this._loopKey = e,
                            this._lastTime = Browser.now(),
                            Laya.timer.frameLoop(1, this, this._update)
                        }
                    },
                    n._update = function() {
                        if (this._currTime >= this._startTime) {
                            if (!this._loopKey) {
                                for (var t in this._tweenDic) s = this._tweenDic[t],
                                s.complete();
                                return this._complete(),
                                void this.pause()
                            }
                            if (this._complete(), !this._tweenDataList) return;
                            this.gotoTime(0)
                        }
                        var e = Browser.now(),
                        i = e - this._lastTime,
                        n = this._currTime += i * this.scale;
                        this._lastTime = e;
                        for (t in this._tweenDic) s = this._tweenDic[t],
                        s._updateEase(n);
                        var s;
                        if (0 != this._tweenDataList.length && this._index < this._tweenDataList.length) {
                            var r = this._tweenDataList[this._index];
                            n >= r.startTime && (this._index++, 0 == r.type ? (this._gidIndex++, s = Pool.getItemByClass("tween", Tween), s._create(r.target, r.data, r.duration, r.ease, new Handler(this, this._animComplete, [this._gidIndex]), 0, !1, r.isTo, !0, !1), s.setStartTime(n), s.gid = this._gidIndex, this._tweenDic[this._gidIndex] = s, s._updateEase(n)) : this.event("label", r.data))
                        }
                    },
                    n._animComplete = function(t) {
                        this._tweenDic[t] && delete this._tweenDic[t]
                    },
                    n._complete = function() {
                        this.event("complete")
                    },
                    n.reset = function() {
                        var t;
                        if (this._labelDic) for (t in this._labelDic) delete this._labelDic[t];
                        var e;
                        for (t in this._tweenDic) e = this._tweenDic[t],
                        e.clear(),
                        delete this._tweenDic[t];
                        for (t in this._firstTweenDic) delete this._firstTweenDic[t];
                        this._endTweenDataList = null,
                        this._tweenDataList.length = 0,
                        this._currTime = 0,
                        this._lastTime = 0,
                        this._startTime = 0,
                        this._index = 0,
                        this._gidIndex = 0,
                        this.scale = 1,
                        Laya.timer.clear(this, this._update)
                    },
                    n.destroy = function() {
                        this.reset(),
                        this._labelDic = null,
                        this._tweenDic = null,
                        this._tweenDataList = null,
                        this._firstTweenDic = null
                    },
                    __getset(0, n, "index",
                    function() {
                        return this._frameIndex
                    },
                    function(t) {
                        this._frameIndex = t,
                        this.gotoTime(this._frameIndex / this._frameRate * 1e3)
                    }),
                    __getset(0, n, "total",
                    function() {
                        return this._total = Math.floor(this._startTime / 1e3 * this._frameRate),
                        this._total
                    }),
                    e.to = function(t, i, n, s, r) {
                        return void 0 === r && (r = 0),
                        (new e).to(t, i, n, s, r)
                    },
                    e.from = function(t, i, n, s, r) {
                        return void 0 === r && (r = 0),
                        (new e).from(t, i, n, s, r)
                    },
                    e.__init$ = function() {
                        i = function() {
                            function t() {
                                this.type = 0,
                                this.isTo = !0,
                                this.startTime = NaN,
                                this.endTime = NaN,
                                this.target = null,
                                this.duration = NaN,
                                this.ease = null,
                                this.data = null
                            }
                            return __class(t, ""),
                            t
                        } ()
                    },
                    e
                } (EventDispatcher),
                Sprite = function(t) {
                    function e() {
                        this._transform = null,
                        this._tfChanged = !1,
                        this._x = 0,
                        this._y = 0,
                        this._width = 0,
                        this._height = 0,
                        this._repaint = 1,
                        this._mouseEnableState = 0,
                        this._zOrder = 0,
                        this._graphics = null,
                        this._renderType = 0,
                        this._optimizeScrollRect = !1,
                        this._texture = null,
                        this.mouseThrough = !1,
                        this.autoSize = !1,
                        this.hitTestPrior = !1,
                        this.viewport = null,
                        e.__super.call(this),
                        this._style = Style.EMPTY
                    }
                    __class(e, "laya.display.Sprite", t);
                    var i = e.prototype;
                    return Laya.imps(i, {
                        "laya.display.ILayout": !0
                    }),
                    i.createConchModel = function() {
                        return new ConchNode
                    },
                    i.destroy = function(e) {
                        void 0 === e && (e = !0),
                        t.prototype.destroy.call(this, e),
                        this._style && this._style.destroy(),
                        this._transform = null,
                        this._style = null,
                        this._graphics = null
                    },
                    i.updateZOrder = function() {
                        Utils.updateOrder(this._childs) && this.repaint()
                    },
                    i.reCache = function() {
                        this._$P.cacheCanvas && (this._$P.cacheCanvas.reCache = !0),
                        this._repaint = 1
                    },
                    i.setBounds = function(t) {
                        this._set$P("uBounds", t)
                    },
                    i.getBounds = function() {
                        return this._$P.mBounds || this._set$P("mBounds", new Rectangle),
                        Rectangle._getWrapRec(this._boundPointsToParent(), this._$P.mBounds)
                    },
                    i.getSelfBounds = function() {
                        return this._$P.mBounds || this._set$P("mBounds", new Rectangle),
                        Rectangle._getWrapRec(this._getBoundPointsM(!1), this._$P.mBounds)
                    },
                    i._boundPointsToParent = function(t) {
                        void 0 === t && (t = !1);
                        var e = 0,
                        i = 0;
                        this._style && (e = this._style._tf.translateX, i = this._style._tf.translateY, t = t || 0 !== this._style._tf.rotate, this._style.scrollRect && (e += this._style.scrollRect.x, i += this._style.scrollRect.y));
                        var n = this._getBoundPointsM(t);
                        if (!n || n.length < 1) return n;
                        if (8 != n.length && (n = t ? GrahamScan.scanPList(n) : Rectangle._getWrapRec(n, Rectangle.TEMP)._getBoundPoints()), !this.transform) return Utils.transPointList(n, this._x - e, this._y - i),
                        n;
                        var s = Point.TEMP,
                        r = 0,
                        a = n.length;
                        for (r = 0; r < a; r += 2) s.x = n[r],
                        s.y = n[r + 1],
                        this.toParentPoint(s),
                        n[r] = s.x,
                        n[r + 1] = s.y;
                        return n
                    },
                    i.getGraphicBounds = function(t) {
                        return void 0 === t && (t = !1),
                        this._graphics ? this._graphics.getBounds(t) : Rectangle.TEMP.setTo(0, 0, 0, 0)
                    },
                    i._getBoundPointsM = function(t) {
                        if (void 0 === t && (t = !1), this._$P.uBounds) return this._$P.uBounds._getBoundPoints();
                        if (this._$P.temBM || this._set$P("temBM", []), this.scrollRect) {
                            var e = Utils.clearArray(this._$P.temBM),
                            i = Rectangle.TEMP;
                            return i.copyFrom(this.scrollRect),
                            Utils.concatArray(e, i._getBoundPoints()),
                            e
                        }
                        var n, s, r, a = this._graphics ? this._graphics.getBoundPoints() : Utils.clearArray(this._$P.temBM);
                        r = this._childs;
                        for (var o = 0,
                        h = r.length; o < h; o++)(n = r[o]) instanceof laya.display.Sprite && 1 == n.visible && (s = n._boundPointsToParent(t)) && (a = a ? Utils.concatArray(a, s) : s);
                        return a
                    },
                    i.getStyle = function() {
                        return this._style === Style.EMPTY && (this._style = new Style),
                        this._style
                    },
                    i.setStyle = function(t) {
                        this._style = t
                    },
                    i._adjustTransform = function() {
                        "use strict";
                        this._tfChanged = !1;
                        var t, e = this._style,
                        i = e._tf,
                        n = i.scaleX,
                        s = i.scaleY;
                        if (i.rotate || 1 !== n || 1 !== s || i.skewX || i.skewY) {
                            t = this._transform || (this._transform = Matrix.create()),
                            t.bTransform = !0;
                            var r = .0174532922222222 * (i.rotate - i.skewX),
                            a = .0174532922222222 * (i.rotate + i.skewY),
                            o = Math.cos(a),
                            h = Math.sin(a),
                            l = Math.sin(r),
                            u = Math.cos(r);
                            return t.a = n * o,
                            t.b = n * h,
                            t.c = -s * l,
                            t.d = s * u,
                            t.tx = t.ty = 0,
                            t
                        }
                        return this._transform && this._transform.destroy(),
                        this._transform = null,
                        this._renderType &= -5,
                        t
                    },
                    i.pos = function(t, e, i) {
                        if (void 0 === i && (i = !1), this._x !== t || this._y !== e) {
                            if (this.destroyed) return this;
                            if (i) {
                                this._x = t,
                                this._y = e,
                                this.conchModel && this.conchModel.pos(this._x, this._y);
                                var n = this._parent;
                                n && 0 === n._repaint && (n._repaint = 1, n.parentRepaint()),
                                this._$P.maskParent && 0 === this._$P.maskParent._repaint && (this._$P.maskParent._repaint = 1, this._$P.maskParent.parentRepaint())
                            } else this.x = t,
                            this.y = e
                        }
                        return this
                    },
                    i.pivot = function(t, e) {
                        return this.pivotX = t,
                        this.pivotY = e,
                        this
                    },
                    i.size = function(t, e) {
                        return this.width = t,
                        this.height = e,
                        this
                    },
                    i.scale = function(t, e, i) {
                        void 0 === i && (i = !1);
                        var n = this.getStyle(),
                        s = n._tf;
                        if (s.scaleX != t || s.scaleY != e) {
                            if (this.destroyed) return this;
                            if (i) {
                                n.setScale(t, e),
                                this._tfChanged = !0,
                                this.conchModel && this.conchModel.scale(t, e),
                                this._renderType |= 4;
                                var r = this._parent;
                                r && 0 === r._repaint && (r._repaint = 1, r.parentRepaint())
                            } else this.scaleX = t,
                            this.scaleY = e
                        }
                        return this
                    },
                    i.skew = function(t, e) {
                        return this.skewX = t,
                        this.skewY = e,
                        this
                    },
                    i.render = function(t, e, i) {
                        Stat.spriteCount++,
                        RenderSprite.renders[this._renderType]._fun(this, t, e + this._x, i + this._y),
                        this._repaint = 0
                    },
                    i.drawToCanvas = function(t, e, i, n, s) {
                        if (Render.isConchNode) {
                            var r = HTMLCanvas.create("2D");
                            return new RenderContext(t, e, r).ctx.setCanvasType(1),
                            this.conchModel.drawToCanvas(r.source, i, n),
                            r
                        }
                        return RunDriver.drawToCanvas(this, this._renderType, t, e, i, n, s)
                    },
                    i.customRender = function(t, e, i) {
                        this._renderType |= 1024
                    },
                    i._applyFilters = function() {
                        if (!Render.isWebGL) {
                            var t;
                            if ((t = this._$P.filters) && !(t.length < 1)) for (var e = 0,
                            i = t.length; e < i; e++) t[e].action.apply(this._$P.cacheCanvas)
                        }
                    },
                    i._isHaveGlowFilter = function() {
                        var t = 0,
                        e = 0;
                        if (this.filters) for (t = 0; t < this.filters.length; t++) if (8 == this.filters[t].type) return ! 0;
                        for (t = 0, e = this._childs.length; t < e; t++) if (this._childs[t]._isHaveGlowFilter()) return ! 0;
                        return ! 1
                    },
                    i.localToGlobal = function(t, e) {
                        void 0 === e && (e = !1),
                        !0 === e && (t = new Point(t.x, t.y));
                        for (var i = this; i && i != Laya.stage;) t = i.toParentPoint(t),
                        i = i.parent;
                        return t
                    },
                    i.globalToLocal = function(t, e) {
                        void 0 === e && (e = !1),
                        e && (t = new Point(t.x, t.y));
                        for (var i = this,
                        n = []; i && i != Laya.stage;) n.push(i),
                        i = i.parent;
                        for (var s = n.length - 1; s >= 0;) i = n[s],
                        t = i.fromParentPoint(t),
                        s--;
                        return t
                    },
                    i.toParentPoint = function(t) {
                        if (!t) return t;
                        t.x -= this.pivotX,
                        t.y -= this.pivotY,
                        this.transform && this._transform.transformPoint(t),
                        t.x += this._x,
                        t.y += this._y;
                        var e = this._style.scrollRect;
                        return e && (t.x -= e.x, t.y -= e.y),
                        t
                    },
                    i.fromParentPoint = function(t) {
                        if (!t) return t;
                        t.x -= this._x,
                        t.y -= this._y;
                        var e = this._style.scrollRect;
                        return e && (t.x += e.x, t.y += e.y),
                        this.transform && this._transform.invertTransformPoint(t),
                        t.x += this.pivotX,
                        t.y += this.pivotY,
                        t
                    },
                    i.on = function(e, i, n, s) {
                        return 1 !== this._mouseEnableState && this.isMouseEvent(e) ? (this.mouseEnabled = !0, this._setBit(2, !0), this._parent && this._$2__onDisplay(), this._createListener(e, i, n, s, !1)) : t.prototype.on.call(this, e, i, n, s)
                    },
                    i.once = function(e, i, n, s) {
                        return 1 !== this._mouseEnableState && this.isMouseEvent(e) ? (this.mouseEnabled = !0, this._setBit(2, !0), this._parent && this._$2__onDisplay(), this._createListener(e, i, n, s, !0)) : t.prototype.once.call(this, e, i, n, s)
                    },
                    i._$2__onDisplay = function() {
                        if (1 !== this._mouseEnableState) {
                            var t = this;
                            for (t = t.parent; t && 1 !== t._mouseEnableState && !t._getBit(2);) t.mouseEnabled = !0,
                            t._setBit(2, !0),
                            t = t.parent
                        }
                    },
                    i.loadImage = function(t, e, i, n, s, r) {
                        function a(t) {
                            o.destroyed || (o.size(e + (n || t.width), i + (s || t.height)), o.repaint(), r && r.runWith(t))
                        }
                        var o = this;
                        return void 0 === e && (e = 0),
                        void 0 === i && (i = 0),
                        void 0 === n && (n = 0),
                        void 0 === s && (s = 0),
                        this.graphics.loadImage(t, e, i, n, s, a),
                        this
                    },
                    i.repaint = function() {
                        this.conchModel && this.conchModel.repaint && this.conchModel.repaint(),
                        0 === this._repaint && (this._repaint = 1, this.parentRepaint()),
                        this._$P && this._$P.maskParent && this._$P.maskParent.repaint()
                    },
                    i._needRepaint = function() {
                        return 0 !== this._repaint && this._$P.cacheCanvas && this._$P.cacheCanvas.reCache
                    },
                    i._childChanged = function(t) {
                        this._childs.length ? this._renderType |= 2048 : this._renderType &= -2049,
                        t && this._get$P("hasZorder") && Laya.timer.callLater(this, this.updateZOrder),
                        this.repaint()
                    },
                    i.parentRepaint = function() {
                        var t = this._parent;
                        t && 0 === t._repaint && (t._repaint = 1, t.parentRepaint())
                    },
                    i.startDrag = function(t, e, i, n, s, r, a) {
                        void 0 === e && (e = !1),
                        void 0 === i && (i = 0),
                        void 0 === n && (n = 300),
                        void 0 === r && (r = !1),
                        void 0 === a && (a = .92),
                        this._$P.dragging || this._set$P("dragging", new Dragging),
                        this._$P.dragging.start(this, t, e, i, n, s, r, a)
                    },
                    i.stopDrag = function() {
                        this._$P.dragging && this._$P.dragging.stop()
                    },
                    i._setDisplay = function(e) {
                        if (!e) {
                            var i = this._$P.cacheCanvas;
                            i && i.ctx && (Pool.recover("RenderContext", i.ctx), i.ctx.canvas.size(0, 0), i.ctx = null);
                            var n = this._$P._filterCache;
                            n && (n.destroy(), n.recycle(), this._set$P("_filterCache", null)),
                            this._$P._isHaveGlowFilter && this._set$P("_isHaveGlowFilter", !1)
                        }
                        t.prototype._setDisplay.call(this, e)
                    },
                    i.hitTestPoint = function(t, e) {
                        var i = this.globalToLocal(Point.TEMP.setTo(t, e));
                        return (this._$P.hitArea ? this._$P.hitArea: this._width > 0 && this._height > 0 ? Rectangle.TEMP.setTo(0, 0, this._width, this._height) : this.getSelfBounds()).contains(i.x, i.y)
                    },
                    i.getMousePoint = function() {
                        return this.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX, Laya.stage.mouseY))
                    },
                    i._getWords = function() {
                        return null
                    },
                    i._addChildsToLayout = function(t) {
                        var e = this._getWords();
                        if (null == e && 0 == this._childs.length) return ! 1;
                        if (e) for (var i = 0,
                        n = e.length; i < n; i++) t.push(e[i]);
                        return this._childs.forEach(function(e, i, n) {
                            e._style._enableLayout() && e._addToLayout(t)
                        }),
                        !0
                    },
                    i._addToLayout = function(t) {
                        this._style.absolute || (this._style.block ? t.push(this) : this._addChildsToLayout(t) && (this.x = this.y = 0))
                    },
                    i._isChar = function() {
                        return ! 1
                    },
                    i._getCSSStyle = function() {
                        return this._style.getCSSStyle()
                    },
                    i._setAttributes = function(t, e) {
                        switch (t) {
                        case "x":
                            this.x = parseFloat(e);
                            break;
                        case "y":
                            this.y = parseFloat(e);
                            break;
                        case "width":
                            this.width = parseFloat(e);
                            break;
                        case "height":
                            this.height = parseFloat(e);
                            break;
                        default:
                            this[t] = e
                        }
                    },
                    i._layoutLater = function() {
                        this.parent && this.parent._layoutLater()
                    },
                    __getset(0, i, "optimizeScrollRect",
                    function() {
                        return this._optimizeScrollRect
                    },
                    function(t) {
                        this._optimizeScrollRect != t && (this._optimizeScrollRect = t, this.conchModel && this.conchModel.optimizeScrollRect(t))
                    }),
                    __getset(0, i, "customRenderEnable", null,
                    function(t) {
                        if (t && (this._renderType |= 1024, Render.isConchNode)) {
                            e.CustomList.push(this);
                            var i = new HTMLCanvas("2d");
                            i._setContext(new CanvasRenderingContext2D),
                            this.customContext = new RenderContext(0, 0, i),
                            i.context.setCanvasType && i.context.setCanvasType(2),
                            this.conchModel.custom(i.context)
                        }
                    }),
                    __getset(0, i, "cacheAsBitmap",
                    function() {
                        return "none" !== this.cacheAs
                    },
                    function(t) {
                        this.cacheAs = t ? this._$P.hasFilter ? "none": "normal": "none"
                    }),
                    __getset(0, i, "cacheAs",
                    function() {
                        return null == this._$P.cacheCanvas ? "none": this._$P.cacheCanvas.type
                    },
                    function(t) {
                        var e = this._$P.cacheCanvas;
                        t !== (e ? e.type: "none") && ("none" !== t ? (this._getBit(1) || this._setUpNoticeType(1), e || (e = this._set$P("cacheCanvas", Pool.getItemByClass("cacheCanvas", Object))), e.type = t, e.reCache = !0, this._renderType |= 16, "bitmap" == t && this.conchModel && this.conchModel.cacheAs(1), this._set$P("cacheForFilters", !1)) : this._$P.hasFilter ? this._set$P("cacheForFilters", !0) : (e && Pool.recover("cacheCanvas", e), this._$P.cacheCanvas = null, this._renderType &= -17, this.conchModel && this.conchModel.cacheAs(0)), this.repaint())
                    }),
                    __getset(0, i, "zOrder",
                    function() {
                        return this._zOrder
                    },
                    function(t) {
                        this._zOrder != t && (this._zOrder = t, this.conchModel && this.conchModel.setZOrder && this.conchModel.setZOrder(t), this._parent && (t && this._parent._set$P("hasZorder", !0), Laya.timer.callLater(this._parent, this.updateZOrder)))
                    }),
                    __getset(0, i, "rotation",
                    function() {
                        return this._style._tf.rotate
                    },
                    function(t) {
                        var e = this.getStyle();
                        if (e._tf.rotate !== t) {
                            e.setRotate(t),
                            this._tfChanged = !0,
                            this.conchModel && this.conchModel.rotate(t),
                            this._renderType |= 4;
                            var i = this._parent;
                            i && 0 === i._repaint && (i._repaint = 1, i.parentRepaint())
                        }
                    }),
                    __getset(0, i, "width",
                    function() {
                        return this.autoSize ? this.getSelfBounds().width: this._width
                    },
                    function(t) {
                        this._width !== t && (this._width = t, this.conchModel && this.conchModel.size(t, this._height), this.repaint())
                    }),
                    __getset(0, i, "x",
                    function() {
                        return this._x
                    },
                    function(t) {
                        if (this._x !== t) {
                            if (this.destroyed) return;
                            this._x = t,
                            this.conchModel && this.conchModel.pos(t, this._y);
                            var e = this._parent;
                            e && 0 === e._repaint && (e._repaint = 1, e.parentRepaint()),
                            this._$P.maskParent && 0 === this._$P.maskParent._repaint && (this._$P.maskParent._repaint = 1, this._$P.maskParent.parentRepaint())
                        }
                    }),
                    __getset(0, i, "globalScaleY",
                    function() {
                        for (var t = 1,
                        e = this; e && e !== Laya.stage;) t *= e.scaleX,
                        e = e.parent;
                        return t
                    }),
                    __getset(0, i, "hitArea",
                    function() {
                        return this._$P.hitArea
                    },
                    function(t) {
                        this._set$P("hitArea", t)
                    }),
                    __getset(0, i, "staticCache",
                    function() {
                        return this._$P.staticCache
                    },
                    function(t) {
                        this._set$P("staticCache", t),
                        t || this.reCache()
                    }),
                    __getset(0, i, "texture",
                    function() {
                        return this._texture
                    },
                    function(t) {
                        this._texture != t && (this._texture = t, this.graphics.cleanByTexture(t, 0, 0))
                    }),
                    __getset(0, i, "y",
                    function() {
                        return this._y
                    },
                    function(t) {
                        if (this._y !== t) {
                            if (this.destroyed) return;
                            this._y = t,
                            this.conchModel && this.conchModel.pos(this._x, t);
                            var e = this._parent;
                            e && 0 === e._repaint && (e._repaint = 1, e.parentRepaint()),
                            this._$P.maskParent && 0 === this._$P.maskParent._repaint && (this._$P.maskParent._repaint = 1, this._$P.maskParent.parentRepaint())
                        }
                    }),
                    __getset(0, i, "height",
                    function() {
                        return this.autoSize ? this.getSelfBounds().height: this._height
                    },
                    function(t) {
                        this._height !== t && (this._height = t, this.conchModel && this.conchModel.size(this._width, t), this.repaint())
                    }),
                    __getset(0, i, "blendMode",
                    function() {
                        return this._style.blendMode
                    },
                    function(t) {
                        this.getStyle().blendMode = t,
                        this.conchModel && this.conchModel.blendMode(t),
                        t && "source-over" != t ? this._renderType |= 8 : this._renderType &= -9,
                        this.parentRepaint()
                    }),
                    __getset(0, i, "scaleX",
                    function() {
                        return this._style._tf.scaleX
                    },
                    function(t) {
                        var e = this.getStyle();
                        if (e._tf.scaleX !== t) {
                            e.setScaleX(t),
                            this._tfChanged = !0,
                            this.conchModel && this.conchModel.scale(t, e._tf.scaleY),
                            this._renderType |= 4;
                            var i = this._parent;
                            i && 0 === i._repaint && (i._repaint = 1, i.parentRepaint())
                        }
                    }),
                    __getset(0, i, "scaleY",
                    function() {
                        return this._style._tf.scaleY
                    },
                    function(t) {
                        var e = this.getStyle();
                        if (e._tf.scaleY !== t) {
                            e.setScaleY(t),
                            this._tfChanged = !0,
                            this.conchModel && this.conchModel.scale(e._tf.scaleX, t),
                            this._renderType |= 4;
                            var i = this._parent;
                            i && 0 === i._repaint && (i._repaint = 1, i.parentRepaint())
                        }
                    }),
                    __getset(0, i, "stage",
                    function() {
                        return Laya.stage
                    }),
                    __getset(0, i, "skewX",
                    function() {
                        return this._style._tf.skewX
                    },
                    function(t) {
                        var e = this.getStyle();
                        if (e._tf.skewX !== t) {
                            e.setSkewX(t),
                            this._tfChanged = !0,
                            this._renderType |= 4;
                            var i = this._parent;
                            i && 0 === i._repaint && (i._repaint = 1, i.parentRepaint())
                        }
                    }),
                    __getset(0, i, "scrollRect",
                    function() {
                        return this._style.scrollRect
                    },
                    function(t) {
                        this.getStyle().scrollRect = t,
                        this.repaint(),
                        t ? (this._renderType |= 128, this.conchModel && this.conchModel.scrollRect(t.x, t.y, t.width, t.height)) : (this._renderType &= -129, this.conchModel && (e.RUNTIMEVERION < "0.9.1" ? this.conchModel.removeType(64) : this.conchModel.removeType(128)))
                    }),
                    __getset(0, i, "skewY",
                    function() {
                        return this._style._tf.skewY
                    },
                    function(t) {
                        var e = this.getStyle();
                        if (e._tf.skewY !== t) {
                            e.setSkewY(t),
                            this._tfChanged = !0,
                            this.conchModel && this.conchModel.skew(e._tf.skewX, t),
                            this._renderType |= 4;
                            var i = this._parent;
                            i && 0 === i._repaint && (i._repaint = 1, i.parentRepaint())
                        }
                    }),
                    __getset(0, i, "transform",
                    function() {
                        return this._tfChanged ? this._adjustTransform() : this._transform
                    },
                    function(t) {
                        this._tfChanged = !1,
                        this._transform = t,
                        t && (this._x = t.tx, this._y = t.ty, t.tx = t.ty = 0, this.conchModel && this.conchModel.transform(t.a, t.b, t.c, t.d, this._x, this._y)),
                        t ? this._renderType |= 4 : (this._renderType &= -5, this.conchModel && this.conchModel.removeType(4)),
                        this.parentRepaint()
                    }),
                    __getset(0, i, "pivotX",
                    function() {
                        return this._style._tf.translateX
                    },
                    function(t) {
                        this.getStyle().setTranslateX(t),
                        this.conchModel && this.conchModel.pivot(t, this._style._tf.translateY),
                        this.repaint()
                    }),
                    __getset(0, i, "pivotY",
                    function() {
                        return this._style._tf.translateY
                    },
                    function(t) {
                        this.getStyle().setTranslateY(t),
                        this.conchModel && this.conchModel.pivot(this._style._tf.translateX, t),
                        this.repaint()
                    }),
                    __getset(0, i, "alpha",
                    function() {
                        return this._style.alpha
                    },
                    function(t) {
                        this._style && this._style.alpha !== t && (t = t < 0 ? 0 : t > 1 ? 1 : t, this.getStyle().alpha = t, this.conchModel && this.conchModel.alpha(t), 1 !== t ? this._renderType |= 2 : this._renderType &= -3, this.parentRepaint())
                    }),
                    __getset(0, i, "visible",
                    function() {
                        return this._style.visible
                    },
                    function(t) {
                        this._style && this._style.visible !== t && (this.getStyle().visible = t, this.conchModel && this.conchModel.visible(t), this.parentRepaint())
                    }),
                    __getset(0, i, "graphics",
                    function() {
                        return this._graphics || (this.graphics = RunDriver.createGraphics())
                    },
                    function(t) {
                        this._graphics && (this._graphics._sp = null),
                        this._graphics = t,
                        t ? (this._renderType &= -2, this._renderType |= 512, t._sp = this, this.conchModel && this.conchModel.graphics(this._graphics)) : (this._renderType &= -513, this._renderType &= -2, this.conchModel && (e.RUNTIMEVERION < "0.9.1" ? this.conchModel.removeType(256) : this.conchModel.removeType(512))),
                        this.repaint()
                    }),
                    __getset(0, i, "filters",
                    function() {
                        return this._$P.filters
                    },
                    function(t) {
                        t && 0 === t.length && (t = null),
                        this._$P.filters != t && (this._set$P("filters", t ? t.slice() : null), Render.isConchApp && (this.conchModel && (e.RUNTIMEVERION < "0.9.1" ? this.conchModel.removeType(16) : this.conchModel.removeType(32)), this._$P.filters && 1 == this._$P.filters.length && this._$P.filters[0].callNative(this)), Render.isWebGL && (t && t.length ? this._renderType |= 32 : this._renderType &= -33), t && t.length > 0 ? (this._getBit(1) || this._setUpNoticeType(1), Render.isWebGL && 1 == t.length && t[0] instanceof laya.filters.ColorFilter || ("bitmap" != this.cacheAs && (Render.isConchNode || (this.cacheAs = "bitmap"), this._set$P("cacheForFilters", !0)), this._set$P("hasFilter", !0))) : (this._set$P("hasFilter", !1), this._$P.cacheForFilters && "bitmap" == this.cacheAs && (this.cacheAs = "none")), this.repaint())
                    }),
                    __getset(0, i, "parent", t.prototype._$get_parent,
                    function(e) {
                        t.prototype._$set_parent.call(this, e),
                        e && this._getBit(2) && this._$2__onDisplay()
                    }),
                    __getset(0, i, "mask",
                    function() {
                        return this._$P._mask
                    },
                    function(t) {
                        t && this.mask && this.mask._$P.maskParent || (t ? (this.cacheAs = "bitmap", this._set$P("_mask", t), t._set$P("maskParent", this)) : (this.cacheAs = "none", this.mask && this.mask._set$P("maskParent", null), this._set$P("_mask", t)), this.conchModel && this.conchModel.mask(t ? t.conchModel: null), this._renderType |= 64, this.parentRepaint())
                    }),
                    __getset(0, i, "mouseEnabled",
                    function() {
                        return this._mouseEnableState > 1
                    },
                    function(t) {
                        this._mouseEnableState = t ? 2 : 1
                    }),
                    __getset(0, i, "globalScaleX",
                    function() {
                        for (var t = 1,
                        e = this; e && e !== Laya.stage;) t *= e.scaleX,
                        e = e.parent;
                        return t
                    }),
                    __getset(0, i, "mouseX",
                    function() {
                        return this.getMousePoint().x
                    }),
                    __getset(0, i, "mouseY",
                    function() {
                        return this.getMousePoint().y
                    }),
                    e.fromImage = function(t) {
                        return (new e).loadImage(t)
                    },
                    e.CustomList = [],
                    __static(e, ["RUNTIMEVERION",
                    function() {
                        return this.RUNTIMEVERION = window.conch ? conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf("-") + 1) : ""
                    }]),
                    e
                } (Node),
                AudioSoundChannel = function(t) {
                    function e(t) {
                        this._audio = null,
                        this._onEnd = null,
                        this._resumePlay = null,
                        e.__super.call(this),
                        this._onEnd = Utils.bind(this.__onEnd, this),
                        this._resumePlay = Utils.bind(this.__resumePlay, this),
                        t.addEventListener("ended", this._onEnd),
                        this._audio = t
                    }
                    __class(e, "laya.media.h5audio.AudioSoundChannel", t);
                    var i = e.prototype;
                    return i.__onEnd = function() {
                        if (1 == this.loops) return this.completeHandler && (Laya.timer.once(10, this, this.__runComplete, [this.completeHandler], !1), this.completeHandler = null),
                        this.stop(),
                        void this.event("complete");
                        this.loops > 0 && this.loops--,
                        this.play()
                    },
                    i.__resumePlay = function() {
                        this._audio && this._audio.removeEventListener("canplay", this._resumePlay);
                        try {
                            this._audio.currentTime = this.startTime,
                            this._audio.play()
                        } catch(t) {
                            this.event("error")
                        }
                    },
                    i.play = function() {
                        this.isStopped = !1;
                        try {
                            this._audio.playbackRate = SoundManager.playbackRate,
                            this._audio.currentTime = this.startTime
                        } catch(t) {
                            return void this._audio.addEventListener("canplay", this._resumePlay)
                        }
                        SoundManager.addChannel(this),
                        "play" in this._audio && this._audio.play()
                    },
                    i.stop = function() {
                        this.isStopped = !0,
                        SoundManager.removeChannel(this),
                        this.completeHandler = null,
                        this._audio && ("pause" in this._audio && Render.isConchApp && this._audio.stop(), this._audio.pause(), this._audio.removeEventListener("ended", this._onEnd), this._audio.removeEventListener("canplay", this._resumePlay), Browser.onIE || Pool.recover("audio:" + this.url, this._audio), Browser.removeElement(this._audio), this._audio = null)
                    },
                    i.pause = function() {
                        this.isStopped = !0,
                        SoundManager.removeChannel(this),
                        "pause" in this._audio && this._audio.pause()
                    },
                    i.resume = function() {
                        this._audio && (this.isStopped = !1, SoundManager.addChannel(this), "play" in this._audio && this._audio.play())
                    },
                    __getset(0, i, "position",
                    function() {
                        return this._audio ? this._audio.currentTime: 0
                    }),
                    __getset(0, i, "duration",
                    function() {
                        return this._audio ? this._audio.duration: 0
                    }),
                    __getset(0, i, "volume",
                    function() {
                        return this._audio ? this._audio.volume: 1
                    },
                    function(t) {
                        this._audio && (this._audio.volume = t)
                    }),
                    e
                } (SoundChannel),
                WebAudioSoundChannel = function(t) {
                    function e() {
                        this.audioBuffer = null,
                        this.gain = null,
                        this.bufferSource = null,
                        this._currentTime = 0,
                        this._volume = 1,
                        this._startTime = 0,
                        this._pauseTime = 0,
                        this._onPlayEnd = null,
                        this.context = WebAudioSound.ctx,
                        e.__super.call(this),
                        this._onPlayEnd = Utils.bind(this.__onPlayEnd, this),
                        this.context.createGain ? this.gain = this.context.createGain() : this.gain = this.context.createGainNode()
                    }
                    __class(e, "laya.media.webaudio.WebAudioSoundChannel", t);
                    var i = e.prototype;
                    return i.play = function() {
                        if (SoundManager.addChannel(this), this.isStopped = !1, this._clearBufferSource(), this.audioBuffer) {
                            var t = this.context,
                            e = this.gain,
                            i = t.createBufferSource();
                            this.bufferSource = i,
                            i.buffer = this.audioBuffer,
                            i.connect(e),
                            e && e.disconnect(),
                            e.connect(t.destination),
                            i.onended = this._onPlayEnd,
                            this.startTime >= this.duration && (this.startTime = 0),
                            this._startTime = Browser.now(),
                            this.gain.gain.value = this._volume,
                            0 == this.loops && (i.loop = !0),
                            i.playbackRate.value = SoundManager.playbackRate,
                            i.start(0, this.startTime),
                            this._currentTime = 0
                        }
                    },
                    i.__onPlayEnd = function() {
                        if (1 == this.loops) return this.completeHandler && (Laya.timer.once(10, this, this.__runComplete, [this.completeHandler], !1), this.completeHandler = null),
                        this.stop(),
                        void this.event("complete");
                        this.loops > 0 && this.loops--,
                        this.play()
                    },
                    i._clearBufferSource = function() {
                        if (this.bufferSource) {
                            var t = this.bufferSource;
                            t.stop ? t.stop(0) : t.noteOff(0),
                            t.disconnect(0),
                            t.onended = null,
                            e._tryCleanFailed || this._tryClearBuffer(t),
                            this.bufferSource = null
                        }
                    },
                    i._tryClearBuffer = function(t) {
                        if (!Browser.onIOS) return void(e._tryCleanFailed = !0);
                        try {
                            t.buffer = WebAudioSound._miniBuffer
                        } catch(t) {
                            e._tryCleanFailed = !0
                        }
                    },
                    i.stop = function() {
                        this._clearBufferSource(),
                        this.audioBuffer = null,
                        this.gain && this.gain.disconnect(),
                        this.isStopped = !0,
                        SoundManager.removeChannel(this),
                        this.completeHandler = null
                    },
                    i.pause = function() {
                        this.isStopped || (this._pauseTime = this.position),
                        this._clearBufferSource(),
                        this.gain && this.gain.disconnect(),
                        this.isStopped = !0,
                        SoundManager.removeChannel(this)
                    },
                    i.resume = function() {
                        this.startTime = this._pauseTime,
                        this.play()
                    },
                    __getset(0, i, "position",
                    function() {
                        return this.bufferSource ? (Browser.now() - this._startTime) / 1e3 + this.startTime: 0
                    }),
                    __getset(0, i, "duration",
                    function() {
                        return this.audioBuffer ? this.audioBuffer.duration: 0
                    }),
                    __getset(0, i, "volume",
                    function() {
                        return this._volume
                    },
                    function(t) {
                        this.isStopped || (this._volume = t, this.gain.gain.value = t)
                    }),
                    e._tryCleanFailed = !1,
                    e
                } (SoundChannel),
                Bitmap = function(t) {
                    function e() {
                        this.useNum = 0,
                        e.__super.call(this),
                        this._w = 0,
                        this._h = 0
                    }
                    __class(e, "laya.resource.Bitmap", t);
                    var i = e.prototype;
                    return i.dispose = function() {
                        this._resourceManager.removeResource(this),
                        t.prototype.dispose.call(this)
                    },
                    __getset(0, i, "width",
                    function() {
                        return this._w
                    }),
                    __getset(0, i, "height",
                    function() {
                        return this._h
                    }),
                    __getset(0, i, "source",
                    function() {
                        return this._source
                    }),
                    e
                } (Resource),
                AnimationPlayerBase = function(t) {
                    function e() {
                        this.loop = !1,
                        this.wrapMode = 0,
                        this._index = 0,
                        this._count = 0,
                        this._isPlaying = !1,
                        this._labels = null,
                        this._isReverse = !1,
                        this._frameRateChanged = !1,
                        this._controlNode = null,
                        this._actionName = null,
                        e.__super.call(this),
                        this._interval = Config.animationInterval,
                        this._setUpNoticeType(1)
                    }
                    __class(e, "laya.display.AnimationPlayerBase", t);
                    var i = e.prototype;
                    return i.play = function(t, e, i) {
                        void 0 === t && (t = 0),
                        void 0 === e && (e = !0),
                        void 0 === i && (i = ""),
                        this._isPlaying = !0,
                        this.index = "string" == typeof t ? this._getFrameByLabel(t) : t,
                        this.loop = e,
                        this._actionName = i,
                        this._isReverse = 1 == this.wrapMode,
                        this.interval > 0 && this.timerLoop(this.interval, this, this._frameLoop, null, !0, !0)
                    },
                    i._getFrameByLabel = function(t) {
                        var e = 0;
                        for (e = 0; e < this._count; e++) if (this._labels[e] && this._labels[e].indexOf(t) >= 0) return e;
                        return 0
                    },
                    i._frameLoop = function() {
                        if (this._isReverse) {
                            if (--this._index < 0) {
                                if (!this.loop) return this._index = 0,
                                this.stop(),
                                void this.event("complete");
                                2 == this.wrapMode ? (this._index = this._count > 0 ? 1 : 0, this._isReverse = !1) : this._index = this._count - 1,
                                this.event("complete")
                            }
                        } else if (++this._index >= this._count) {
                            if (!this.loop) return this._index--,
                            this.stop(),
                            void this.event("complete");
                            2 == this.wrapMode ? (this._index = this._count - 2 >= 0 ? this._count - 2 : 0, this._isReverse = !0) : this._index = 0,
                            this.event("complete")
                        }
                        this.index = this._index
                    },
                    i._setControlNode = function(t) {
                        this._controlNode && (this._controlNode.off("display", this, this._checkResumePlaying), this._controlNode.off("undisplay", this, this._checkResumePlaying)),
                        this._controlNode = t,
                        t && t != this && (t.on("display", this, this._checkResumePlaying), t.on("undisplay", this, this._checkResumePlaying))
                    },
                    i._setDisplay = function(e) {
                        t.prototype._setDisplay.call(this, e),
                        this._checkResumePlaying()
                    },
                    i._checkResumePlaying = function() {
                        this._isPlaying && (this._controlNode.displayedInStage ? this.play(this._index, this.loop, this._actionName) : this.clearTimer(this, this._frameLoop))
                    },
                    i.stop = function() {
                        this._isPlaying = !1,
                        this.clearTimer(this, this._frameLoop)
                    },
                    i.addLabel = function(t, e) {
                        this._labels || (this._labels = {}),
                        this._labels[e] || (this._labels[e] = []),
                        this._labels[e].push(t)
                    },
                    i.removeLabel = function(t) {
                        if (t) {
                            if (this._labels) for (var e in this._labels) this._removeLabelFromLabelList(this._labels[e], t)
                        } else this._labels = null
                    },
                    i._removeLabelFromLabelList = function(t, e) {
                        if (t) for (var i = t.length - 1; i >= 0; i--) t[i] == e && t.splice(i, 1)
                    },
                    i.gotoAndStop = function(t) {
                        this.index = "string" == typeof t ? this._getFrameByLabel(t) : t,
                        this.stop()
                    },
                    i._displayToIndex = function(t) {},
                    i.clear = function() {
                        this.stop(),
                        this._labels = null
                    },
                    __getset(0, i, "interval",
                    function() {
                        return this._interval
                    },
                    function(t) {
                        this._interval != t && (this._frameRateChanged = !0, this._interval = t, this._isPlaying && t > 0 && this.timerLoop(t, this, this._frameLoop, null, !0, !0))
                    }),
                    __getset(0, i, "isPlaying",
                    function() {
                        return this._isPlaying
                    }),
                    __getset(0, i, "index",
                    function() {
                        return this._index
                    },
                    function(t) {
                        if (this._index = t, this._displayToIndex(t), this._labels && this._labels[t]) for (var e = this._labels[t], i = 0, n = e.length; i < n; i++) this.event("label", e[i])
                    }),
                    __getset(0, i, "count",
                    function() {
                        return this._count
                    }),
                    e.WRAP_POSITIVE = 0,
                    e.WRAP_REVERSE = 1,
                    e.WRAP_PINGPONG = 2,
                    e
                } (Sprite),
                Text = function(t) {
                    function e() {
                        this._clipPoint = null,
                        this._currBitmapFont = null,
                        this._text = null,
                        this._isChanged = !1,
                        this._textWidth = 0,
                        this._textHeight = 0,
                        this._lines = [],
                        this._lineWidths = [],
                        this._startX = NaN,
                        this._startY = NaN,
                        this._lastVisibleLineIndex = -1,
                        this._words = null,
                        this._charSize = {},
                        this._fontActallyUsed = null,
                        this.underline = !1,
                        this._underlineColor = null,
                        e.__super.call(this),
                        this.overflow = e.VISIBLE,
                        this._style = new CSSStyle(this),
                        this._style.wordWrap = !1
                    }
                    __class(e, "laya.display.Text", t);
                    var i = e.prototype;
                    return i.destroy = function(e) {
                        void 0 === e && (e = !0),
                        t.prototype.destroy.call(this, e),
                        this._lines = null,
                        this._words && (this._words.length = 0, this._words = null)
                    },
                    i._getBoundPointsM = function(t) {
                        void 0 === t && (t = !1);
                        var e = Rectangle.TEMP;
                        return e.setTo(0, 0, this.width, this.height),
                        e._getBoundPoints()
                    },
                    i.getGraphicBounds = function(t) {
                        void 0 === t && (t = !1);
                        var e = Rectangle.TEMP;
                        return e.setTo(0, 0, this.width, this.height),
                        e
                    },
                    i._getCSSStyle = function() {
                        return this._style
                    },
                    i.lang = function(t, i, n, s, r, a, o, h, l, u, c) {
                        if (t = e.langPacks && e.langPacks[t] ? e.langPacks[t] : t, arguments.length < 2) this._text = t;
                        else {
                            for (var d = 0,
                            _ = arguments.length; d < _; d++) t = t.replace("{" + d + "}", arguments[d + 1]);
                            this._text = t
                        }
                    },
                    i.renderText = function(t, e) {
                        var i = this.graphics;
                        i.clear(!0);
                        var n = (this.italic ? "italic ": "") + (this.bold ? "bold ": "") + this.fontSize + "px " + this._fontActallyUsed;
                        Browser.context.font = n;
                        var s = this.padding,
                        r = s[3],
                        a = "left",
                        o = this._lines,
                        h = this.leading + this._charSize.height,
                        l = this._currBitmapFont;
                        l && (h = this.leading + l.getMaxHeight());
                        var u = s[0];
                        if (!l && this._width > 0 && this._textWidth <= this._width && ("right" == this.align ? (a = "right", r = this._width - s[1]) : "center" == this.align && (a = "center", r = .5 * this._width + s[3] - s[1])), this._height > 0) {
                            var c = this._textHeight > this._height ? "top": this.valign;
                            "middle" === c ? u = .5 * (this._height - e * h) + s[0] - s[2] : "bottom" === c && (u = this._height - e * h - s[2])
                        }
                        var d = this._style;
                        if (l && l.autoScaleSize) var _ = l.fontSize / this.fontSize;
                        if (this._clipPoint) if (i.save(), l && l.autoScaleSize) {
                            var f = 0,
                            p = 0;
                            f = this._width ? this._width - s[3] - s[1] : this._textWidth,
                            p = this._height ? this._height - s[0] - s[2] : this._textHeight,
                            f *= _,
                            p *= _,
                            i.clipRect(s[3], s[0], f, p)
                        } else i.clipRect(s[3], s[0], this._width ? this._width - s[3] - s[1] : this._textWidth, this._height ? this._height - s[0] - s[2] : this._textHeight);
                        var g = d.password;
                        "prompt" in this && this.prompt == this._text && (g = !1);
                        for (var y = 0,
                        v = 0,
                        m = Math.min(this._lines.length, e + t) || 1, w = t; w < m; w++) {
                            var x, b = o[w];
                            if (g) {
                                var S = b.length;
                                b = "";
                                for (var C = S; C > 0; C--) b += "●"
                            }
                            if (y = r - (this._clipPoint ? this._clipPoint.x: 0), v = u + h * w - (this._clipPoint ? this._clipPoint.y: 0), this.underline && this.drawUnderline(a, y, v, w), l) {
                                var P = this.width;
                                l.autoScaleSize && (P = this.width * _),
                                l.drawText(b, this, y, v, this.align, P)
                            } else Render.isWebGL ? (this._words || (this._words = []), x = this._words.length > w - t ? this._words[w - t] : new WordText, x.setText(b)) : x = b,
                            d.stroke ? i.fillBorderText(x, y, v, n, this.color, d.strokeColor, d.stroke, a) : i.fillText(x, y, v, n, this.color, a)
                        }
                        if (l && l.autoScaleSize) {
                            var k = 1 / _;
                            this.scale(k, k)
                        }
                        this._clipPoint && i.restore(),
                        this._startX = r,
                        this._startY = u
                    },
                    i.drawUnderline = function(t, e, i, n) {
                        var s = this._lineWidths[n];
                        switch (t) {
                        case "center":
                            e -= s / 2;
                            break;
                        case "right":
                            e -= s
                        }
                        i += this._charSize.height,
                        this._graphics.drawLine(e, i, e + s, i, this.underlineColor || this.color, 1)
                    },
                    i.typeset = function() {
                        if (this._isChanged = !1, !this._text) return this._clipPoint = null,
                        this._textWidth = this._textHeight = 0,
                        void this.graphics.clear(!0);
                        Browser.context.font = this._getCSSStyle().font,
                        this._lines.length = 0,
                        this._lineWidths.length = 0,
                        this.parseLines(this._text),
                        this.evalTextSize(),
                        this.checkEnabledViewportOrNot() ? this._clipPoint || (this._clipPoint = new Point(0, 0)) : this._clipPoint = null;
                        var t = this._lines.length;
                        if (this.overflow != e.VISIBLE) {
                            var i = this.overflow == e.HIDDEN ? Math.floor: Math.ceil;
                            t = Math.min(t, i((this.height - this.padding[0] - this.padding[2]) / (this.leading + this._charSize.height)))
                        }
                        var n = this.scrollY / (this._charSize.height + this.leading) | 0;
                        this.renderText(n, t),
                        this.repaint()
                    },
                    i.evalTextSize = function() {
                        var t = NaN,
                        e = NaN;
                        t = Math.max.apply(this, this._lineWidths),
                        e = this._currBitmapFont ? this._lines.length * (this._currBitmapFont.getMaxHeight() + this.leading) + this.padding[0] + this.padding[2] : this._lines.length * (this._charSize.height + this.leading) + this.padding[0] + this.padding[2],
                        t == this._textWidth && e == this._textHeight || (this._textWidth = t, this._textHeight = e, this._width && this._height || this.conchModel && this.conchModel.size(this._width || this._textWidth, this._height || this._textHeight))
                    },
                    i.checkEnabledViewportOrNot = function() {
                        return this.overflow == e.SCROLL && (this._width > 0 && this._textWidth > this._width || this._height > 0 && this._textHeight > this._height)
                    },
                    i.changeText = function(t) {
                        this._text !== t && (this.lang(t + ""), this._graphics && this._graphics.replaceText(this._text) || this.typeset())
                    },
                    i.parseLines = function(t) {
                        var i = this.wordWrap || this.overflow == e.HIDDEN;
                        if (i) var n = this.getWordWrapWidth();
                        if (this._currBitmapFont) this._charSize.width = this._currBitmapFont.getMaxWidth(),
                        this._charSize.height = this._currBitmapFont.getMaxHeight();
                        else {
                            var s = Browser.context.measureText(e._testWord);
                            this._charSize.width = s.width,
                            this._charSize.height = s.height || this.fontSize
                        }
                        for (var r = t.replace(/\r\n/g, "\n").split("\n"), a = 0, o = r.length; a < o; a++) {
                            var h = r[a];
                            i ? this.parseLine(h, n) : (this._lineWidths.push(this.getTextWidth(h)), this._lines.push(h))
                        }
                    },
                    i.parseLine = function(t, i) {
                        var n, s = (Browser.context, this._lines),
                        r = 0,
                        a = NaN,
                        o = NaN,
                        h = 0;
                        if ((a = this.getTextWidth(t)) <= i) return s.push(t),
                        void this._lineWidths.push(a);
                        a = this._charSize.width,
                        r = Math.floor(i / a),
                        0 == r && (r = 1),
                        a = this.getTextWidth(t.substring(0, r)),
                        o = a;
                        for (var l = r,
                        u = t.length; l < u; l++) if (a = this.getTextWidth(t.charAt(l)), (o += a) > i) if (this.wordWrap) {
                            var c = t.substring(h, l);
                            if (c.charCodeAt(c.length - 1) < 255 && (n = /(?:\w|-)+$/.exec(c)) && (l = n.index + h, 0 == n.index ? l += c.length: c = t.substring(h, l)), s.push(c), this._lineWidths.push(o - a), h = l, !(l + r < u)) {
                                s.push(t.substring(h, u)),
                                this._lineWidths.push(this.getTextWidth(s[s.length - 1])),
                                h = -1;
                                break
                            }
                            l += r,
                            a = this.getTextWidth(t.substring(h, l)),
                            o = a,
                            l--
                        } else if (this.overflow == e.HIDDEN) return s.push(t.substring(0, l)),
                        void this._lineWidths.push(this.getTextWidth(s[s.length - 1]));
                        this.wordWrap && -1 != h && (s.push(t.substring(h, u)), this._lineWidths.push(this.getTextWidth(s[s.length - 1])))
                    },
                    i.getTextWidth = function(t) {
                        return this._currBitmapFont ? this._currBitmapFont.getTextWidth(t) : Browser.context.measureText(t).width
                    },
                    i.getWordWrapWidth = function() {
                        var t = this.padding,
                        e = NaN;
                        return e = this._currBitmapFont && this._currBitmapFont.autoScaleSize ? this._width * (this._currBitmapFont.fontSize / this.fontSize) : this._width,
                        e <= 0 && (e = this.wordWrap ? 100 : Browser.width),
                        e <= 0 && (e = 100),
                        e - t[3] - t[1]
                    },
                    i.getCharPoint = function(t, e) {
                        this._isChanged && Laya.timer.runCallLater(this, this.typeset);
                        for (var i = 0,
                        n = this._lines,
                        s = 0,
                        r = 0,
                        a = n.length; r < a; r++) {
                            if (i += n[r].length, t < i) {
                                var o = r;
                                break
                            }
                            s = i
                        }
                        var h = (this.italic ? "italic ": "") + (this.bold ? "bold ": "") + this.fontSize + "px " + this.font;
                        Browser.context.font = h;
                        var l = this.getTextWidth(this._text.substring(s, t));
                        return (e || new Point).setTo(this._startX + l - (this._clipPoint ? this._clipPoint.x: 0), this._startY + o * (this._charSize.height + this.leading) - (this._clipPoint ? this._clipPoint.y: 0))
                    },
                    __getset(0, i, "width",
                    function() {
                        return this._width ? this._width: this.textWidth + this.padding[1] + this.padding[3]
                    },
                    function(e) {
                        e != this._width && (t.prototype._$set_width.call(this, e), this.isChanged = !0)
                    }),
                    __getset(0, i, "textWidth",
                    function() {
                        return this._isChanged && Laya.timer.runCallLater(this, this.typeset),
                        this._textWidth
                    }),
                    __getset(0, i, "height",
                    function() {
                        return this._height ? this._height: this.textHeight + this.padding[0] + this.padding[2]
                    },
                    function(e) {
                        e != this._height && (t.prototype._$set_height.call(this, e), this.isChanged = !0)
                    }),
                    __getset(0, i, "textHeight",
                    function() {
                        return this._isChanged && Laya.timer.runCallLater(this, this.typeset),
                        this._textHeight
                    }),
                    __getset(0, i, "padding",
                    function() {
                        return this._getCSSStyle().padding
                    },
                    function(t) {
                        this._getCSSStyle().padding = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "bold",
                    function() {
                        return this._getCSSStyle().bold
                    },
                    function(t) {
                        this._getCSSStyle().bold = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "text",
                    function() {
                        return this._text || ""
                    },
                    function(t) {
                        this._text !== t && (this.lang(t + ""), this.isChanged = !0, this.event("change"))
                    }),
                    __getset(0, i, "color",
                    function() {
                        return this._getCSSStyle().color
                    },
                    function(t) {
                        this._getCSSStyle().color != t && (this._getCSSStyle().color = t, !this._isChanged && this._graphics ? this._graphics.replaceTextColor(this.color) : this.isChanged = !0)
                    }),
                    __getset(0, i, "font",
                    function() {
                        return this._getCSSStyle().fontFamily
                    },
                    function(t) {
                        if (this._currBitmapFont && (this._currBitmapFont = null, this.scale(1, 1)), this._fontActallyUsed = t, e._bitmapFonts && e._bitmapFonts[t]) this._currBitmapFont = e._bitmapFonts[t];
                        else if (Browser.onIPhone && e._fontFamilyMapList.indexOf(t) > -1) {
                            var i = Browser.window.navigator.language;
                            "zh-cn" == i ? this._fontActallyUsed += "-简": "zh-tw" == i && (this._fontActallyUsed += "-繁")
                        }
                        this._getCSSStyle().fontFamily = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "fontSize",
                    function() {
                        return this._getCSSStyle().fontSize
                    },
                    function(t) {
                        this._getCSSStyle().fontSize = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "italic",
                    function() {
                        return this._getCSSStyle().italic
                    },
                    function(t) {
                        this._getCSSStyle().italic = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "align",
                    function() {
                        return this._getCSSStyle().align
                    },
                    function(t) {
                        this._getCSSStyle().align = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "valign",
                    function() {
                        return this._getCSSStyle().valign
                    },
                    function(t) {
                        this._getCSSStyle().valign = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "wordWrap",
                    function() {
                        return this._getCSSStyle().wordWrap
                    },
                    function(t) {
                        this._getCSSStyle().wordWrap = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "leading",
                    function() {
                        return this._getCSSStyle().leading
                    },
                    function(t) {
                        this._getCSSStyle().leading = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "bgColor",
                    function() {
                        return this._getCSSStyle().backgroundColor
                    },
                    function(t) {
                        this._getCSSStyle().backgroundColor = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "borderColor",
                    function() {
                        return this._getCSSStyle().borderColor
                    },
                    function(t) {
                        this._getCSSStyle().borderColor = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "stroke",
                    function() {
                        return this._getCSSStyle().stroke
                    },
                    function(t) {
                        this._getCSSStyle().stroke = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "strokeColor",
                    function() {
                        return this._getCSSStyle().strokeColor
                    },
                    function(t) {
                        this._getCSSStyle().strokeColor = t,
                        this.isChanged = !0
                    }),
                    __getset(0, i, "isChanged", null,
                    function(t) {
                        this._isChanged !== t && (this._isChanged = t, t && Laya.timer.callLater(this, this.typeset))
                    }),
                    __getset(0, i, "scrollX",
                    function() {
                        return this._clipPoint ? this._clipPoint.x: 0
                    },
                    function(t) {
                        if (! (this.overflow != e.SCROLL || this.textWidth < this._width) && this._clipPoint) {
                            t = t < this.padding[3] ? this.padding[3] : t;
                            var i = this._textWidth - this._width;
                            t = t > i ? i: t;
                            var n = this._height / (this._charSize.height + this.leading) | 1;
                            this._clipPoint.x = t,
                            this.renderText(this._lastVisibleLineIndex, n)
                        }
                    }),
                    __getset(0, i, "scrollY",
                    function() {
                        return this._clipPoint ? this._clipPoint.y: 0
                    },
                    function(t) {
                        if (! (this.overflow != e.SCROLL || this.textHeight < this._height) && this._clipPoint) {
                            t = t < this.padding[0] ? this.padding[0] : t;
                            var i = this._textHeight - this._height;
                            t = t > i ? i: t;
                            var n = t / (this._charSize.height + this.leading) | 0;
                            this._lastVisibleLineIndex = n;
                            var s = 1 + (this._height / (this._charSize.height + this.leading) | 0);
                            this._clipPoint.y = t,
                            this.renderText(n, s)
                        }
                    }),
                    __getset(0, i, "maxScrollX",
                    function() {
                        return this.textWidth < this._width ? 0 : this._textWidth - this._width
                    }),
                    __getset(0, i, "maxScrollY",
                    function() {
                        return this.textHeight < this._height ? 0 : this._textHeight - this._height
                    }),
                    __getset(0, i, "lines",
                    function() {
                        return this._isChanged && this.typeset(),
                        this._lines
                    }),
                    __getset(0, i, "underlineColor",
                    function() {
                        return this._underlineColor
                    },
                    function(t) {
                        this._underlineColor = t,
                        this._isChanged = !0,
                        this.typeset()
                    }),
                    e.registerBitmapFont = function(t, i) {
                        e._bitmapFonts || (e._bitmapFonts = {}),
                        e._bitmapFonts[t] = i
                    },
                    e.unregisterBitmapFont = function(t, i) {
                        if (void 0 === i && (i = !0), e._bitmapFonts && e._bitmapFonts[t]) {
                            var n = e._bitmapFonts[t];
                            i && n.destroy(),
                            delete e._bitmapFonts[t]
                        }
                    },
                    e.supportFont = function(t) {
                        Browser.context.font = "10px sans-serif";
                        var e = Browser.context.measureText("abcji").width;
                        Browser.context.font = "10px " + t;
                        var i = Browser.context.measureText("abcji").width;
                        return console.log(e, i),
                        e != i
                    },
                    e._testWord = "游",
                    e.langPacks = null,
                    e.VISIBLE = "visible",
                    e.SCROLL = "scroll",
                    e.HIDDEN = "hidden",
                    e._bitmapFonts = null,
                    __static(e, ["_fontFamilyMapList",
                    function() {
                        return this._fontFamilyMapList = ["报隶", "黑体", "楷体", "兰亭黑", "隶变", "凌慧体", "翩翩体", "苹方", "手札体", "宋体", "娃娃体", "魏碑", "行楷", "雅痞", "圆体"]
                    }]),
                    e
                } (Sprite),
                Stage = function(t) {
                    function e() {
                        function t() {
                            "hidden" == Browser.document[r] ? (i._isVisibility = !1, s._isInputting() && (Input.inputElement.target.focus = !1)) : i._isVisibility = !0,
                            s.event("visibilitychange")
                        }
                        this.focus = null,
                        this.frameRate = "fast",
                        this.designWidth = 0,
                        this.designHeight = 0,
                        this.canvasRotation = !1,
                        this.canvasDegree = 0,
                        this.renderingEnabled = !0,
                        this.screenAdaptationEnabled = !0,
                        this._screenMode = "none",
                        this._scaleMode = "noscale",
                        this._alignV = "top",
                        this._alignH = "left",
                        this._bgColor = "black",
                        this._mouseMoveTime = 0,
                        this._renderCount = 0,
                        this._safariOffsetY = 0,
                        this._frameStartTime = NaN,
                        this._isFocused = !1,
                        this._isVisibility = !1,
                        this._scenes = null,
                        this._wgColor = null,
                        e.__super.call(this),
                        this.offset = new Point,
                        this._canvasTransform = new Matrix,
                        this._previousOrientation = Browser.window.orientation;
                        var i = this;
                        this.transform = Matrix.create(),
                        this._scenes = [],
                        this.mouseEnabled = !0,
                        this.hitTestPrior = !0,
                        this.autoSize = !1,
                        this._displayedInStage = !0,
                        this._isFocused = !0,
                        this._isVisibility = !0;
                        var n = Browser.window,
                        s = this;
                        n.addEventListener("focus",
                        function() {
                            i._isFocused = !0,
                            s.event("focus"),
                            s.event("focuschange")
                        }),
                        n.addEventListener("blur",
                        function() {
                            i._isFocused = !1,
                            s.event("blur"),
                            s.event("focuschange"),
                            s._isInputting() && (Input.inputElement.target.focus = !1)
                        });
                        var r = "visibilityState",
                        a = "visibilitychange",
                        o = n.document;
                        void 0 !== o.hidden ? (a = "visibilitychange", r = "visibilityState") : void 0 !== o.mozHidden ? (a = "mozvisibilitychange", r = "mozVisibilityState") : void 0 !== o.msHidden ? (a = "msvisibilitychange", r = "msVisibilityState") : void 0 !== o.webkitHidden && (a = "webkitvisibilitychange", r = "webkitVisibilityState"),
                        n.document.addEventListener(a, t),
                        n.addEventListener("resize",
                        function() {
                            var t = Browser.window.orientation;
                            null != t && t != i._previousOrientation && s._isInputting() && (Input.inputElement.target.focus = !1),
                            i._previousOrientation = t,
                            s._isInputting() || (Browser.onSafari && (s._safariOffsetY = (Browser.window.__innerHeight || Browser.document.body.clientHeight || Browser.document.documentElement.clientHeight) - Browser.window.innerHeight), s._resetCanvas())
                        }),
                        n.addEventListener("orientationchange",
                        function(t) {
                            s._resetCanvas()
                        }),
                        this.on("mousemove", this, this._onmouseMove),
                        Browser.onMobile && this.on("mousedown", this, this._onmouseMove)
                    }
                    __class(e, "laya.display.Stage", t);
                    var i = e.prototype;
                    return i._isInputting = function() {
                        return Browser.onMobile && Input.isInputting
                    },
                    i._changeCanvasSize = function() {
                        this.setScreenSize(Browser.clientWidth * Browser.pixelRatio, Browser.clientHeight * Browser.pixelRatio)
                    },
                    i._resetCanvas = function() {
                        if (this.screenAdaptationEnabled) {
                            var t = Render._mainCanvas;
                            t.source.style;
                            Laya.timer.once(100, this, this._changeCanvasSize)
                        }
                    },
                    i.setScreenSize = function(t, e) {
                        var i = !1;
                        if ("none" !== this._screenMode) {
                            if (i = (t / e < 1 ? "vertical": "horizontal") !== this._screenMode) {
                                var n = e;
                                e = t,
                                t = n
                            }
                        }
                        this.canvasRotation = i;
                        var s = Render._mainCanvas,
                        r = s.source.style,
                        a = this._canvasTransform.identity(),
                        o = this._scaleMode,
                        h = t / this.designWidth,
                        l = e / this.designHeight,
                        u = this.designWidth,
                        c = this.designHeight,
                        d = t,
                        _ = e,
                        f = Browser.pixelRatio;
                        switch (this._width = this.designWidth, this._height = this.designHeight, o) {
                        case "noscale":
                            h = l = 1,
                            d = this.designWidth,
                            _ = this.designHeight;
                            break;
                        case "showall":
                            h = l = Math.min(h, l),
                            u = d = Math.round(this.designWidth * h),
                            c = _ = Math.round(this.designHeight * l);
                            break;
                        case "noborder":
                            h = l = Math.max(h, l),
                            d = Math.round(this.designWidth * h),
                            _ = Math.round(this.designHeight * l);
                            break;
                        case "full":
                            h = l = 1,
                            this._width = u = t,
                            this._height = c = e;
                            break;
                        case "fixedwidth":
                            l = h,
                            this._height = c = Math.round(e / h);
                            break;
                        case "fixedheight":
                            h = l,
                            this._width = u = Math.round(t / l);
                            break;
                        case "fixedauto":
                            t / e < this.designWidth / this.designHeight ? (l = h, this._height = c = Math.round(e / h)) : (h = l, this._width = u = Math.round(t / l))
                        }
                        h *= this.scaleX,
                        l *= this.scaleY,
                        1 === h && 1 === l ? this.transform.identity() : (this.transform.a = this._formatData(h / (d / u)), this.transform.d = this._formatData(l / (_ / c)), this.conchModel && this.conchModel.scale(this.transform.a, this.transform.d)),
                        s.size(u, c),
                        RunDriver.changeWebGLSize(u, c),
                        a.scale(d / u / f, _ / c / f),
                        "left" === this._alignH ? this.offset.x = 0 : "right" === this._alignH ? this.offset.x = t - d: this.offset.x = .5 * (t - d) / f,
                        "top" === this._alignV ? this.offset.y = 0 : "bottom" === this._alignV ? this.offset.y = e - _: this.offset.y = .5 * (e - _) / f,
                        this.offset.x = Math.round(this.offset.x),
                        this.offset.y = Math.round(this.offset.y),
                        a.translate(this.offset.x, this.offset.y),
                        this._safariOffsetY && a.translate(0, this._safariOffsetY),
                        this.canvasDegree = 0,
                        i && ("horizontal" === this._screenMode ? (a.rotate(Math.PI / 2), a.translate(e / f, 0), this.canvasDegree = 90) : (a.rotate( - Math.PI / 2), a.translate(0, t / f), this.canvasDegree = -90)),
                        a.a = this._formatData(a.a),
                        a.d = this._formatData(a.d),
                        a.tx = this._formatData(a.tx),
                        a.ty = this._formatData(a.ty),
                        r.transformOrigin = r.webkitTransformOrigin = r.msTransformOrigin = r.mozTransformOrigin = r.oTransformOrigin = "0px 0px 0px",
                        r.transform = r.webkitTransform = r.msTransform = r.mozTransform = r.oTransform = "matrix(" + a.toString() + ")",
                        this._safariOffsetY && a.translate(0, -this._safariOffsetY),
                        a.translate(parseInt(r.left) || 0, parseInt(r.top) || 0),
                        this.visible = !0,
                        this._repaint = 1,
                        this.event("resize")
                    },
                    i._formatData = function(t) {
                        return Math.abs(t) < 1e-6 ? 0 : Math.abs(1 - t) < .001 ? t > 0 ? 1 : -1 : t
                    },
                    i.getMousePoint = function() {
                        return Point.TEMP.setTo(this.mouseX, this.mouseY)
                    },
                    i.repaint = function() {
                        this._repaint = 1
                    },
                    i.parentRepaint = function() {},
                    i._loop = function() {
                        return this.render(Render.context, 0, 0),
                        !0
                    },
                    i._onmouseMove = function(t) {
                        this._mouseMoveTime = Browser.now()
                    },
                    i.getTimeFromFrameStart = function() {
                        return Browser.now() - this._frameStartTime
                    },
                    i.render = function(e, i, n) {
                        if ("sleep" === this.frameRate) {
                            var s = Browser.now();
                            if (! (s - this._frameStartTime >= 1e3)) return;
                            this._frameStartTime = s
                        }
                        if (this._renderCount++, Render.isFlash && this.repaint(), !this._style.visible) return void(this._renderCount % 5 == 0 && (Stat.loopCount++, MouseManager.instance.runEvent(), Laya.timer._update()));
                        this._frameStartTime = Browser.now();
                        var r = "mouse" === this.frameRate ? this._frameStartTime - this._mouseMoveTime < 2e3 ? "fast": "slow": this.frameRate,
                        a = "slow" !== r,
                        o = this._renderCount % 2 == 0;
                        if (Stat.renderSlow = !a, a || o) {
                            Stat.loopCount++,
                            MouseManager.instance.runEvent(),
                            Laya.timer._update();
                            var h, l = 0,
                            u = 0;
                            if (Render.isConchNode) for (l = 0, u = this._scenes.length; l < u; l++)(h = this._scenes[l]) && h._updateSceneConch();
                            else for (l = 0, u = this._scenes.length; l < u; l++)(h = this._scenes[l]) && h._updateScene();
                            if (Render.isConchNode) {
                                var c = Sprite.CustomList;
                                for (l = 0, u = c.length; l < u; l++) {
                                    var d = c[l];
                                    d.customRender(d.customContext, 0, 0)
                                }
                                return
                            }
                            Render.isWebGL && this.renderingEnabled && (e.clear(), t.prototype.render.call(this, e, i, n))
                        }
                        Render.isConchNode || !this.renderingEnabled || !a && o || (Render.isWebGL ? (RunDriver.clear(this._bgColor), RunDriver.beginFlush(), e.flush(), RunDriver.endFinish(), VectorGraphManager.instance && VectorGraphManager.getInstance().endDispose()) : (RunDriver.clear(this._bgColor), t.prototype.render.call(this, e, i, n)))
                    },
                    i._requestFullscreen = function() {
                        var t = Browser.document.documentElement;
                        t.requestFullscreen ? t.requestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullscreen ? t.webkitRequestFullscreen() : t.msRequestFullscreen && t.msRequestFullscreen()
                    },
                    i._fullScreenChanged = function() {
                        Laya.stage.event("fullscreenchange")
                    },
                    i.exitFullscreen = function() {
                        var t = Browser.document;
                        t.exitFullscreen ? t.exitFullscreen() : t.mozCancelFullScreen ? t.mozCancelFullScreen() : t.webkitExitFullscreen && t.webkitExitFullscreen()
                    },
                    __getset(0, i, "clientScaleY",
                    function() {
                        return this._transform ? this._transform.getScaleY() : 1
                    }),
                    __getset(0, i, "width", t.prototype._$get_width,
                    function(e) {
                        this.designWidth = e,
                        t.prototype._$set_width.call(this, e),
                        Laya.timer.callLater(this, this._changeCanvasSize)
                    }),
                    __getset(0, i, "isFocused",
                    function() {
                        return this._isFocused
                    }),
                    __getset(0, i, "alignH",
                    function() {
                        return this._alignH
                    },
                    function(t) {
                        this._alignH = t,
                        Laya.timer.callLater(this, this._changeCanvasSize)
                    }),
                    __getset(0, i, "height", t.prototype._$get_height,
                    function(e) {
                        this.designHeight = e,
                        t.prototype._$set_height.call(this, e),
                        Laya.timer.callLater(this, this._changeCanvasSize)
                    }),
                    __getset(0, i, "transform",
                    function() {
                        return this._tfChanged && this._adjustTransform(),
                        this._transform = this._transform || Matrix.create()
                    },
                    t.prototype._$set_transform),
                    __getset(0, i, "isVisibility",
                    function() {
                        return this._isVisibility
                    }),
                    __getset(0, i, "desginWidth",
                    function() {
                        return console.debug("desginWidth已经弃用，请使用designWidth代替"),
                        this.designWidth
                    }),
                    __getset(0, i, "clientScaleX",
                    function() {
                        return this._transform ? this._transform.getScaleX() : 1
                    }),
                    __getset(0, i, "desginHeight",
                    function() {
                        return console.debug("desginHeight已经弃用，请使用designHeight代替"),
                        this.designHeight
                    }),
                    __getset(0, i, "scaleMode",
                    function() {
                        return this._scaleMode
                    },
                    function(t) {
                        this._scaleMode = t,
                        Laya.timer.callLater(this, this._changeCanvasSize)
                    }),
                    __getset(0, i, "alignV",
                    function() {
                        return this._alignV
                    },
                    function(t) {
                        this._alignV = t,
                        Laya.timer.callLater(this, this._changeCanvasSize)
                    }),
                    __getset(0, i, "bgColor",
                    function() {
                        return this._bgColor
                    },
                    function(t) {
                        this._bgColor = t,
                        this.conchModel && this.conchModel.bgColor(t),
                        Render.isWebGL && (this._wgColor = t && "black" !== t && "#000000" !== t ? Color.create(t)._color: null),
                        Render.canvas.style.background = t || "none"
                    }),
                    __getset(0, i, "mouseX",
                    function() {
                        return Math.round(MouseManager.instance.mouseX / this.clientScaleX)
                    }),
                    __getset(0, i, "mouseY",
                    function() {
                        return Math.round(MouseManager.instance.mouseY / this.clientScaleY)
                    }),
                    __getset(0, i, "screenMode",
                    function() {
                        return this._screenMode
                    },
                    function(t) {
                        this._screenMode = t
                    }),
                    __getset(0, i, "visible", t.prototype._$get_visible,
                    function(e) {
                        if (this.visible !== e) {
                            t.prototype._$set_visible.call(this, e);
                            Render._mainCanvas.source.style.visibility = e ? "visible": "hidden"
                        }
                    }),
                    __getset(0, i, "fullScreenEnabled", null,
                    function(t) {
                        var e = Browser.document,
                        i = Render.canvas;
                        t ? (i.addEventListener("mousedown", this._requestFullscreen), i.addEventListener("touchstart", this._requestFullscreen), e.addEventListener("fullscreenchange", this._fullScreenChanged), e.addEventListener("mozfullscreenchange", this._fullScreenChanged), e.addEventListener("webkitfullscreenchange", this._fullScreenChanged), e.addEventListener("msfullscreenchange", this._fullScreenChanged)) : (i.removeEventListener("mousedown", this._requestFullscreen), i.removeEventListener("touchstart", this._requestFullscreen), e.removeEventListener("fullscreenchange", this._fullScreenChanged), e.removeEventListener("mozfullscreenchange", this._fullScreenChanged), e.removeEventListener("webkitfullscreenchange", this._fullScreenChanged), e.removeEventListener("msfullscreenchange", this._fullScreenChanged))
                    }),
                    e.SCALE_NOSCALE = "noscale",
                    e.SCALE_EXACTFIT = "exactfit",
                    e.SCALE_SHOWALL = "showall",
                    e.SCALE_NOBORDER = "noborder",
                    e.SCALE_FULL = "full",
                    e.SCALE_FIXED_WIDTH = "fixedwidth",
                    e.SCALE_FIXED_HEIGHT = "fixedheight",
                    e.SCALE_FIXED_AUTO = "fixedauto",
                    e.ALIGN_LEFT = "left",
                    e.ALIGN_RIGHT = "right",
                    e.ALIGN_CENTER = "center",
                    e.ALIGN_TOP = "top",
                    e.ALIGN_MIDDLE = "middle",
                    e.ALIGN_BOTTOM = "bottom",
                    e.SCREEN_NONE = "none",
                    e.SCREEN_HORIZONTAL = "horizontal",
                    e.SCREEN_VERTICAL = "vertical",
                    e.FRAME_FAST = "fast",
                    e.FRAME_SLOW = "slow",
                    e.FRAME_MOUSE = "mouse",
                    e.FRAME_SLEEP = "sleep",
                    e
                } (Sprite),
                SoundNode = function(t) {
                    function e() {
                        this.url = null,
                        this._channel = null,
                        this._tar = null,
                        this._playEvents = null,
                        this._stopEvents = null,
                        e.__super.call(this),
                        this.visible = !1,
                        this.on("added", this, this._onParentChange),
                        this.on("removed", this, this._onParentChange)
                    }
                    __class(e, "laya.media.SoundNode", t);
                    var i = e.prototype;
                    return i._onParentChange = function() {
                        this.target = this.parent
                    },
                    i.play = function(t, e) {
                        void 0 === t && (t = 1),
                        isNaN(t) && (t = 1),
                        this.url && (this.stop(), this._channel = SoundManager.playSound(this.url, t, e))
                    },
                    i.stop = function() {
                        this._channel && !this._channel.isStopped && this._channel.stop(),
                        this._channel = null
                    },
                    i._setPlayAction = function(t, e, i, n) {
                        void 0 === n && (n = !0),
                        this[i] && t && (n ? t.on(e, this, this[i]) : t.off(e, this, this[i]))
                    },
                    i._setPlayActions = function(t, e, i, n) {
                        if (void 0 === n && (n = !0), t && e) {
                            var s = e.split(","),
                            r = 0,
                            a = 0;
                            for (a = s.length, r = 0; r < a; r++) this._setPlayAction(t, s[r], i, n)
                        }
                    },
                    __getset(0, i, "playEvent", null,
                    function(t) {
                        this._playEvents = t,
                        t && this._tar && this._setPlayActions(this._tar, t, "play")
                    }),
                    __getset(0, i, "target", null,
                    function(t) {
                        this._tar && (this._setPlayActions(this._tar, this._playEvents, "play", !1), this._setPlayActions(this._tar, this._stopEvents, "stop", !1)),
                        this._tar = t,
                        this._tar && (this._setPlayActions(this._tar, this._playEvents, "play", !0), this._setPlayActions(this._tar, this._stopEvents, "stop", !0))
                    }),
                    __getset(0, i, "stopEvent", null,
                    function(t) {
                        this._stopEvents = t,
                        t && this._tar && this._setPlayActions(this._tar, t, "stop")
                    }),
                    e
                } (Sprite),
                FileBitmap = function(t) {
                    function e() {
                        this._src = null,
                        this._onload = null,
                        this._onerror = null,
                        e.__super.call(this)
                    }
                    __class(e, "laya.resource.FileBitmap", t);
                    var i = e.prototype;
                    return __getset(0, i, "src",
                    function() {
                        return this._src
                    },
                    function(t) {
                        this._src = t
                    }),
                    __getset(0, i, "onload", null,
                    function(t) {}),
                    __getset(0, i, "onerror", null,
                    function(t) {}),
                    e
                } (Bitmap);
                window._hasCreate = !1;
                var HTMLCanvas = function(t) {
                    function e(t, i) {
                        this._is2D = !1,
                        e.__super.call(this);
                        var n = this;
                        if (this._source = this, "2D" === t || "AUTO" === t && !Render.isWebGL) {
                            this._is2D = !0,
                            i ? this._source = sharedCanvas: window._hasCreate ? this._source = wx.createCanvas() : (this._source = canvas, window._hasCreate = !0);
                            var s = this;
                            s.getContext = function(t, e) {
                                if (n._ctx) return n._ctx;
                                var i = n._ctx = n._source.getContext(t, e);
                                return i && (i._canvas = s, Render.isFlash || (i.size = function(t, e) {})),
                                i
                            }
                        }
                    }
                    __class(e, "laya.resource.HTMLCanvas", t);
                    var i = e.prototype;
                    return i.clear = function() {
                        this._ctx && this._ctx.clear()
                    },
                    i.destroy = function() {
                        this._ctx && this._ctx.destroy(),
                        this._ctx = null
                    },
                    i.release = function() {},
                    i._setContext = function(t) {
                        this._ctx = t
                    },
                    i.getContext = function(t, i) {
                        return this._ctx ? this._ctx: this._ctx = e._createContext(this)
                    },
                    i.getMemSize = function() {
                        return 0
                    },
                    i.size = function(t, e) {
                        this._w == t && this._h == e || (this._w = t, this._h = e, this.memorySize = this._w * this._h * 4, this._ctx && this._ctx.size(t, e), this._source && (this._source.height = e, this._source.width = t))
                    },
                    i.getCanvas = function() {
                        return this._source
                    },
                    __getset(0, i, "context",
                    function() {
                        return this._ctx
                    }),
                    __getset(0, i, "asBitmap", null,
                    function(t) {}),
                    e.create = function(t, i) {
                        return new e(t, i)
                    },
                    e.TYPE2D = "2D",
                    e.TYPE3D = "3D",
                    e.TYPEAUTO = "AUTO",
                    e._createContext = null,
                    e
                } (Bitmap),
                HTMLSubImage = function(t) {
                    function e(t, i, n, s, r, a, o, h) {
                        throw e.__super.call(this),
                        new Error("不允许new！")
                    }
                    return __class(e, "laya.resource.HTMLSubImage", t),
                    e.create = function(t, i, n, s, r, a, o, h) {
                        return void 0 === h && (h = !1),
                        new e(t, i, n, s, r, a, o, h)
                    },
                    e
                } (Bitmap),
                Animation = function(t) {
                    function e() {
                        this._frames = null,
                        this._url = null,
                        e.__super.call(this),
                        this._setControlNode(this)
                    }
                    __class(e, "laya.display.Animation", t);
                    var i = e.prototype;
                    return i.destroy = function(t) {
                        void 0 === t && (t = !0),
                        this.stop(),
                        laya.display.Sprite.prototype.destroy.call(this, t),
                        this._frames = null,
                        this._labels = null
                    },
                    i.play = function(t, e, i) {
                        void 0 === t && (t = 0),
                        void 0 === e && (e = !0),
                        void 0 === i && (i = ""),
                        i && this._setFramesFromCache(i, !0),
                        this._isPlaying = !0,
                        this.index = "string" == typeof t ? this._getFrameByLabel(t) : t,
                        this.loop = e,
                        this._actionName = i,
                        this._isReverse = 1 == this.wrapMode,
                        this._frames && this.interval > 0 && this.timerLoop(this.interval, this, this._frameLoop, null, !0, !0)
                    },
                    i._setFramesFromCache = function(t, i) {
                        if (void 0 === i && (i = !1), this._url && (t = this._url + "#" + t), t && e.framesMap[t]) {
                            var n;
                            return n = e.framesMap[t],
                            n instanceof Array ? (this._frames = e.framesMap[t], this._count = this._frames.length) : (n.nodeRoot && (e.framesMap[t] = this._parseGraphicAnimationByData(n), n = e.framesMap[t]), this._frames = n.frames, this._count = this._frames.length, this._frameRateChanged || (this._interval = n.interval), this._labels = this._copyLabels(n.labels)),
                            !0
                        }
                        return i && console.log("ani not found:", t),
                        !1
                    },
                    i._copyLabels = function(t) {
                        if (!t) return null;
                        var e;
                        e = {};
                        var i;
                        for (i in t) e[i] = Utils.copyArray([], t[i]);
                        return e
                    },
                    i._frameLoop = function() {
                        this._style.visible && this._style.alpha > .01 && t.prototype._frameLoop.call(this)
                    },
                    i._displayToIndex = function(t) {
                        this._frames && (this.graphics = this._frames[t])
                    },
                    i.clear = function() {
                        this.stop(),
                        this.graphics = null,
                        this._frames = null,
                        this._labels = null
                    },
                    i.loadImages = function(t, i) {
                        return void 0 === i && (i = ""),
                        this._url = "",
                        this._setFramesFromCache(i) || (this.frames = e.framesMap[i] ? e.framesMap[i] : e.createFrames(t, i)),
                        this
                    },
                    i.loadAtlas = function(t, i, n) {
                        function s(s) {
                            t === s && (r.frames = e.framesMap[n] ? e.framesMap[n] : e.createFrames(t, n), i && i.run())
                        }
                        void 0 === n && (n = ""),
                        this._url = "";
                        var r = this;
                        return r._setFramesFromCache(n) || (Loader.getAtlas(t) ? s(t) : Laya.loader.load(t, Handler.create(null, s, [t]), null, "atlas")),
                        this
                    },
                    i.loadAnimation = function(t, e, i) {
                        this._url = t;
                        var n = this;
                        return this._actionName || (this._actionName = ""),
                        n._setFramesFromCache("") ? (n._setFramesFromCache(this._actionName, !0), e && e.run()) : !i || Loader.getAtlas(i) ? this._loadAnimationData(t, e, i) : Laya.loader.load(i, Handler.create(this, this._loadAnimationData, [t, e, i]), null, "atlas"),
                        this
                    },
                    i._loadAnimationData = function(t, i, n) {
                        function s(n) {
                            if (Loader.getRes(n) && t === n) {
                                var s;
                                if (e.framesMap[t + "#"]) a._setFramesFromCache(r._actionName, !0),
                                r.index = 0,
                                r._checkResumePlaying();
                                else {
                                    var o = a._parseGraphicAnimation(Loader.getRes(t));
                                    if (!o) return;
                                    var h, l = o.animationList,
                                    u = 0,
                                    c = l.length;
                                    for (u = 0; u < c; u++) s = l[u],
                                    e.framesMap[t + "#" + s.name] = s,
                                    h || (h = s);
                                    h && (e.framesMap[t + "#"] = h, a._setFramesFromCache(r._actionName, !0), r.index = 0),
                                    r._checkResumePlaying()
                                }
                                i && i.run()
                            }
                        }
                        var r = this;
                        if (n && !Loader.getAtlas(n)) return void console.warn("atlas load fail:" + n);
                        var a = this;
                        Loader.getRes(t) ? s(t) : Laya.loader.load(t, Handler.create(null, s, [t]), null, "json"),
                        Loader.clearRes(t)
                    },
                    i._parseGraphicAnimation = function(t) {
                        return GraphicAnimation.parseAnimationData(t)
                    },
                    i._parseGraphicAnimationByData = function(t) {
                        return GraphicAnimation.parseAnimationByData(t)
                    },
                    __getset(0, i, "frames",
                    function() {
                        return this._frames
                    },
                    function(t) {
                        this._frames = t,
                        t && (this._count = t.length, this._isPlaying ? this.play(this._index, this.loop, this._actionName) : this.index = this._index)
                    }),
                    __getset(0, i, "autoPlay", null,
                    function(t) {
                        t ? this.play() : this.stop()
                    }),
                    __getset(0, i, "source", null,
                    function(t) {
                        t.indexOf(".ani") > -1 ? this.loadAnimation(t) : t.indexOf(".json") > -1 || t.indexOf("als") > -1 || t.indexOf("atlas") > -1 ? this.loadAtlas(t) : this.loadImages(t.split(","))
                    }),
                    __getset(0, i, "autoAnimation", null,
                    function(t) {
                        this.play(0, !0, t)
                    }),
                    e.createFrames = function(t, i) {
                        var n;
                        if ("string" == typeof t) {
                            var s = Loader.getAtlas(t);
                            if (s && s.length) {
                                n = [];
                                for (var r = 0,
                                a = s.length; r < a; r++) {
                                    var o = new Graphics;
                                    o.drawTexture(Loader.getRes(s[r]), 0, 0),
                                    n.push(o)
                                }
                            }
                        } else if (t instanceof Array) for (n = [], r = 0, a = t.length; r < a; r++) o = new Graphics,
                        o.loadImage(t[r], 0, 0),
                        n.push(o);
                        return i && (e.framesMap[i] = n),
                        n
                    },
                    e.clearCache = function(t) {
                        var i, n = e.framesMap,
                        s = t + "#";
                        for (i in n) i !== t && 0 != i.indexOf(s) || delete e.framesMap[i]
                    },
                    e.framesMap = {},
                    e
                } (AnimationPlayerBase),
                FrameAnimation = function(t) {
                    function e() {
                        this._targetDic = null,
                        this._animationData = null,
                        this._animationNewFrames = null,
                        e.__super.call(this),
                        null == e._sortIndexFun && (e._sortIndexFun = MathUtil.sortByKey("index", !1, !0))
                    }
                    __class(e, "laya.display.FrameAnimation", t);
                    var i = e.prototype;
                    return i._setUp = function(t, e) {
                        this._labels = null,
                        this._animationNewFrames = null,
                        this._targetDic = t,
                        this._animationData = e,
                        this.interval = 1e3 / e.frameRate,
                        e.parsed ? (this._count = e.count, this._labels = e.labels, this._animationNewFrames = e.animationNewFrames) : (this._animationNewFrames = [], this._calculateDatas()),
                        e.parsed = !0,
                        e.labels = this._labels,
                        e.count = this._count,
                        e.animationNewFrames = this._animationNewFrames
                    },
                    i.clear = function() {
                        t.prototype.clear.call(this),
                        this._targetDic = null,
                        this._animationData = null
                    },
                    i._displayToIndex = function(t) {
                        if (this._animationData) {
                            t < 0 && (t = 0),
                            t > this._count && (t = this._count);
                            var e = this._animationData.nodes,
                            i = 0,
                            n = e.length;
                            for (i = 0; i < n; i++) this._displayNodeToFrame(e[i], t)
                        }
                    },
                    i._displayNodeToFrame = function(t, e, i) {
                        i || (i = this._targetDic);
                        var n = i[t.target];
                        if (n) {
                            var s, r, a, o = t.frames,
                            h = t.keys,
                            l = 0,
                            u = h.length;
                            for (l = 0; l < u; l++) s = h[l],
                            r = o[s],
                            a = r.length > e ? r[e] : r[r.length - 1],
                            n[s] = a
                        }
                    },
                    i._calculateDatas = function() {
                        if (this._animationData) {
                            var t, e = this._animationData.nodes,
                            i = 0,
                            n = e.length;
                            for (this._count = 0, i = 0; i < n; i++) t = e[i],
                            this._calculateNodeKeyFrames(t);
                            this._count += 1
                        }
                    },
                    i._calculateNodeKeyFrames = function(t) {
                        var i, n, s = t.keyframes,
                        r = t.target;
                        t.frames || (t.frames = {}),
                        t.keys ? t.keys.length = 0 : t.keys = [],
                        t.initValues || (t.initValues = {});
                        for (i in s) n = s[i],
                        t.frames[i] || (t.frames[i] = []),
                        this._targetDic && this._targetDic[r] && (t.initValues[i] = this._targetDic[r][i]),
                        n.sort(e._sortIndexFun),
                        t.keys.push(i),
                        this._calculateNodePropFrames(n, t.frames[i], i, r)
                    },
                    i.resetToInitState = function() {
                        if (this._targetDic && this._animationData) {
                            var t, e, i = this._animationData.nodes,
                            n = 0,
                            s = i.length;
                            for (n = 0; n < s; n++) if (t = i[n], e = t.initValues) {
                                var r = this._targetDic[t.target];
                                if (r) {
                                    var a;
                                    for (a in e) r[a] = e[a]
                                }
                            }
                        }
                    },
                    i._calculateNodePropFrames = function(t, e, i, n) {
                        var s = 0,
                        r = t.length - 1;
                        for (e.length = t[r].index + 1, s = 0; s < r; s++) this._dealKeyFrame(t[s]),
                        this._calculateFrameValues(t[s], t[s + 1], e);
                        0 == r && (e[0] = t[0].value, this._animationNewFrames && (this._animationNewFrames[t[0].index] = !0)),
                        this._dealKeyFrame(t[s])
                    },
                    i._dealKeyFrame = function(t) {
                        t.label && "" != t.label && this.addLabel(t.label, t.index)
                    },
                    i._calculateFrameValues = function(t, e, i) {
                        var n, s = 0,
                        r = t.index,
                        a = e.index,
                        o = t.value,
                        h = e.value - t.value,
                        l = a - r;
                        if (a > this._count && (this._count = a), t.tween) for (n = Ease[t.tweenMethod], null == n && (n = Ease.linearNone), s = r; s < a; s++) i[s] = n(s - r, o, h, l),
                        this._animationNewFrames && (this._animationNewFrames[s] = !0);
                        else for (s = r; s < a; s++) i[s] = o;
                        this._animationNewFrames && (this._animationNewFrames[t.index] = !0, this._animationNewFrames[e.index] = !0),
                        i[e.index] = e.value
                    },
                    e._sortIndexFun = null,
                    e
                } (AnimationPlayerBase),
                Input = function(t) {
                    function e() {
                        this._focus = !1,
                        this._multiline = !1,
                        this._editable = !0,
                        this._restrictPattern = null,
                        this._type = "text",
                        this._prompt = "",
                        this._promptColor = "#A9A9A9",
                        this._originColor = "#000000",
                        this._content = "",
                        e.__super.call(this),
                        this._maxChars = 1e5,
                        this._width = 100,
                        this._height = 20,
                        this.multiline = !1,
                        this.overflow = Text.SCROLL,
                        this.on("mousedown", this, this._onMouseDown),
                        this.on("undisplay", this, this._onUnDisplay)
                    }
                    __class(e, "laya.display.Input", t);
                    var i = e.prototype;
                    return i.setSelection = function(t, e) {
                        laya.display.Input.inputElement.selectionStart = t,
                        laya.display.Input.inputElement.selectionEnd = e
                    },
                    i._onUnDisplay = function(t) {
                        this.focus = !1
                    },
                    i._onMouseDown = function(t) {
                        this.focus = !0
                    },
                    i.render = function(t, e, i) {
                        laya.display.Sprite.prototype.render.call(this, t, e, i)
                    },
                    i._syncInputTransform = function() {
                        var t = this.nativeInput,
                        i = Utils.getTransformRelativeToWindow(this, this.padding[3], this.padding[0]),
                        n = this._width - this.padding[1] - this.padding[3],
                        s = this._height - this.padding[0] - this.padding[2];
                        Render.isConchApp ? (t.setScale(i.scaleX, i.scaleY), t.setSize(n, s), t.setPos(i.x, i.y)) : (e.inputContainer.style.transform = e.inputContainer.style.webkitTransform = "scale(" + i.scaleX + "," + i.scaleY + ") rotate(" + Laya.stage.canvasDegree + "deg)", t.style.width = n + "px", t.style.height = s + "px", e.inputContainer.style.left = i.x + "px", e.inputContainer.style.top = i.y + "px")
                    },
                    i.select = function() {
                        this.nativeInput.select()
                    },
                    i._setInputMethod = function() {
                        e.input.parentElement && e.inputContainer.removeChild(e.input),
                        e.area.parentElement && e.inputContainer.removeChild(e.area),
                        e.inputElement = this._multiline ? e.area: e.input,
                        e.inputContainer.appendChild(e.inputElement)
                    },
                    i._focusIn = function() {
                        laya.display.Input.isInputting = !0;
                        var t = this.nativeInput;
                        this._focus = !0;
                        var e = t.style;
                        e.whiteSpace = this.wordWrap ? "pre-wrap": "nowrap",
                        this._setPromptColor(),
                        t.readOnly = !this._editable,
                        Render.isConchApp && t.setForbidEdit(!this._editable),
                        t.maxLength = this._maxChars;
                        this.padding;
                        t.type = this._type,
                        t.value = this._content,
                        t.placeholder = this._prompt,
                        Laya.stage.off("keydown", this, this._onKeyDown),
                        Laya.stage.on("keydown", this, this._onKeyDown),
                        Laya.stage.focus = this,
                        this.event("focus"),
                        Browser.onPC && t.focus();
                        this._text;
                        this._text = null,
                        this.typeset(),
                        t.setColor(this._originColor),
                        t.setFontSize(this.fontSize),
                        t.setFontFace(this._fontActallyUsed),
                        Render.isConchApp && t.setMultiAble && t.setMultiAble(this._multiline),
                        e.lineHeight = this.leading + this.fontSize + "px",
                        e.fontStyle = this.italic ? "italic": "normal",
                        e.fontWeight = this.bold ? "bold": "normal",
                        e.textAlign = this.align,
                        e.padding = "0 0",
                        this._syncInputTransform(),
                        !Render.isConchApp && Browser.onPC && Laya.timer.frameLoop(1, this, this._syncInputTransform)
                    },
                    i._setPromptColor = function() {
                        e.promptStyleDOM = Browser.getElementById("promptStyle"),
                        e.promptStyleDOM || (e.promptStyleDOM = Browser.createElement("style"), e.promptStyleDOM.setAttribute("id", "promptStyle"), Browser.document.head.appendChild(e.promptStyleDOM)),
                        e.promptStyleDOM.innerText = "input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:" + this._promptColor + "}input:-moz-placeholder, textarea:-moz-placeholder {color:" + this._promptColor + "}input::-moz-placeholder, textarea::-moz-placeholder {color:" + this._promptColor + "}input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:" + this._promptColor + "}"
                    },
                    i._focusOut = function() {
                        laya.display.Input.isInputting = !1,
                        this._focus = !1,
                        this._text = null,
                        this._content = this.nativeInput.value,
                        this._content ? (t.prototype._$set_text.call(this, this._content), t.prototype._$set_color.call(this, this._originColor)) : (t.prototype._$set_text.call(this, this._prompt), t.prototype._$set_color.call(this, this._promptColor)),
                        Laya.stage.off("keydown", this, this._onKeyDown),
                        Laya.stage.focus = null,
                        this.event("blur"),
                        Render.isConchApp && this.nativeInput.blur(),
                        Browser.onPC && Laya.timer.clear(this, this._syncInputTransform)
                    },
                    i._onKeyDown = function(t) {
                        13 === t.keyCode && (Browser.onMobile && !this._multiline && (this.focus = !1), this.event("enter"))
                    },
                    i.changeText = function(e) {
                        this._content = e,
                        this._focus ? (this.nativeInput.value = e || "", this.event("change")) : t.prototype.changeText.call(this, e)
                    },
                    __getset(0, i, "color", t.prototype._$get_color,
                    function(e) {
                        this._focus && this.nativeInput.setColor(e),
                        t.prototype._$set_color.call(this, this._content ? e: this._promptColor),
                        this._originColor = e
                    }),
                    __getset(0, i, "inputElementYAdjuster",
                    function() {
                        return console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。"),
                        0
                    },
                    function(t) {
                        console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。")
                    }),
                    __getset(0, i, "multiline",
                    function() {
                        return this._multiline
                    },
                    function(t) {
                        this._multiline = t,
                        this.valign = t ? "top": "middle"
                    }),
                    __getset(0, i, "maxChars",
                    function() {
                        return this._maxChars
                    },
                    function(t) {
                        t <= 0 && (t = 1e5),
                        this._maxChars = t
                    }),
                    __getset(0, i, "text",
                    function() {
                        return this._focus ? this.nativeInput.value: this._content || ""
                    },
                    function(e) {
                        t.prototype._$set_color.call(this, this._originColor),
                        e += "",
                        this._focus ? (this.nativeInput.value = e || "", this.event("change")) : (this._multiline || (e = e.replace(/\r?\n/g, "")), this._content = e, e ? t.prototype._$set_text.call(this, e) : (t.prototype._$set_text.call(this, this._prompt), t.prototype._$set_color.call(this, this.promptColor)))
                    }),
                    __getset(0, i, "nativeInput",
                    function() {
                        return this._multiline ? e.area: e.input
                    }),
                    __getset(0, i, "prompt",
                    function() {
                        return this._prompt
                    },
                    function(e) { ! this._text && e && t.prototype._$set_color.call(this, this._promptColor),
                        this.promptColor = this._promptColor,
                        this._text ? t.prototype._$set_text.call(this, this._text == this._prompt ? e: this._text) : t.prototype._$set_text.call(this, e),
                        this._prompt = Text.langPacks && Text.langPacks[e] ? Text.langPacks[e] : e
                    }),
                    __getset(0, i, "focus",
                    function() {
                        return this._focus
                    },
                    function(t) {
                        var i = this.nativeInput;
                        this._focus !== t && (t ? (i.target ? i.target._focusOut() : this._setInputMethod(), i.target = this, this._focusIn()) : (i.target = null, this._focusOut(), i.blur(), Render.isConchApp ? i.setPos( - 1e4, -1e4) : e.inputContainer.contains(i) && e.inputContainer.removeChild(i)))
                    }),
                    __getset(0, i, "restrict",
                    function() {
                        return this._restrictPattern ? this._restrictPattern.source: ""
                    },
                    function(t) {
                        t ? (t = "[^" + t + "]", t.indexOf("^^") > -1 && (t = t.replace("^^", "")), this._restrictPattern = new RegExp(t, "g")) : this._restrictPattern = null
                    }),
                    __getset(0, i, "editable",
                    function() {
                        return this._editable
                    },
                    function(t) {
                        this._editable = t,
                        Render.isConchApp && e.input.setForbidEdit(!t)
                    }),
                    __getset(0, i, "promptColor",
                    function() {
                        return this._promptColor
                    },
                    function(e) {
                        this._promptColor = e,
                        this._content || t.prototype._$set_color.call(this, e)
                    }),
                    __getset(0, i, "type",
                    function() {
                        return this._type
                    },
                    function(t) {
                        this._getCSSStyle().password = "password" == t,
                        this._type = t
                    }),
                    __getset(0, i, "inputElementXAdjuster",
                    function() {
                        return console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。"),
                        0
                    },
                    function(t) {
                        console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。")
                    }),
                    __getset(0, i, "asPassword",
                    function() {
                        return this._getCSSStyle().password
                    },
                    function(t) {
                        this._getCSSStyle().password = t,
                        this._type = "password",
                        console.warn('deprecated: 使用type="password"替代设置asPassword, asPassword将在下次重大更新时删去'),
                        this.isChanged = !0
                    }),
                    e.__init__ = function() {
                        e._createInputElement(),
                        Browser.onMobile && Render.canvas.addEventListener(e.IOS_IFRAME ? "click": "touchend", e._popupInputMethod)
                    },
                    e._popupInputMethod = function(t) {
                        if (laya.display.Input.isInputting) {
                            laya.display.Input.inputElement.focus()
                        }
                    },
                    e._createInputElement = function() {
                        e._initInput(e.area = Browser.createElement("textarea")),
                        e._initInput(e.input = Browser.createElement("input")),
                        e.inputContainer = Browser.createElement("div"),
                        e.inputContainer.style.position = "absolute",
                        e.inputContainer.style.zIndex = 1e5,
                        Browser.container.appendChild(e.inputContainer),
                        e.inputContainer.setPos = function(t, i) {
                            e.inputContainer.style.left = t + "px",
                            e.inputContainer.style.top = i + "px"
                        }
                    },
                    e._initInput = function(t) {
                        var i = t.style;
                        i.cssText = "position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;",
                        i.resize = "none",
                        i.backgroundColor = "transparent",
                        i.border = "none",
                        i.outline = "none",
                        i.zIndex = 1,
                        t.addEventListener("input", e._processInputting),
                        t.addEventListener("mousemove", e._stopEvent),
                        t.addEventListener("mousedown", e._stopEvent),
                        t.addEventListener("touchmove", e._stopEvent),
                        t.setFontFace = function(e) {
                            t.style.fontFamily = e
                        },
                        Render.isConchApp || (t.setColor = function(e) {
                            t.style.color = e
                        },
                        t.setFontSize = function(e) {
                            t.style.fontSize = e + "px"
                        })
                    },
                    e._processInputting = function(t) {
                        var e = laya.display.Input.inputElement.target;
                        if (e) {
                            var i = laya.display.Input.inputElement.value;
                            e._restrictPattern && (i = i.replace(/\u2006|\x27/g, ""), e._restrictPattern.test(i) && (i = i.replace(e._restrictPattern, ""), laya.display.Input.inputElement.value = i)),
                            e._text = i,
                            e.event("input")
                        }
                    },
                    e._stopEvent = function(t) {
                        "touchmove" == t.type && t.preventDefault(),
                        t.stopPropagation && t.stopPropagation()
                    },
                    e.TYPE_TEXT = "text",
                    e.TYPE_PASSWORD = "password",
                    e.TYPE_EMAIL = "email",
                    e.TYPE_URL = "url",
                    e.TYPE_NUMBER = "number",
                    e.TYPE_RANGE = "range",
                    e.TYPE_DATE = "date",
                    e.TYPE_MONTH = "month",
                    e.TYPE_WEEK = "week",
                    e.TYPE_TIME = "time",
                    e.TYPE_DATE_TIME = "datetime",
                    e.TYPE_DATE_TIME_LOCAL = "datetime-local",
                    e.TYPE_SEARCH = "search",
                    e.input = null,
                    e.area = null,
                    e.inputElement = null,
                    e.inputContainer = null,
                    e.confirmButton = null,
                    e.promptStyleDOM = null,
                    e.inputHeight = 45,
                    e.isInputting = !1,
                    e.stageMatrix = null,
                    __static(e, ["IOS_IFRAME",
                    function() {
                        return this.IOS_IFRAME = Browser.onIOS && Browser.window.top != Browser.window.self
                    }]),
                    e
                } (Text),
                HTMLImage = function(t) {
                    function e(t, i) {
                        this._recreateLock = !1,
                        this._needReleaseAgain = !1,
                        e.__super.call(this),
                        this._init_(t, i)
                    }
                    __class(e, "laya.resource.HTMLImage", t);
                    var i = e.prototype;
                    return i._init_ = function(t, e) {
                        this._src = t,
                        this._source = new Browser.window.Image,
                        e && (e.onload && (this.onload = e.onload), e.onerror && (this.onerror = e.onerror), e.onCreate && e.onCreate(this)),
                        0 != t.indexOf("data:image") && (this._source.crossOrigin = ""),
                        t && (this._source.src = t)
                    },
                    i.recreateResource = function() {
                        var t = this;
                        if ("" === this._src) throw new Error("src no null！");
                        if (this._needReleaseAgain = !1, this._source) {
                            if (this._recreateLock) return;
                            this.startCreate(),
                            this.memorySize = this._w * this._h * 4,
                            this._recreateLock = !1,
                            this.completeCreate()
                        } else {
                            this._recreateLock = !0,
                            this.startCreate();
                            var e = this;
                            this._source = new Browser.window.Image,
                            this._source.crossOrigin = "",
                            this._source.onload = function() {
                                if (e._needReleaseAgain) return e._needReleaseAgain = !1,
                                e._source.onload = null,
                                void(e._source = null);
                                e._source.onload = null,
                                e.memorySize = t._w * t._h * 4,
                                e._recreateLock = !1,
                                e.completeCreate()
                            },
                            this._source.src = this._src
                        }
                    },
                    i.detoryResource = function() {
                        this._recreateLock && (this._needReleaseAgain = !0),
                        this._source && (this._source = null, this.memorySize = 0)
                    },
                    i.onresize = function() {
                        this._w = this._source.width,
                        this._h = this._source.height
                    },
                    __getset(0, i, "onload", null,
                    function(t) {
                        var e = this;
                        this._onload = t,
                        this._source && (this._source.onload = null != this._onload ?
                        function() {
                            e.onresize(),
                            e._onload()
                        }: null)
                    }),
                    __getset(0, i, "onerror", null,
                    function(t) {
                        var e = this;
                        this._onerror = t,
                        this._source && (this._source.onerror = null != this._onerror ?
                        function() {
                            e._onerror()
                        }: null)
                    }),
                    e.create = function(t, i) {
                        return new e(t, i)
                    },
                    e
                } (FileBitmap),
                EffectAnimation = function(t) {
                    function e() {
                        this._target = null,
                        this._playEvents = null,
                        this._initData = {},
                        this._aniKeys = null,
                        this._effectClass = null,
                        e.__super.call(this)
                    }
                    __class(e, "laya.display.EffectAnimation", t);
                    var i = e.prototype;
                    return i._onOtherBegin = function(t) {
                        t != this && this.stop()
                    },
                    i.addEvent = function() {
                        this._target && this._playEvents && (this._setControlNode(this._target), this._target.on(this._playEvents, this, this._onPlayAction))
                    },
                    i._onPlayAction = function() {
                        this._target && (this._target.event("effectanimationbegin", [this]), this._recordInitData(), this.play(0, !1))
                    },
                    i._recordInitData = function() {
                        if (this._aniKeys) {
                            var t = 0,
                            e = 0;
                            e = this._aniKeys.length;
                            var i;
                            for (t = 0; t < e; t++) i = this._aniKeys[t],
                            this._initData[i] = this._target[i]
                        }
                    },
                    i._displayToIndex = function(t) {
                        if (this._animationData) {
                            t < 0 && (t = 0),
                            t > this._count && (t = this._count);
                            var e = this._animationData.nodes,
                            i = 0,
                            n = e.length;
                            for (n = n > 1 ? 1 : n, i = 0; i < n; i++) this._displayNodeToFrame(e[i], t)
                        }
                    },
                    i._displayNodeToFrame = function(t, e, i) {
                        if (this._target) {
                            var n;
                            n = this._target;
                            var s, r, a, o, h = t.frames,
                            l = t.keys,
                            u = 0,
                            c = l.length;
                            o = t.secondFrames;
                            var d, _, f, p, g = 0;
                            for (u = 0; u < c; u++) s = l[u],
                            r = h[s],
                            g = o[s],
                            -1 == g ? a = this._initData[s] : e < g ? (_ = t.keyframes[s], f = _[0], f.tween ? (d = Ease[f.tweenMethod], null == d && (d = Ease.linearNone), p = _[1], a = d(e, this._initData[s], p.value - this._initData[s], p.index)) : a = this._initData[s]) : a = r.length > e ? r[e] : r[r.length - 1],
                            n[s] = a
                        }
                    },
                    i._calculateNodeKeyFrames = function(e) {
                        t.prototype._calculateNodeKeyFrames.call(this, e);
                        var i, n, s, r = e.keyframes;
                        e.target;
                        s = {},
                        e.secondFrames = s;
                        for (i in r) n = r[i],
                        n.length <= 1 ? s[i] = -1 : s[i] = n[1].index
                    },
                    __getset(0, i, "target",
                    function() {
                        return this._target
                    },
                    function(t) {
                        this._target && this._target.off("effectanimationbegin", this, this._onOtherBegin),
                        this._target = t,
                        this._target && this._target.on("effectanimationbegin", this, this._onOtherBegin),
                        this.addEvent()
                    }),
                    __getset(0, i, "playEvent", null,
                    function(t) {
                        this._playEvents = t,
                        t && this.addEvent()
                    }),
                    __getset(0, i, "effectData", null,
                    function(t) {
                        if (t) {
                            var e;
                            e = t.animations,
                            e && e[0] && (this._setUp({},
                            e[0]), e[0].nodes && e[0].nodes[0] && (this._aniKeys = e[0].nodes[0].keys))
                        }
                    }),
                    __getset(0, i, "effectClass", null,
                    function(t) {
                        if (this._effectClass = ClassUtils.getClass(t), this._effectClass) {
                            var e;
                            if (e = this._effectClass.uiView) {
                                var i;
                                i = e.animations,
                                i && i[0] && (this._setUp({},
                                i[0]), i[0].nodes && i[0].nodes[0] && (this._aniKeys = i[0].nodes[0].keys))
                            }
                        }
                    }),
                    e.EffectAnimationBegin = "effectanimationbegin",
                    e
                } (FrameAnimation),
                GraphicAnimation = function(t) {
                    function e() {
                        this.animationList = null,
                        this.animationDic = null,
                        this._nodeList = null,
                        this._nodeDefaultProps = null,
                        this._gList = null,
                        this._nodeIDAniDic = {},
                        this._rootNode = null,
                        this._nodeGDic = null,
                        e.__super.call(this)
                    }
                    var i;
                    __class(e, "laya.utils.GraphicAnimation", t);
                    var n = e.prototype;
                    return n._parseNodeList = function(t) {
                        this._nodeList || (this._nodeList = []),
                        this._nodeDefaultProps[t.compId] = t.props,
                        t.compId && this._nodeList.push(t.compId);
                        var e = t.child;
                        if (e) {
                            var i = 0,
                            n = e.length;
                            for (i = 0; i < n; i++) this._parseNodeList(e[i])
                        }
                    },
                    n._calGraphicData = function(t) {
                        this._setUp(null, t),
                        this._createGraphicData()
                    },
                    n._createGraphicData = function() {
                        var t = [],
                        e = 0,
                        i = this.count,
                        n = this._animationNewFrames;
                        n || (n = []);
                        var s;
                        for (e = 0; e < i; e++) ! n[e] && s || (s = this._createFrameGraphic(e)),
                        t.push(s);
                        this._gList = t
                    },
                    n._createFrameGraphic = function(t) {
                        var i = new Graphics;
                        return e._rootMatrix || (e._rootMatrix = new Matrix),
                        this._updateNodeGraphic(this._rootNode, t, e._rootMatrix, i),
                        i
                    },
                    n._updateNodeGraphic = function(t, e, i, n, s) {
                        void 0 === s && (s = 1);
                        var r;
                        r = this._nodeGDic[t.compId] = this._getNodeGraphicData(t.compId, e, this._nodeGDic[t.compId]),
                        r.resultTransform || (r.resultTransform = new Matrix);
                        var a;
                        a = r.resultTransform,
                        Matrix.mul(r.transform, i, a);
                        var o, h = r.alpha * s;
                        if (! (h < .01)) {
                            r.skin && (o = this._getTextureByUrl(r.skin)) && (a._checkTransform() ? (n.drawTexture(o, 0, 0, r.width, r.height, a, h), r.resultTransform = null) : n.drawTexture(o, a.tx, a.ty, r.width, r.height, null, h));
                            var l;
                            if (l = t.child) {
                                var u = 0,
                                c = 0;
                                for (c = l.length, u = 0; u < c; u++) this._updateNodeGraphic(l[u], e, a, n, h)
                            }
                        }
                    },
                    n._updateNoChilds = function(t, e) {
                        if (t.skin) {
                            var i = this._getTextureByUrl(t.skin);
                            if (i) {
                                var n = t.transform;
                                n._checkTransform();
                                var s = !1;
                                s = !n.bTransform,
                                s ? e.drawTexture(i, n.tx, n.ty, t.width, t.height, null, t.alpha) : e.drawTexture(i, 0, 0, t.width, t.height, n.clone(), t.alpha)
                            }
                        }
                    },
                    n._updateNodeGraphic2 = function(t, e, i) {
                        var n;
                        if (n = this._nodeGDic[t.compId] = this._getNodeGraphicData(t.compId, e, this._nodeGDic[t.compId]), !t.child) return void this._updateNoChilds(n, i);
                        var s = n.transform;
                        s._checkTransform();
                        var r = !1;
                        r = !s.bTransform;
                        var a = !1;
                        a = r && (0 != s.tx || 0 != s.ty);
                        var o = !1;
                        o = s.bTransform || 1 != n.alpha,
                        o && i.save(),
                        1 != n.alpha && i.alpha(n.alpha),
                        r ? a && i.translate(s.tx, s.ty) : i.transform(s.clone());
                        var h;
                        h = t.child;
                        var l;
                        if (n.skin && (l = this._getTextureByUrl(n.skin)) && i.drawTexture(l, 0, 0, n.width, n.height), h) {
                            var u = 0,
                            c = 0;
                            for (c = h.length, u = 0; u < c; u++) this._updateNodeGraphic2(h[u], e, i)
                        }
                        o ? i.restore() : r ? a && i.translate( - s.tx, -s.ty) : i.transform(s.clone().invert())
                    },
                    n._calculateNodeKeyFrames = function(e) {
                        t.prototype._calculateNodeKeyFrames.call(this, e),
                        this._nodeIDAniDic[e.target] = e
                    },
                    n.getNodeDataByID = function(t) {
                        return this._nodeIDAniDic[t]
                    },
                    n._getParams = function(t, i, n, s) {
                        var r = e._temParam;
                        r.length = i.length;
                        var a = 0,
                        o = i.length;
                        for (a = 0; a < o; a++) r[a] = this._getObjVar(t, i[a][0], n, i[a][1], s);
                        return r
                    },
                    n._getObjVar = function(t, e, i, n, s) {
                        if (t.hasOwnProperty(e)) {
                            var r = t[e];
                            return i >= r.length && (i = r.length - 1),
                            t[e][i]
                        }
                        return s.hasOwnProperty(e) ? s[e] : n
                    },
                    n._getNodeGraphicData = function(t, n, s) {
                        s || (s = new i),
                        s.transform ? s.transform.identity() : s.transform = new Matrix;
                        var r = this.getNodeDataByID(t);
                        if (!r) return s;
                        var a = r.frames,
                        o = this._getParams(a, e._drawTextureCmd, n, this._nodeDefaultProps[t]),
                        h = o[0],
                        l = NaN,
                        u = NaN,
                        c = o[5],
                        d = o[6],
                        _ = o[13],
                        f = o[14],
                        p = o[7],
                        g = o[8],
                        y = o[9],
                        v = o[11],
                        m = o[12];
                        l = o[3],
                        u = o[4];
                        var w;
                        s.skin = h,
                        s.width = l,
                        s.height = u,
                        h && (w = this._getTextureByUrl(h), w ? (l || (l = w.sourceWidth), u || (u = w.sourceHeight)) : console.warn("lost skin:", h, ",you may load pics first")),
                        s.alpha = o[10];
                        var x;
                        x = s.transform,
                        0 != _ && (c = _ * l),
                        0 != f && (d = f * u),
                        0 == c && 0 == d || x.translate( - c, -d);
                        var b = null;
                        if (y || 1 !== p || 1 !== g || v || m) {
                            b = e._tempMt,
                            b.identity(),
                            b.bTransform = !0;
                            var S = .0174532922222222 * (y - v),
                            C = .0174532922222222 * (y + m),
                            P = Math.cos(C),
                            k = Math.sin(C),
                            T = Math.sin(S),
                            M = Math.cos(S);
                            b.a = p * P,
                            b.b = p * k,
                            b.c = -g * T,
                            b.d = g * M,
                            b.tx = b.ty = 0
                        }
                        return b && (x = Matrix.mul(x, b, x)),
                        x.translate(o[1], o[2]),
                        s
                    },
                    n._getTextureByUrl = function(t) {
                        return Loader.getRes(t)
                    },
                    n.setAniData = function(t, i) {
                        if (t.animations) {
                            this._nodeDefaultProps = {},
                            this._nodeGDic = {},
                            this._nodeList && (this._nodeList.length = 0),
                            this._rootNode = t,
                            this._parseNodeList(t);
                            var n, s = {},
                            r = [],
                            a = t.animations,
                            o = 0,
                            h = a.length;
                            for (o = 0; o < h; o++) if (n = a[o], this._labels = null, (!i || i == n.name) && n) {
                                try {
                                    this._calGraphicData(n)
                                } catch(t) {
                                    console.warn("parse animation fail:" + n.name + ",empty animation created"),
                                    this._gList = []
                                }
                                var l = {};
                                l.interval = 1e3 / n.frameRate,
                                l.frames = this._gList,
                                l.labels = this._labels,
                                l.name = n.name,
                                r.push(l),
                                s[n.name] = l
                            }
                            this.animationList = r,
                            this.animationDic = s
                        }
                        e._temParam.length = 0
                    },
                    n.parseByData = function(t) {
                        var e, i;
                        e = t.nodeRoot,
                        i = t.aniO,
                        delete t.nodeRoot,
                        delete t.aniO,
                        this._nodeDefaultProps = {},
                        this._nodeGDic = {},
                        this._nodeList && (this._nodeList.length = 0),
                        this._rootNode = e,
                        this._parseNodeList(e),
                        this._labels = null;
                        try {
                            this._calGraphicData(i)
                        } catch(t) {
                            console.warn("parse animation fail:" + i.name + ",empty animation created"),
                            this._gList = []
                        }
                        var n = t;
                        return n.interval = 1e3 / i.frameRate,
                        n.frames = this._gList,
                        n.labels = this._labels,
                        n.name = i.name,
                        n
                    },
                    n.setUpAniData = function(t) {
                        if (t.animations) {
                            var e, i = {},
                            n = [],
                            s = t.animations,
                            r = 0,
                            a = s.length;
                            for (r = 0; r < a; r++) if (e = s[r]) {
                                var o = {};
                                o.name = e.name,
                                o.aniO = e,
                                o.nodeRoot = t,
                                n.push(o),
                                i[e.name] = o
                            }
                            this.animationList = n,
                            this.animationDic = i
                        }
                    },
                    n._clear = function() {
                        this.animationList = null,
                        this.animationDic = null,
                        this._gList = null,
                        this._nodeGDic = null
                    },
                    e.parseAnimationByData = function(t) {
                        e._I || (e._I = new e);
                        var i;
                        return i = e._I.parseByData(t),
                        e._I._clear(),
                        i
                    },
                    e.parseAnimationData = function(t) {
                        e._I || (e._I = new e),
                        e._I.setUpAniData(t);
                        var i;
                        return i = {},
                        i.animationList = e._I.animationList,
                        i.animationDic = e._I.animationDic,
                        e._I._clear(),
                        i
                    },
                    e._temParam = [],
                    e._I = null,
                    e._rootMatrix = null,
                    __static(e, ["_drawTextureCmd",
                    function() {
                        return this._drawTextureCmd = [["skin", null], ["x", 0], ["y", 0], ["width", 0], ["height", 0], ["pivotX", 0], ["pivotY", 0], ["scaleX", 1], ["scaleY", 1], ["rotation", 0], ["alpha", 1], ["skewX", 0], ["skewY", 0], ["anchorX", 0], ["anchorY", 0]]
                    },
                    "_tempMt",
                    function() {
                        return this._tempMt = new Matrix
                    }]),
                    e.__init$ = function() {
                        i = function() {
                            function t() {
                                this.skin = null,
                                this.transform = null,
                                this.resultTransform = null,
                                this.width = NaN,
                                this.height = NaN,
                                this.alpha = 1
                            }
                            return __class(t, ""),
                            t
                        } ()
                    },
                    e
                } (FrameAnimation);
                Laya.__init([EventDispatcher, LoaderManager, Render, Browser, Timer, LocalStorage, TimeLine, GraphicAnimation])
            } (window, document, Laya),
            function(t, e, i) {
                var n = (i.un, i.uns, i.static, i.class);
                i.getset,
                i.__newvec;
                new(function() {
                    function t() {}
                    return n(t, "LayaMain"),
                    t
                } ())
            } (0, document, Laya)
        }).call(exports, __webpack_require__(19))
    },
    function(t, e) { !
        function(t, e, i) {
            var n = (i.un, i.uns, i.static),
            s = i.class,
            r = i.getset,
            a = (i.__newvec, laya.display.Animation),
            o = laya.utils.ClassUtils,
            h = laya.filters.ColorFilter,
            l = laya.utils.Ease,
            u = laya.events.Event,
            c = laya.display.css.Font,
            d = laya.display.FrameAnimation,
            _ = laya.display.Graphics,
            f = laya.utils.Handler,
            p = laya.display.Input,
            g = laya.net.Loader,
            y = (laya.display.Node, laya.maths.Point),
            v = laya.maths.Rectangle,
            m = laya.renders.Render,
            w = laya.display.Sprite,
            x = laya.display.Text,
            b = laya.resource.Texture,
            S = laya.utils.Tween,
            C = laya.utils.Utils;
            i.interface("laya.ui.IItem"),
            i.interface("laya.ui.IRender"),
            i.interface("laya.ui.ISelect"),
            i.interface("laya.ui.IComponent"),
            i.interface("laya.ui.IBox", "IComponent");
            var P = function() {
                function t() {
                    this.enable = !1,
                    this.top = NaN,
                    this.bottom = NaN,
                    this.left = NaN,
                    this.right = NaN,
                    this.centerX = NaN,
                    this.centerY = NaN,
                    this.anchorX = NaN,
                    this.anchorY = NaN
                }
                return s(t, "laya.ui.LayoutStyle"),
                n(t, ["EMPTY",
                function() {
                    return this.EMPTY = new t
                }]),
                t
            } (),
            k = function() {
                function t() {}
                return s(t, "laya.ui.Styles"),
                t.labelColor = "#000000",
                t.buttonStateNum = 3,
                t.scrollBarMinNum = 15,
                t.scrollBarDelayTime = 500,
                n(t, ["defaultSizeGrid",
                function() {
                    return this.defaultSizeGrid = [4, 4, 4, 4, 0]
                },
                "labelPadding",
                function() {
                    return this.labelPadding = [2, 2, 2, 2]
                },
                "inputLabelPadding",
                function() {
                    return this.inputLabelPadding = [1, 1, 1, 3]
                },
                "buttonLabelColors",
                function() {
                    return this.buttonLabelColors = ["#32556b", "#32cc6b", "#ff0000", "#C0C0C0"]
                },
                "comboBoxItemColors",
                function() {
                    return this.comboBoxItemColors = ["#5e95b6", "#ffffff", "#000000", "#8fa4b1", "#ffffff"]
                }]),
                t
            } (),
            T = function() {
                function t() {}
                return s(t, "laya.ui.UIUtils"),
                t.fillArray = function(t, e, i) {
                    var n = t.concat();
                    if (e) for (var s = e.split(","), r = 0, a = Math.min(n.length, s.length); r < a; r++) {
                        var o = s[r];
                        n[r] = "true" == o || "false" != o && o,
                        null != i && (n[r] = i(o))
                    }
                    return n
                },
                t.toColor = function(t) {
                    return C.toHexColor(t)
                },
                t.gray = function(e, i) {
                    void 0 === i && (i = !0),
                    i ? t.addFilter(e, t.grayFilter) : t.clearFilter(e, h)
                },
                t.addFilter = function(t, e) {
                    var i = t.filters || [];
                    i.push(e),
                    t.filters = i
                },
                t.clearFilter = function(t, e) {
                    var n = t.filters;
                    if (null != n && n.length > 0) {
                        for (var s = n.length - 1; s > -1; s--) {
                            var r = n[s];
                            i.__typeof(r, e) && n.splice(s, 1)
                        }
                        t.filters = n
                    }
                },
                t._getReplaceStr = function(e) {
                    return t.escapeSequence[e]
                },
                t.adptString = function(e) {
                    return e.replace(/\\(\w)/g, t._getReplaceStr)
                },
                n(t, ["grayFilter",
                function() {
                    return this.grayFilter = new h([.3086, .6094, .082, 0, 0, .3086, .6094, .082, 0, 0, .3086, .6094, .082, 0, 0, 0, 0, 0, 1, 0])
                },
                "escapeSequence",
                function() {
                    return this.escapeSequence = {
                        "\\n": "\n",
                        "\\t": "\t"
                    }
                }]),
                t
            } (),
            M = function() {
                function t() {}
                return s(t, "UIConfig"),
                t.touchScrollEnable = !0,
                t.mouseWheelEnable = !0,
                t.showButtons = !0,
                t.popupBgColor = "#000000",
                t.popupBgAlpha = .5,
                t.closeDialogOnSide = !0,
                t
            } (),
            R = function(t) {
                function e() {
                    this.autoCacheCmd = !0,
                    this._width = 0,
                    this._height = 0,
                    this._source = null,
                    this._sizeGrid = null,
                    this._isChanged = !1,
                    this._offset = null,
                    e.__super.call(this)
                }
                s(e, "laya.ui.AutoBitmap", t);
                var n = e.prototype;
                return n.destroy = function() {
                    t.prototype.destroy.call(this),
                    this._source = null,
                    this._sizeGrid = null,
                    this._offset = null
                },
                n._setChanged = function() {
                    this._isChanged || (this._isChanged = !0, i.timer.callLater(this, this.changeSource))
                },
                n.changeSource = function() {
                    e.cacheCount++>50 && e.clearCache(),
                    this._isChanged = !1;
                    var t = this._source;
                    if (t && t.bitmap) {
                        var i = this.width,
                        n = this.height,
                        s = this._sizeGrid,
                        r = t.sourceWidth,
                        a = t.sourceHeight;
                        if (!s || r === i && a === n) this.cleanByTexture(t, this._offset ? this._offset[0] : 0, this._offset ? this._offset[1] : 0, i, n);
                        else {
                            t.$_GID || (t.$_GID = C.getGID());
                            var o = t.$_GID + "." + i + "." + n + "." + s.join(".");
                            if (e.cmdCaches[o]) return void(this.cmds = e.cmdCaches[o]);
                            this.clear();
                            var h = s[0],
                            l = s[1],
                            u = s[2],
                            c = s[3],
                            d = s[4],
                            _ = !1;
                            if (c + l > i) {
                                var f = i;
                                _ = !0,
                                i = c + l
                            }
                            _ && (this.save(), this.clipRect(0, 0, f, n)),
                            c && h && this.drawTexture(e.getTexture(t, 0, 0, c, h), 0, 0, c, h),
                            l && h && this.drawTexture(e.getTexture(t, r - l, 0, l, h), i - l, 0, l, h),
                            c && u && this.drawTexture(e.getTexture(t, 0, a - u, c, u), 0, n - u, c, u),
                            l && u && this.drawTexture(e.getTexture(t, r - l, a - u, l, u), i - l, n - u, l, u),
                            h && this.drawBitmap(d, e.getTexture(t, c, 0, r - c - l, h), c, 0, i - c - l, h),
                            u && this.drawBitmap(d, e.getTexture(t, c, a - u, r - c - l, u), c, n - u, i - c - l, u),
                            c && this.drawBitmap(d, e.getTexture(t, 0, h, c, a - h - u), 0, h, c, n - h - u),
                            l && this.drawBitmap(d, e.getTexture(t, r - l, h, l, a - h - u), i - l, h, l, n - h - u),
                            this.drawBitmap(d, e.getTexture(t, c, h, r - c - l, a - h - u), c, h, i - c - l, n - h - u),
                            _ && this.restore(),
                            this.autoCacheCmd && !m.isConchApp && (e.cmdCaches[o] = this.cmds)
                        }
                        this._repaint()
                    }
                },
                n.drawBitmap = function(t, e, i, n, s, r) {
                    void 0 === s && (s = 0),
                    void 0 === r && (r = 0),
                    s < .1 || r < .1 || (!t || e.width == s && e.height == r ? this.drawTexture(e, i, n, s, r) : this.fillTexture(e, i, n, s, r))
                },
                n.clear = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.clear.call(this, !1)
                },
                r(0, n, "sizeGrid",
                function() {
                    return this._sizeGrid
                },
                function(t) {
                    this._sizeGrid = t,
                    this._setChanged()
                }),
                r(0, n, "width",
                function() {
                    return this._width ? this._width: this._source ? this._source.sourceWidth: 0
                },
                function(t) {
                    this._width != t && (this._width = t, this._setChanged())
                }),
                r(0, n, "height",
                function() {
                    return this._height ? this._height: this._source ? this._source.sourceHeight: 0
                },
                function(t) {
                    this._height != t && (this._height = t, this._setChanged())
                }),
                r(0, n, "source",
                function() {
                    return this._source
                },
                function(t) {
                    t ? (this._source = t, this._setChanged()) : (this._source = null, this.clear())
                }),
                e.getTexture = function(t, i, n, s, r) {
                    s <= 0 && (s = 1),
                    r <= 0 && (r = 1),
                    t.$_GID || (t.$_GID = C.getGID());
                    var a = t.$_GID + "." + i + "." + n + "." + s + "." + r,
                    o = e.textureCache[a];
                    return o || (o = e.textureCache[a] = b.createFromTexture(t, i, n, s, r)),
                    o
                },
                e.clearCache = function() {
                    e.cacheCount = 0,
                    e.cmdCaches = {},
                    e.textureCache = {}
                },
                e.setCache = function(t, i) {
                    e.cacheCount++,
                    e.textureCache[t] = i
                },
                e.getCache = function(t) {
                    return e.textureCache[t]
                },
                e.cmdCaches = {},
                e.cacheCount = 0,
                e.textureCache = {},
                e
            } (_),
            I = (function(t) {
                function e() {
                    e.__super.call(this)
                }
                s(e, "laya.ui.UIEvent", t),
                e.SHOW_TIP = "showtip",
                e.HIDE_TIP = "hidetip"
            } (u),
            function(t) {
                function e() {
                    this._comXml = null,
                    this._dataSource = null,
                    this._toolTip = null,
                    this._tag = null,
                    this._disabled = !1,
                    this._gray = !1,
                    this.layoutEnabled = !0,
                    e.__super.call(this),
                    this._layout = P.EMPTY,
                    this.preinitialize(),
                    this.createChildren(),
                    this.initialize()
                }
                s(e, "laya.ui.Component", t);
                var n = e.prototype;
                return i.imps(n, {
                    "laya.ui.IComponent": !0
                }),
                n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._dataSource = this._layout = null,
                    this._tag = null,
                    this._toolTip = null
                },
                n.preinitialize = function() {},
                n.createChildren = function() {},
                n.initialize = function() {},
                n.callLater = function(t, e) {
                    i.timer.callLater(this, t, e)
                },
                n.runCallLater = function(t) {
                    i.timer.runCallLater(this, t)
                },
                n.commitMeasure = function() {},
                n.changeSize = function() {
                    this.event("resize")
                },
                n.getLayout = function() {
                    return this._layout === P.EMPTY && (this._layout = new P),
                    this._layout
                },
                n._setLayoutEnabled = function(t) {
                    this._layout && this._layout.enable != t && (this._layout.enable = t, this.on("added", this, this.onAdded), this.on("removed", this, this.onRemoved), this.parent && this.onAdded())
                },
                n.onRemoved = function() {
                    this.parent.off("resize", this, this.onCompResize)
                },
                n.onAdded = function() {
                    this.parent.on("resize", this, this.onCompResize),
                    this.resetLayoutX(),
                    this.resetLayoutY()
                },
                n.onCompResize = function() {
                    this._layout && this._layout.enable && (this.resetLayoutX(), this.resetLayoutY())
                },
                n.resetLayoutX = function() {
                    var t = this._layout;
                    if (isNaN(t.anchorX) || (this.pivotX = t.anchorX * this.width), this.layoutEnabled) {
                        var e = this.parent;
                        e && (isNaN(t.centerX) ? isNaN(t.left) ? isNaN(t.right) || (this.x = Math.round(e.width - this.displayWidth - t.right + this.pivotX * this.scaleX)) : (this.x = Math.round(t.left + this.pivotX * this.scaleX), isNaN(t.right) || (this.width = (e._width - t.left - t.right) / (this.scaleX || .01))) : this.x = Math.round(.5 * (e.width - this.displayWidth) + t.centerX + this.pivotX * this.scaleX))
                    }
                },
                n.resetLayoutY = function() {
                    var t = this._layout;
                    if (isNaN(t.anchorY) || (this.pivotY = t.anchorY * this.height), this.layoutEnabled) {
                        var e = this.parent;
                        e && (isNaN(t.centerY) ? isNaN(t.top) ? isNaN(t.bottom) || (this.y = Math.round(e.height - this.displayHeight - t.bottom + this.pivotY * this.scaleY)) : (this.y = Math.round(t.top + this.pivotY * this.scaleY), isNaN(t.bottom) || (this.height = (e._height - t.top - t.bottom) / (this.scaleY || .01))) : this.y = Math.round(.5 * (e.height - this.displayHeight) + t.centerY + this.pivotY * this.scaleY))
                    }
                },
                n.onMouseOver = function(t) {
                    i.stage.event("showtip", this._toolTip)
                },
                n.onMouseOut = function(t) {
                    i.stage.event("hidetip", this._toolTip)
                },
                r(0, n, "displayWidth",
                function() {
                    return this.width * this.scaleX
                }),
                r(0, n, "width",
                function() {
                    return this._width ? this._width: this.measureWidth
                },
                function(t) {
                    this._width != t && (this._width = t, this.conchModel && this.conchModel.size(this._width, this._height), this.callLater(this.changeSize), !this._layout.enable || isNaN(this._layout.centerX) && isNaN(this._layout.right) && isNaN(this._layout.anchorX) || this.resetLayoutX())
                }),
                r(0, n, "measureWidth",
                function() {
                    var t = 0;
                    this.commitMeasure();
                    for (var e = this.numChildren - 1; e > -1; e--) {
                        var i = this.getChildAt(e);
                        i.visible && (t = Math.max(i.x + i.width * i.scaleX, t))
                    }
                    return t
                }),
                r(0, n, "displayHeight",
                function() {
                    return this.height * this.scaleY
                }),
                r(0, n, "height",
                function() {
                    return this._height ? this._height: this.measureHeight
                },
                function(t) {
                    this._height != t && (this._height = t, this.conchModel && this.conchModel.size(this._width, this._height), this.callLater(this.changeSize), !this._layout.enable || isNaN(this._layout.centerY) && isNaN(this._layout.bottom) && isNaN(this._layout.anchorY) || this.resetLayoutY())
                }),
                r(0, n, "dataSource",
                function() {
                    return this._dataSource
                },
                function(t) {
                    this._dataSource = t;
                    for (var e in this._dataSource) this.hasOwnProperty(e) && "function" != typeof this[e] && (this[e] = this._dataSource[e])
                }),
                r(0, n, "scaleY", t.prototype._$get_scaleY,
                function(e) {
                    t.prototype._$get_scaleY.call(this) != e && (t.prototype._$set_scaleY.call(this, e), this.callLater(this.changeSize), this._layout.enable && this.resetLayoutY())
                }),
                r(0, n, "measureHeight",
                function() {
                    var t = 0;
                    this.commitMeasure();
                    for (var e = this.numChildren - 1; e > -1; e--) {
                        var i = this.getChildAt(e);
                        i.visible && (t = Math.max(i.y + i.height * i.scaleY, t))
                    }
                    return t
                }),
                r(0, n, "scaleX", t.prototype._$get_scaleX,
                function(e) {
                    t.prototype._$get_scaleX.call(this) != e && (t.prototype._$set_scaleX.call(this, e), this.callLater(this.changeSize), this._layout.enable && this.resetLayoutX())
                }),
                r(0, n, "top",
                function() {
                    return this._layout.top
                },
                function(t) {
                    t != this._layout.top && (this.getLayout().top = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutY()
                }),
                r(0, n, "bottom",
                function() {
                    return this._layout.bottom
                },
                function(t) {
                    t != this._layout.bottom && (this.getLayout().bottom = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutY()
                }),
                r(0, n, "left",
                function() {
                    return this._layout.left
                },
                function(t) {
                    t != this._layout.left && (this.getLayout().left = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutX()
                }),
                r(0, n, "right",
                function() {
                    return this._layout.right
                },
                function(t) {
                    t != this._layout.right && (this.getLayout().right = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutX()
                }),
                r(0, n, "centerX",
                function() {
                    return this._layout.centerX
                },
                function(t) {
                    t != this._layout.centerX && (this.getLayout().centerX = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutX()
                }),
                r(0, n, "centerY",
                function() {
                    return this._layout.centerY
                },
                function(t) {
                    t != this._layout.centerY && (this.getLayout().centerY = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutY()
                }),
                r(0, n, "anchorX",
                function() {
                    return this._layout.anchorX
                },
                function(t) {
                    t != this._layout.anchorX && (this.getLayout().anchorX = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutX()
                }),
                r(0, n, "anchorY",
                function() {
                    return this._layout.anchorY
                },
                function(t) {
                    t != this._layout.anchorY && (this.getLayout().anchorY = t, this._setLayoutEnabled(!0)),
                    this.resetLayoutY()
                }),
                r(0, n, "tag",
                function() {
                    return this._tag
                },
                function(t) {
                    this._tag = t
                }),
                r(0, n, "toolTip",
                function() {
                    return this._toolTip
                },
                function(t) {
                    this._toolTip != t && (this._toolTip = t, null != t ? (this.on("mouseover", this, this.onMouseOver), this.on("mouseout", this, this.onMouseOut)) : (this.off("mouseover", this, this.onMouseOver), this.off("mouseout", this, this.onMouseOut)))
                }),
                r(0, n, "comXml",
                function() {
                    return this._comXml
                },
                function(t) {
                    this._comXml = t
                }),
                r(0, n, "gray",
                function() {
                    return this._gray
                },
                function(t) {
                    t !== this._gray && (this._gray = t, T.gray(this, t))
                }),
                r(0, n, "disabled",
                function() {
                    return this._disabled
                },
                function(t) {
                    t !== this._disabled && (this.gray = this._disabled = t, this.mouseEnabled = !t)
                }),
                e
            } (w)),
            L = function(t) {
                function e() {
                    this.lockLayer = null,
                    this.popupEffect = function(t) {
                        t.scale(1, 1),
                        S.from(t, {
                            x: i.stage.width / 2,
                            y: i.stage.height / 2,
                            scaleX: 0,
                            scaleY: 0
                        },
                        300, l.backOut, f.create(this, this.doOpen, [t]))
                    },
                    this.closeEffect = function(t, e) {
                        S.to(t, {
                            x: i.stage.width / 2,
                            y: i.stage.height / 2,
                            scaleX: 0,
                            scaleY: 0
                        },
                        300, l.strongOut, f.create(this, this.doClose, [t, e]))
                    },
                    e.__super.call(this),
                    this.maskLayer = new w,
                    this.popupEffectHandler = new f(this, this.popupEffect),
                    this.closeEffectHandler = new f(this, this.closeEffect),
                    this.mouseEnabled = this.maskLayer.mouseEnabled = !0,
                    this.zOrder = 1e3,
                    i.stage.addChild(this),
                    i.stage.on("resize", this, this._onResize),
                    M.closeDialogOnSide && this.maskLayer.on("click", this, this._closeOnSide),
                    this._onResize(null)
                }
                s(e, "laya.ui.DialogManager", t);
                var n = e.prototype;
                return n._closeOnSide = function() {
                    var t = this.getChildAt(this.numChildren - 1);
                    t instanceof laya.ui.Dialog && t.close("side")
                },
                n.setLockView = function(t) {
                    this.lockLayer || (this.lockLayer = new D, this.lockLayer.mouseEnabled = !0, this.lockLayer.size(i.stage.width, i.stage.height)),
                    this.lockLayer.removeChildren(),
                    t && (t.centerX = t.centerY = 0, this.lockLayer.addChild(t))
                },
                n._onResize = function(t) {
                    var e = this.maskLayer.width = i.stage.width,
                    n = this.maskLayer.height = i.stage.height;
                    this.lockLayer && this.lockLayer.size(e, n),
                    this.maskLayer.graphics.clear(),
                    this.maskLayer.graphics.drawRect(0, 0, e, n, M.popupBgColor),
                    this.maskLayer.alpha = M.popupBgAlpha;
                    for (var s = this.numChildren - 1; s > -1; s--) {
                        var r = this.getChildAt(s);
                        r.popupCenter && this._centerDialog(r)
                    }
                },
                n._centerDialog = function(t) {
                    t.x = Math.round((i.stage.width - t.width >> 1) + t.pivotX),
                    t.y = Math.round((i.stage.height - t.height >> 1) + t.pivotY)
                },
                n.open = function(t, e) {
                    void 0 === e && (e = !1),
                    e && this.removeChildren(),
                    t.popupCenter && this._centerDialog(t),
                    this.addChild(t),
                    (t.isModal || this._$P.hasZorder) && this.timer.callLater(this, this._checkMask),
                    null != t.popupEffect ? t.popupEffect.runWith(t) : this.doOpen(t),
                    this.event("open")
                },
                n.doOpen = function(t) {
                    t.onOpened()
                },
                n.lock = function(t) {
                    this.lockLayer && (t ? this.addChild(this.lockLayer) : this.lockLayer.removeSelf())
                },
                n.close = function(t, e) {
                    null != t.closeEffect ? t.closeEffect.runWith([t, e]) : this.doClose(t, e),
                    this.event("close")
                },
                n.doClose = function(t, e) {
                    t.removeSelf(),
                    t.isModal && this._checkMask(),
                    t.closeHandler && t.closeHandler.runWith(e),
                    t.onClosed(e)
                },
                n.closeAll = function() {
                    this.removeChildren(),
                    this.event("close")
                },
                n.getDialogsByGroup = function(t) {
                    for (var e = [], i = this.numChildren - 1; i > -1; i--) {
                        var n = this.getChildAt(i);
                        n.group === t && e.push(n)
                    }
                    return e
                },
                n.closeByGroup = function(t) {
                    for (var e = [], i = this.numChildren - 1; i > -1; i--) {
                        var n = this.getChildAt(i);
                        n.group === t && (n.close(), e.push(n))
                    }
                    return e
                },
                n._checkMask = function() {
                    this.maskLayer.removeSelf();
                    for (var t = this.numChildren - 1; t > -1; t--) {
                        var e = this.getChildAt(t);
                        if (e && e.isModal) return void this.addChildAt(this.maskLayer, t)
                    }
                },
                e
            } (w),
            D = function(t) {
                function e() {
                    e.__super.call(this)
                }
                s(e, "laya.ui.Box", t);
                var n = e.prototype;
                return i.imps(n, {
                    "laya.ui.IBox": !0
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(t) {
                    this._dataSource = t;
                    for (var e in t) {
                        var i = this.getChildByName(e);
                        i ? i.dataSource = t[e] : this.hasOwnProperty(e) && "function" != typeof this[e] && (this[e] = t[e])
                    }
                }),
                e
            } (I),
            B = function(t) {
                function e(t, i) {
                    this.toggle = !1,
                    this._bitmap = null,
                    this._text = null,
                    this._strokeColors = null,
                    this._state = 0,
                    this._selected = !1,
                    this._skin = null,
                    this._autoSize = !0,
                    this._sources = null,
                    this._clickHandler = null,
                    this._stateChanged = !1,
                    e.__super.call(this),
                    this._labelColors = k.buttonLabelColors,
                    this._stateNum = k.buttonStateNum,
                    void 0 === i && (i = ""),
                    this.skin = t,
                    this.label = i
                }
                s(e, "laya.ui.Button", t);
                var a = e.prototype;
                return i.imps(a, {
                    "laya.ui.ISelect": !0
                }),
                a.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._bitmap && this._bitmap.destroy(),
                    this._text && this._text.destroy(e),
                    this._bitmap = null,
                    this._text = null,
                    this._clickHandler = null,
                    this._labelColors = this._sources = this._strokeColors = null
                },
                a.createChildren = function() {
                    this.graphics = this._bitmap = new R
                },
                a.createText = function() {
                    this._text || (this._text = new x, this._text.overflow = x.HIDDEN, this._text.align = "center", this._text.valign = "middle", this._text.width = this._width, this._text.height = this._height)
                },
                a.initialize = function() {
                    1 !== this._mouseEnableState && (this.mouseEnabled = !0, this._setBit(2, !0)),
                    this._createListener("mouseover", this, this.onMouse, null, !1, !1),
                    this._createListener("mouseout", this, this.onMouse, null, !1, !1),
                    this._createListener("mousedown", this, this.onMouse, null, !1, !1),
                    this._createListener("mouseup", this, this.onMouse, null, !1, !1),
                    this._createListener("click", this, this.onMouse, null, !1, !1)
                },
                a.onMouse = function(t) {
                    if (!1 !== this.toggle || !this._selected) return "click" === t.type ? (this.toggle && (this.selected = !this._selected), void(this._clickHandler && this._clickHandler.run())) : void(!this._selected && (this.state = e.stateMap[t.type]))
                },
                a.changeClips = function() {
                    var t = g.getRes(this._skin);
                    if (!t) return void console.log("lose skin", this._skin);
                    var e = t.sourceWidth,
                    i = t.sourceHeight / this._stateNum;
                    t.$_GID || (t.$_GID = C.getGID());
                    var n = t.$_GID + "-" + this._stateNum,
                    s = R.getCache(n);
                    if (s) this._sources = s;
                    else {
                        if (this._sources = [], 1 === this._stateNum) this._sources.push(t);
                        else for (var r = 0; r < this._stateNum; r++) this._sources.push(b.createFromTexture(t, 0, i * r, e, i));
                        R.setCache(n, this._sources)
                    }
                    this._autoSize ? (this._bitmap.width = this._width || e, this._bitmap.height = this._height || i, this._text && (this._text.width = this._bitmap.width, this._text.height = this._bitmap.height)) : this._text && (this._text.x = e)
                },
                a.changeState = function() {
                    this._stateChanged = !1,
                    this.runCallLater(this.changeClips);
                    var t = this._state < this._stateNum ? this._state: this._stateNum - 1;
                    this._sources && (this._bitmap.source = this._sources[t]),
                    this.label && (this._text.color = this._labelColors[t], this._strokeColors && (this._text.strokeColor = this._strokeColors[t]))
                },
                a._setStateChanged = function() {
                    this._stateChanged || (this._stateChanged = !0, this.callLater(this.changeState))
                },
                r(0, a, "labelStrokeColor",
                function() {
                    return this.createText(),
                    this._text.strokeColor
                },
                function(t) {
                    this.createText(),
                    this._text.strokeColor = t
                }),
                r(0, a, "measureHeight",
                function() {
                    return this.runCallLater(this.changeClips),
                    this._text ? Math.max(this._bitmap.height, this._text.height) : this._bitmap.height
                }),
                r(0, a, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    this._skin != t && (this._skin = t, this.callLater(this.changeClips), this._setStateChanged())
                }),
                r(0, a, "state",
                function() {
                    return this._state
                },
                function(t) {
                    this._state != t && (this._state = t, this._setStateChanged())
                }),
                r(0, a, "text",
                function() {
                    return this.createText(),
                    this._text
                }),
                r(0, a, "stateNum",
                function() {
                    return this._stateNum
                },
                function(t) {
                    this._stateNum != t && (this._stateNum = t < 1 ? 1 : t > 3 ? 3 : t, this.callLater(this.changeClips))
                }),
                r(0, a, "strokeColors",
                function() {
                    return this._strokeColors ? this._strokeColors.join(",") : ""
                },
                function(t) {
                    this._strokeColors = T.fillArray(k.buttonLabelColors, t, String),
                    this._setStateChanged()
                }),
                r(0, a, "labelColors",
                function() {
                    return this._labelColors.join(",")
                },
                function(t) {
                    this._labelColors = T.fillArray(k.buttonLabelColors, t, String),
                    this._setStateChanged()
                }),
                r(0, a, "measureWidth",
                function() {
                    return this.runCallLater(this.changeClips),
                    this._autoSize ? this._bitmap.width: (this.runCallLater(this.changeState), this._bitmap.width + (this._text ? this._text.width: 0))
                }),
                r(0, a, "label",
                function() {
                    return this._text ? this._text.text: null
                },
                function(t) { (this._text || t) && (this.createText(), this._text.text != t && (t && !this._text.parent && this.addChild(this._text), this._text.text = (t + "").replace(/\\n/g, "\n"), this._setStateChanged()))
                }),
                r(0, a, "selected",
                function() {
                    return this._selected
                },
                function(t) {
                    this._selected != t && (this._selected = t, this.state = this._selected ? 2 : 0, this.event("change"))
                }),
                r(0, a, "labelPadding",
                function() {
                    return this.createText(),
                    this._text.padding.join(",")
                },
                function(t) {
                    this.createText(),
                    this._text.padding = T.fillArray(k.labelPadding, t, Number)
                }),
                r(0, a, "labelSize",
                function() {
                    return this.createText(),
                    this._text.fontSize
                },
                function(t) {
                    this.createText(),
                    this._text.fontSize = t
                }),
                r(0, a, "labelStroke",
                function() {
                    return this.createText(),
                    this._text.stroke
                },
                function(t) {
                    this.createText(),
                    this._text.stroke = t
                }),
                r(0, a, "labelBold",
                function() {
                    return this.createText(),
                    this._text.bold
                },
                function(t) {
                    this.createText(),
                    this._text.bold = t
                }),
                r(0, a, "labelFont",
                function() {
                    return this.createText(),
                    this._text.font
                },
                function(t) {
                    this.createText(),
                    this._text.font = t
                }),
                r(0, a, "labelAlign",
                function() {
                    return this.createText(),
                    this._text.align
                },
                function(t) {
                    this.createText(),
                    this._text.align = t
                }),
                r(0, a, "clickHandler",
                function() {
                    return this._clickHandler
                },
                function(t) {
                    this._clickHandler = t
                }),
                r(0, a, "sizeGrid",
                function() {
                    return this._bitmap.sizeGrid ? this._bitmap.sizeGrid.join(",") : null
                },
                function(t) {
                    this._bitmap.sizeGrid = T.fillArray(k.defaultSizeGrid, t, Number)
                }),
                r(0, a, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._autoSize && (this._bitmap.width = e, this._text && (this._text.width = e))
                }),
                r(0, a, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._autoSize && (this._bitmap.height = e, this._text && (this._text.height = e))
                }),
                r(0, a, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e || "string" == typeof e ? this.label = e + "": t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, a, "iconOffset",
                function() {
                    return this._bitmap._offset ? this._bitmap._offset.join(",") : null
                },
                function(t) {
                    this._bitmap._offset = t ? T.fillArray([1, 1], t, Number) : []
                }),
                n(e, ["stateMap",
                function() {
                    return this.stateMap = {
                        mouseup: 0,
                        mouseover: 1,
                        mousedown: 2,
                        mouseout: 0
                    }
                }]),
                e
            } (I),
            E = function(t) {
                function e(t, i, n) {
                    this._sources = null,
                    this._bitmap = null,
                    this._skin = null,
                    this._clipX = 1,
                    this._clipY = 1,
                    this._clipWidth = 0,
                    this._clipHeight = 0,
                    this._autoPlay = !1,
                    this._interval = 50,
                    this._complete = null,
                    this._isPlaying = !1,
                    this._index = 0,
                    this._clipChanged = !1,
                    this._group = null,
                    e.__super.call(this),
                    void 0 === i && (i = 1),
                    void 0 === n && (n = 1),
                    this._clipX = i,
                    this._clipY = n,
                    this.skin = t
                }
                s(e, "laya.ui.Clip", t);
                var n = e.prototype;
                return n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, !0),
                    this._bitmap && this._bitmap.destroy(),
                    this._bitmap = null,
                    this._sources = null
                },
                n.dispose = function() {
                    this.destroy(!0),
                    i.loader.clearRes(this._skin)
                },
                n.createChildren = function() {
                    this.graphics = this._bitmap = new R
                },
                n._onDisplay = function(t) {
                    this._isPlaying ? this._displayedInStage ? this.play() : this.stop() : this._autoPlay && this.play()
                },
                n.changeClip = function() {
                    if (this._clipChanged = !1, this._skin) {
                        var t = g.getRes(this._skin);
                        t ? this.loadComplete(this._skin, t) : i.loader.load(this._skin, f.create(this, this.loadComplete, [this._skin]))
                    }
                },
                n.loadComplete = function(t, e) {
                    if (t === this._skin && e) {
                        var i = this._clipWidth || Math.ceil(e.sourceWidth / this._clipX),
                        n = this._clipHeight || Math.ceil(e.sourceHeight / this._clipY),
                        s = this._skin + i + n,
                        r = R.getCache(s);
                        if (r) this._sources = r;
                        else {
                            this._sources = [];
                            for (var a = 0; a < this._clipY; a++) for (var o = 0; o < this._clipX; o++) this._sources.push(b.createFromTexture(e, i * o, n * a, i, n));
                            R.setCache(s, this._sources)
                        }
                        this.index = this._index,
                        this.event("loaded"),
                        this.onCompResize()
                    }
                },
                n.play = function() {
                    this._isPlaying = !0,
                    this.index = 0,
                    this._index++,
                    i.timer.loop(this.interval, this, this._loop),
                    this.on("display", this, this._onDisplay),
                    this.on("undisplay", this, this._onDisplay)
                },
                n._loop = function() {
                    this._style.visible && this._sources && (this.index = this._index, this._index++, this._index >= this._sources.length && (this._index = 0))
                },
                n.stop = function() {
                    this._isPlaying = !1,
                    i.timer.clear(this, this._loop)
                },
                n._setClipChanged = function() {
                    this._clipChanged || (this._clipChanged = !0, this.callLater(this.changeClip))
                },
                r(0, n, "interval",
                function() {
                    return this._interval
                },
                function(t) {
                    this._interval != t && (this._interval = t, this._isPlaying && this.play())
                }),
                r(0, n, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    this._skin != t && (this._skin = t, t ? this._setClipChanged() : this._bitmap.source = null)
                }),
                r(0, n, "sources",
                function() {
                    return this._sources
                },
                function(t) {
                    this._sources = t,
                    this.index = this._index,
                    this.event("loaded")
                }),
                r(0, n, "clipX",
                function() {
                    return this._clipX
                },
                function(t) {
                    this._clipX = t || 1,
                    this._setClipChanged()
                }),
                r(0, n, "clipY",
                function() {
                    return this._clipY
                },
                function(t) {
                    this._clipY = t || 1,
                    this._setClipChanged()
                }),
                r(0, n, "total",
                function() {
                    return this.runCallLater(this.changeClip),
                    this._sources ? this._sources.length: 0
                }),
                r(0, n, "clipWidth",
                function() {
                    return this._clipWidth
                },
                function(t) {
                    this._clipWidth = t,
                    this._setClipChanged()
                }),
                r(0, n, "sizeGrid",
                function() {
                    return this._bitmap.sizeGrid ? this._bitmap.sizeGrid.join(",") : null
                },
                function(t) {
                    this._bitmap.sizeGrid = T.fillArray(k.defaultSizeGrid, t, Number)
                }),
                r(0, n, "group",
                function() {
                    return this._group
                },
                function(t) {
                    t && this._skin && g.setGroup(this._skin, t),
                    this._group = t
                }),
                r(0, n, "clipHeight",
                function() {
                    return this._clipHeight
                },
                function(t) {
                    this._clipHeight = t,
                    this._setClipChanged()
                }),
                r(0, n, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._bitmap.width = e
                }),
                r(0, n, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._bitmap.height = e
                }),
                r(0, n, "measureWidth",
                function() {
                    return this.runCallLater(this.changeClip),
                    this._bitmap.width
                }),
                r(0, n, "measureHeight",
                function() {
                    return this.runCallLater(this.changeClip),
                    this._bitmap.height
                }),
                r(0, n, "index",
                function() {
                    return this._index
                },
                function(t) {
                    this._index = t,
                    this._bitmap && this._sources && (this._bitmap.source = this._sources[t]),
                    this.event("change")
                }),
                r(0, n, "autoPlay",
                function() {
                    return this._autoPlay
                },
                function(t) {
                    this._autoPlay != t && (this._autoPlay = t, t ? this.play() : this.stop())
                }),
                r(0, n, "isPlaying",
                function() {
                    return this._isPlaying
                },
                function(t) {
                    this._isPlaying = t
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e && Math.floor(e) == e || "string" == typeof e ? this.index = parseInt(e) : t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, n, "bitmap",
                function() {
                    return this._bitmap
                }),
                e
            } (I),
            A = function(t) {
                function e() {
                    this.changeHandler = null,
                    this._gridSize = 11,
                    this._bgColor = "#ffffff",
                    this._borderColor = "#000000",
                    this._inputColor = "#000000",
                    this._inputBgColor = "#efefef",
                    this._colorPanel = null,
                    this._colorTiles = null,
                    this._colorBlock = null,
                    this._colorInput = null,
                    this._colorButton = null,
                    this._colors = [],
                    this._selectedColor = "#000000",
                    this._panelChanged = !1,
                    e.__super.call(this)
                }
                s(e, "laya.ui.ColorPicker", t);
                var n = e.prototype;
                return n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._colorPanel && this._colorPanel.destroy(e),
                    this._colorButton && this._colorButton.destroy(e),
                    this._colorPanel = null,
                    this._colorTiles = null,
                    this._colorBlock = null,
                    this._colorInput = null,
                    this._colorButton = null,
                    this._colors = null,
                    this.changeHandler = null
                },
                n.createChildren = function() {
                    this.addChild(this._colorButton = new B),
                    this._colorPanel = new D,
                    this._colorPanel.size(230, 166),
                    this._colorPanel.addChild(this._colorTiles = new w),
                    this._colorPanel.addChild(this._colorBlock = new w),
                    this._colorPanel.addChild(this._colorInput = new p)
                },
                n.initialize = function() {
                    this._colorButton.on("click", this, this.onColorButtonClick),
                    this._colorBlock.pos(5, 5),
                    this._colorInput.pos(60, 5),
                    this._colorInput.size(60, 20),
                    this._colorInput.on("change", this, this.onColorInputChange),
                    this._colorInput.on("keydown", this, this.onColorFieldKeyDown),
                    this._colorTiles.pos(5, 30),
                    this._colorTiles.on("mousemove", this, this.onColorTilesMouseMove),
                    this._colorTiles.on("click", this, this.onColorTilesClick),
                    this._colorTiles.size(20 * this._gridSize, 12 * this._gridSize),
                    this._colorPanel.on("mousedown", this, this.onPanelMouseDown),
                    this.bgColor = this._bgColor
                },
                n.onPanelMouseDown = function(t) {
                    t.stopPropagation()
                },
                n.changePanel = function() {
                    this._panelChanged = !1;
                    var t = this._colorPanel.graphics;
                    t.clear(),
                    t.drawRect(0, 0, 230, 166, this._bgColor, this._borderColor),
                    this.drawBlock(this._selectedColor),
                    this._colorInput.borderColor = this._borderColor,
                    this._colorInput.bgColor = this._inputBgColor,
                    this._colorInput.color = this._inputColor,
                    t = this._colorTiles.graphics,
                    t.clear();
                    for (var e = [0, 3355443, 6710886, 10066329, 13421772, 16777215, 16711680, 65280, 255, 16776960, 65535, 16711935], i = 0; i < 12; i++) for (var n = 0; n < 20; n++) {
                        var s = 0;
                        s = 0 === n ? e[i] : 1 === n ? 0 : 51 * (((3 * i + n / 6) % 3 << 0) + 3 * (i / 6 << 0)) << 16 | n % 6 * 51 << 8 | (i << 0) % 6 * 51;
                        var r = T.toColor(s);
                        this._colors.push(r);
                        var a = n * this._gridSize,
                        o = i * this._gridSize;
                        t.drawRect(a, o, this._gridSize, this._gridSize, r, "#000000")
                    }
                },
                n.onColorButtonClick = function(t) {
                    this._colorPanel.parent ? this.close() : this.open()
                },
                n.open = function() {
                    var t = this.localToGlobal(new y),
                    e = t.x + this._colorPanel.width <= i.stage.width ? t.x: i.stage.width - this._colorPanel.width,
                    n = t.y + this._colorButton.height;
                    n = n + this._colorPanel.height <= i.stage.height ? n: t.y - this._colorPanel.height,
                    this._colorPanel.pos(e, n),
                    this._colorPanel.zOrder = 1001,
                    i._currentStage.addChild(this._colorPanel),
                    i.stage.on("mousedown", this, this.removeColorBox)
                },
                n.close = function() {
                    i.stage.off("mousedown", this, this.removeColorBox),
                    this._colorPanel.removeSelf()
                },
                n.removeColorBox = function(t) {
                    this.close()
                },
                n.onColorFieldKeyDown = function(t) {
                    13 == t.keyCode && (this._colorInput.text ? this.selectedColor = this._colorInput.text: this.selectedColor = null, this.close(), t.stopPropagation())
                },
                n.onColorInputChange = function(t) {
                    this._colorInput.text ? this.drawBlock(this._colorInput.text) : this.drawBlock("#FFFFFF")
                },
                n.onColorTilesClick = function(t) {
                    this.selectedColor = this.getColorByMouse(),
                    this.close()
                },
                n.onColorTilesMouseMove = function(t) {
                    this._colorInput.focus = !1;
                    var e = this.getColorByMouse();
                    this._colorInput.text = e,
                    this.drawBlock(e)
                },
                n.getColorByMouse = function() {
                    var t = this._colorTiles.getMousePoint(),
                    e = Math.floor(t.x / this._gridSize),
                    i = Math.floor(t.y / this._gridSize);
                    return this._colors[20 * i + e]
                },
                n.drawBlock = function(t) {
                    var e = this._colorBlock.graphics;
                    e.clear();
                    var i = t || "#ffffff";
                    e.drawRect(0, 0, 50, 20, i, this._borderColor),
                    t || e.drawLine(0, 0, 50, 20, "#ff0000")
                },
                n.changeColor = function() {
                    var t = this.graphics;
                    t.clear();
                    var e = this._selectedColor || "#000000";
                    t.drawRect(0, 0, this._colorButton.width, this._colorButton.height, e)
                },
                n._setPanelChanged = function() {
                    this._panelChanged || (this._panelChanged = !0, this.callLater(this.changePanel))
                },
                r(0, n, "inputBgColor",
                function() {
                    return this._inputBgColor
                },
                function(t) {
                    this._inputBgColor = t,
                    this._setPanelChanged()
                }),
                r(0, n, "selectedColor",
                function() {
                    return this._selectedColor
                },
                function(t) {
                    this._selectedColor != t && (this._selectedColor = this._colorInput.text = t, this.drawBlock(t), this.changeColor(), this.changeHandler && this.changeHandler.runWith(this._selectedColor), this.event("change", u.EMPTY.setTo("change", this, this)))
                }),
                r(0, n, "skin",
                function() {
                    return this._colorButton.skin
                },
                function(t) {
                    this._colorButton.skin = t,
                    this.changeColor()
                }),
                r(0, n, "bgColor",
                function() {
                    return this._bgColor
                },
                function(t) {
                    this._bgColor = t,
                    this._setPanelChanged()
                }),
                r(0, n, "borderColor",
                function() {
                    return this._borderColor
                },
                function(t) {
                    this._borderColor = t,
                    this._setPanelChanged()
                }),
                r(0, n, "inputColor",
                function() {
                    return this._inputColor
                },
                function(t) {
                    this._inputColor = t,
                    this._setPanelChanged()
                }),
                e
            } (I),
            O = function(t) {
                function e(t, i) {
                    this._visibleNum = 6,
                    this._button = null,
                    this._list = null,
                    this._isOpen = !1,
                    this._itemSize = 12,
                    this._labels = [],
                    this._selectedIndex = -1,
                    this._selectHandler = null,
                    this._itemHeight = NaN,
                    this._listHeight = NaN,
                    this._listChanged = !1,
                    this._itemChanged = !1,
                    this._scrollBarSkin = null,
                    this._isCustomList = !1,
                    this.itemRender = null,
                    e.__super.call(this),
                    this._itemColors = k.comboBoxItemColors,
                    this.skin = t,
                    this.labels = i
                }
                s(e, "laya.ui.ComboBox", t);
                var n = e.prototype;
                return n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._button && this._button.destroy(e),
                    this._list && this._list.destroy(e),
                    this._button = null,
                    this._list = null,
                    this._itemColors = null,
                    this._labels = null,
                    this._selectHandler = null
                },
                n.createChildren = function() {
                    this.addChild(this._button = new B),
                    this._button.text.align = "left",
                    this._button.labelPadding = "0,0,0,5",
                    this._button.on("mousedown", this, this.onButtonMouseDown)
                },
                n._createList = function() {
                    this._list = new X,
                    this._scrollBarSkin && (this._list.vScrollBarSkin = this._scrollBarSkin),
                    this._setListEvent(this._list)
                },
                n._setListEvent = function(t) {
                    this._list.selectEnable = !0,
                    this._list.on("mousedown", this, this.onListDown),
                    this._list.mouseHandler = f.create(this, this.onlistItemMouse, null, !1),
                    this._list.scrollBar && this._list.scrollBar.on("mousedown", this, this.onScrollBarDown)
                },
                n.onListDown = function(t) {
                    t.stopPropagation()
                },
                n.onScrollBarDown = function(t) {
                    t.stopPropagation()
                },
                n.onButtonMouseDown = function(t) {
                    this.callLater(this.switchTo, [!this._isOpen])
                },
                n.changeList = function() {
                    this._listChanged = !1;
                    var t = this.width - 2,
                    e = this._itemColors[2];
                    this._itemHeight = this._itemSize + 6,
                    this._list.itemRender = this.itemRender || {
                        type: "Box",
                        child: [{
                            type: "Label",
                            props: {
                                name: "label",
                                x: 1,
                                padding: "3,3,3,3",
                                width: t,
                                height: this._itemHeight,
                                fontSize: this._itemSize,
                                color: e
                            }
                        }]
                    },
                    this._list.repeatY = this._visibleNum,
                    this._list.refresh()
                },
                n.onlistItemMouse = function(t, e) {
                    var i = t.type;
                    if ("mouseover" === i || "mouseout" === i) {
                        if (this._isCustomList) return;
                        var n = this._list.getCell(e);
                        if (!n) return;
                        var s = n.getChildByName("label");
                        s && ("mouseover" === i ? (s.bgColor = this._itemColors[0], s.color = this._itemColors[1]) : (s.bgColor = null, s.color = this._itemColors[2]))
                    } else "click" === i && (this.selectedIndex = e, this.isOpen = !1)
                },
                n.switchTo = function(t) {
                    this.isOpen = t
                },
                n.changeOpen = function() {
                    this.isOpen = !this._isOpen
                },
                n.changeItem = function() {
                    if (this._itemChanged = !1, this._listHeight = this._labels.length > 0 ? Math.min(this._visibleNum, this._labels.length) * this._itemHeight: this._itemHeight, !this._isCustomList) {
                        var t = this._list.graphics;
                        t.clear(),
                        t.drawRect(0, 0, this.width - 1, this._listHeight, this._itemColors[4], this._itemColors[3])
                    }
                    var e = this._list.array || [];
                    e.length = 0;
                    for (var i = 0,
                    n = this._labels.length; i < n; i++) e.push({
                        label: this._labels[i]
                    });
                    this._list.height = this._listHeight,
                    this._list.array = e
                },
                n.changeSelected = function() {
                    this._button.label = this.selectedLabel
                },
                n.removeList = function(t) {
                    this.isOpen = !1
                },
                r(0, n, "selectedIndex",
                function() {
                    return this._selectedIndex
                },
                function(t) {
                    this._selectedIndex != t && (this._selectedIndex = t, this._labels.length > 0 ? this.changeSelected() : this.callLater(this.changeSelected), this.event("change", [u.EMPTY.setTo("change", this, this)]), this._selectHandler && this._selectHandler.runWith(this._selectedIndex))
                }),
                r(0, n, "measureHeight",
                function() {
                    return this._button.height
                }),
                r(0, n, "skin",
                function() {
                    return this._button.skin
                },
                function(t) {
                    this._button.skin != t && (this._button.skin = t, this._listChanged = !0)
                }),
                r(0, n, "measureWidth",
                function() {
                    return this._button.width
                }),
                r(0, n, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._button.width = this._width,
                    this._itemChanged = !0,
                    this._listChanged = !0
                }),
                r(0, n, "selectedLabel",
                function() {
                    return this._selectedIndex > -1 && this._selectedIndex < this._labels.length ? this._labels[this._selectedIndex] : null
                },
                function(t) {
                    this.selectedIndex = this._labels.indexOf(t)
                }),
                r(0, n, "labels",
                function() {
                    return this._labels.join(",")
                },
                function(t) {
                    this._labels.length > 0 && (this.selectedIndex = -1),
                    t ? this._labels = t.split(",") : this._labels.length = 0,
                    this._itemChanged = !0
                }),
                r(0, n, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._button.height = this._height
                }),
                r(0, n, "selectHandler",
                function() {
                    return this._selectHandler
                },
                function(t) {
                    this._selectHandler = t
                }),
                r(0, n, "visibleNum",
                function() {
                    return this._visibleNum
                },
                function(t) {
                    this._visibleNum = t,
                    this._listChanged = !0
                }),
                r(0, n, "labelBold",
                function() {
                    return this._button.text.bold
                },
                function(t) {
                    this._button.text.bold = t
                }),
                r(0, n, "itemColors",
                function() {
                    return String(this._itemColors)
                },
                function(t) {
                    this._itemColors = T.fillArray(this._itemColors, t, String),
                    this._listChanged = !0
                }),
                r(0, n, "itemSize",
                function() {
                    return this._itemSize
                },
                function(t) {
                    this._itemSize = t,
                    this._listChanged = !0
                }),
                r(0, n, "scrollBar",
                function() {
                    return this.list.scrollBar
                }),
                r(0, n, "isOpen",
                function() {
                    return this._isOpen
                },
                function(t) {
                    if (this._isOpen != t) if (this._isOpen = t, this._button.selected = this._isOpen, this._isOpen) {
                        this._list || this._createList(),
                        this._listChanged && !this._isCustomList && this.changeList(),
                        this._itemChanged && this.changeItem();
                        var e = this.localToGlobal(y.TEMP.setTo(0, 0)),
                        n = e.y + this._button.height;
                        n = n + this._listHeight <= i.stage.height ? n: e.y - this._listHeight,
                        this._list.pos(e.x, n),
                        this._list.zOrder = 1001,
                        i._currentStage.addChild(this._list),
                        i.stage.once("mousedown", this, this.removeList),
                        this._list.selectedIndex = this._selectedIndex
                    } else this._list && this._list.removeSelf()
                }),
                r(0, n, "scrollBarSkin",
                function() {
                    return this._scrollBarSkin
                },
                function(t) {
                    this._scrollBarSkin = t
                }),
                r(0, n, "sizeGrid",
                function() {
                    return this._button.sizeGrid
                },
                function(t) {
                    this._button.sizeGrid = t
                }),
                r(0, n, "button",
                function() {
                    return this._button
                }),
                r(0, n, "list",
                function() {
                    return this._list || this._createList(),
                    this._list
                },
                function(t) {
                    t && (t.removeSelf(), this._isCustomList = !0, this._list = t, this._setListEvent(t), this._itemHeight = t.getCell(0).height + t.spaceY)
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e && Math.floor(e) == e || "string" == typeof e ? this.selectedIndex = parseInt(e) : e instanceof Array ? this.labels = e.join(",") : t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, n, "labelColors",
                function() {
                    return this._button.labelColors
                },
                function(t) {
                    this._button.labelColors != t && (this._button.labelColors = t)
                }),
                r(0, n, "labelPadding",
                function() {
                    return this._button.text.padding.join(",")
                },
                function(t) {
                    this._button.text.padding = T.fillArray(k.labelPadding, t, Number)
                }),
                r(0, n, "labelSize",
                function() {
                    return this._button.text.fontSize
                },
                function(t) {
                    this._button.text.fontSize = t
                }),
                r(0, n, "labelFont",
                function() {
                    return this._button.text.font
                },
                function(t) {
                    this._button.text.font = t
                }),
                r(0, n, "stateNum",
                function() {
                    return this._button.stateNum
                },
                function(t) {
                    this._button.stateNum = t
                }),
                e
            } (I),
            N = function(t) {
                function e(t) {
                    this.rollRatio = .95,
                    this.changeHandler = null,
                    this.scaleBar = !0,
                    this.autoHide = !1,
                    this.elasticDistance = 0,
                    this.elasticBackTime = 500,
                    this.upButton = null,
                    this.downButton = null,
                    this.slider = null,
                    this._scrollSize = 1,
                    this._skin = null,
                    this._thumbPercent = 1,
                    this._target = null,
                    this._lastPoint = null,
                    this._lastOffset = 0,
                    this._checkElastic = !1,
                    this._isElastic = !1,
                    this._value = NaN,
                    this._hide = !1,
                    this._clickOnly = !0,
                    this._offsets = null,
                    e.__super.call(this),
                    this._showButtons = M.showButtons,
                    this._touchScrollEnable = M.touchScrollEnable,
                    this._mouseWheelEnable = M.mouseWheelEnable,
                    this.skin = t,
                    this.max = 1
                }
                s(e, "laya.ui.ScrollBar", t);
                var n = e.prototype;
                return n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    this.stopScroll(),
                    this.target = null,
                    t.prototype.destroy.call(this, e),
                    this.upButton && this.upButton.destroy(e),
                    this.downButton && this.downButton.destroy(e),
                    this.slider && this.slider.destroy(e),
                    this.upButton = this.downButton = null,
                    this.slider = null,
                    this.changeHandler = null,
                    this._offsets = null
                },
                n.createChildren = function() {
                    this.addChild(this.slider = new F),
                    this.addChild(this.upButton = new B),
                    this.addChild(this.downButton = new B)
                },
                n.initialize = function() {
                    this.slider.showLabel = !1,
                    this.slider.on("change", this, this.onSliderChange),
                    this.slider.setSlider(0, 0, 0),
                    this.upButton.on("mousedown", this, this.onButtonMouseDown),
                    this.downButton.on("mousedown", this, this.onButtonMouseDown)
                },
                n.onSliderChange = function() {
                    this.value = this.slider.value
                },
                n.onButtonMouseDown = function(t) {
                    var e = t.currentTarget === this.upButton;
                    this.slide(e),
                    i.timer.once(k.scrollBarDelayTime, this, this.startLoop, [e]),
                    i.stage.once("mouseup", this, this.onStageMouseUp)
                },
                n.startLoop = function(t) {
                    i.timer.frameLoop(1, this, this.slide, [t])
                },
                n.slide = function(t) {
                    t ? this.value -= this._scrollSize: this.value += this._scrollSize
                },
                n.onStageMouseUp = function(t) {
                    i.timer.clear(this, this.startLoop),
                    i.timer.clear(this, this.slide)
                },
                n.changeScrollBar = function() {
                    this.upButton.visible = this._showButtons,
                    this.downButton.visible = this._showButtons,
                    this._showButtons && (this.upButton.skin = this._skin.replace(".png", "$up.png"), this.downButton.skin = this._skin.replace(".png", "$down.png")),
                    this.slider.isVertical ? this.slider.y = this._showButtons ? this.upButton.height: 0 : this.slider.x = this._showButtons ? this.upButton.width: 0,
                    this.resetPositions()
                },
                n.changeSize = function() {
                    t.prototype.changeSize.call(this),
                    this.resetPositions(),
                    this.event("change"),
                    this.changeHandler && this.changeHandler.runWith(this.value)
                },
                n.resetPositions = function() {
                    this.slider.isVertical ? this.slider.height = this.height - (this._showButtons ? this.upButton.height + this.downButton.height: 0) : this.slider.width = this.width - (this._showButtons ? this.upButton.width + this.downButton.width: 0),
                    this.resetButtonPosition()
                },
                n.resetButtonPosition = function() {
                    this.slider.isVertical ? this.downButton.y = this.slider.y + this.slider.height: this.downButton.x = this.slider.x + this.slider.width
                },
                n.setScroll = function(t, e, i) {
                    this.runCallLater(this.changeSize),
                    this.slider.setSlider(t, e, i),
                    this.slider.bar.visible = e > 0,
                    !this._hide && this.autoHide && (this.visible = !1)
                },
                n.onTargetMouseWheel = function(t) {
                    this.value -= t.delta * this._scrollSize,
                    this.target = this._target
                },
                n.onTargetMouseDown = function(t) {
                    this._clickOnly = !0,
                    this._lastOffset = 0,
                    this._checkElastic = !1,
                    this._lastPoint || (this._lastPoint = new y),
                    this._lastPoint.setTo(i.stage.mouseX, i.stage.mouseY),
                    i.timer.clear(this, this.tweenMove),
                    S.clearTween(this),
                    i.stage.once("mouseup", this, this.onStageMouseUp2),
                    i.stage.once("mouseout", this, this.onStageMouseUp2),
                    i.timer.frameLoop(1, this, this.loop)
                },
                n.loop = function() {
                    var t = i.stage.mouseY,
                    e = i.stage.mouseX;
                    if (this._lastOffset = this.isVertical ? t - this._lastPoint.y: e - this._lastPoint.x, this._clickOnly) {
                        if (! (Math.abs(this._lastOffset * (this.isVertical ? i.stage._canvasTransform.getScaleY() : i.stage._canvasTransform.getScaleX())) > 1)) return;
                        this._clickOnly = !1,
                        this._offsets || (this._offsets = []),
                        this._offsets.length = 0,
                        this._target.mouseEnabled = !1,
                        !this.hide && this.autoHide && (this.alpha = 1, this.visible = !0),
                        this.event("start")
                    }
                    this._offsets.push(this._lastOffset),
                    this._lastPoint.x = e,
                    this._lastPoint.y = t,
                    0 !== this._lastOffset && (this._checkElastic || (this.elasticDistance > 0 ? this._checkElastic || 0 == this._lastOffset || (this._lastOffset > 0 && this._value <= this.min || this._lastOffset < 0 && this._value >= this.max ? (this._isElastic = !0, this._checkElastic = !0) : this._isElastic = !1) : this._checkElastic = !0), this._isElastic ? this._value <= this.min ? this.value -= this._lastOffset * Math.max(0, 1 - (this.min - this._value) / this.elasticDistance) : this._value >= this.max && (this.value -= this._lastOffset * Math.max(0, 1 - (this._value - this.max) / this.elasticDistance)) : this.value -= this._lastOffset)
                },
                n.onStageMouseUp2 = function(t) {
                    if (i.stage.off("mouseup", this, this.onStageMouseUp2), i.stage.off("mouseout", this, this.onStageMouseUp2), i.timer.clear(this, this.loop), !this._clickOnly) if (this._target.mouseEnabled = !0, this._isElastic) this._value < this.min ? S.to(this, {
                        value: this.min
                    },
                    this.elasticBackTime, l.sineOut, f.create(this, this.elasticOver)) : this._value > this.max && S.to(this, {
                        value: this.max
                    },
                    this.elasticBackTime, l.sineOut, f.create(this, this.elasticOver));
                    else {
                        if (!this._offsets) return;
                        this._offsets.length < 1 && (this._offsets[0] = this.isVertical ? i.stage.mouseY - this._lastPoint.y: i.stage.mouseX - this._lastPoint.x);
                        for (var e = 0,
                        n = Math.min(this._offsets.length, 3), s = 0; s < n; s++) e += this._offsets[this._offsets.length - 1 - s];
                        if (this._lastOffset = e / n, (e = Math.abs(this._lastOffset)) < 2) return void this.event("end");
                        e > 60 && (this._lastOffset = this._lastOffset > 0 ? 60 : -60);
                        var r = Math.round(Math.abs(this.elasticDistance * (this._lastOffset / 240)));
                        i.timer.frameLoop(1, this, this.tweenMove, [r])
                    }
                },
                n.elasticOver = function() {
                    this._isElastic = !1,
                    !this.hide && this.autoHide && S.to(this, {
                        alpha: 0
                    },
                    500),
                    this.event("end")
                },
                n.tweenMove = function(t) {
                    this._lastOffset *= this.rollRatio;
                    var e = NaN;
                    if (t > 0 && (this._lastOffset > 0 && this.value <= this.min ? (this._isElastic = !0, e = .5 * -(this.min - t - this.value), this._lastOffset > e && (this._lastOffset = e)) : this._lastOffset < 0 && this.value >= this.max && (this._isElastic = !0, e = .5 * -(this.max + t - this.value), this._lastOffset < e && (this._lastOffset = e))), this.value -= this._lastOffset, Math.abs(this._lastOffset) < 1) {
                        if (i.timer.clear(this, this.tweenMove), this._isElastic) return void(this._value < this.min ? S.to(this, {
                            value: this.min
                        },
                        this.elasticBackTime, l.sineOut, f.create(this, this.elasticOver)) : this._value > this.max ? S.to(this, {
                            value: this.max
                        },
                        this.elasticBackTime, l.sineOut, f.create(this, this.elasticOver)) : this.elasticOver());
                        this.event("end"),
                        !this.hide && this.autoHide && S.to(this, {
                            alpha: 0
                        },
                        500)
                    }
                },
                n.stopScroll = function() {
                    this.onStageMouseUp2(null),
                    i.timer.clear(this, this.tweenMove),
                    S.clearTween(this)
                },
                r(0, n, "measureHeight",
                function() {
                    return this.slider.isVertical ? 100 : this.slider.height
                }),
                r(0, n, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    this._skin != t && (this._skin = t, this.slider.skin = this._skin, this.callLater(this.changeScrollBar))
                }),
                r(0, n, "max",
                function() {
                    return this.slider.max
                },
                function(t) {
                    this.slider.max = t
                }),
                r(0, n, "showButtons",
                function() {
                    return this._showButtons
                },
                function(t) {
                    this._showButtons = t,
                    this.callLater(this.changeScrollBar)
                }),
                r(0, n, "measureWidth",
                function() {
                    return this.slider.isVertical ? this.slider.width: 100
                }),
                r(0, n, "min",
                function() {
                    return this.slider.min
                },
                function(t) {
                    this.slider.min = t
                }),
                r(0, n, "value",
                function() {
                    return this._value
                },
                function(t) {
                    t !== this._value && (this._isElastic ? this._value = t: (this.slider.value = t, this._value = this.slider.value), this.event("change"), this.changeHandler && this.changeHandler.runWith(this.value))
                }),
                r(0, n, "isVertical",
                function() {
                    return this.slider.isVertical
                },
                function(t) {
                    this.slider.isVertical = t
                }),
                r(0, n, "sizeGrid",
                function() {
                    return this.slider.sizeGrid
                },
                function(t) {
                    this.slider.sizeGrid = t
                }),
                r(0, n, "scrollSize",
                function() {
                    return this._scrollSize
                },
                function(t) {
                    this._scrollSize = t
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e || "string" == typeof e ? this.value = Number(e) : t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, n, "thumbPercent",
                function() {
                    return this._thumbPercent
                },
                function(t) {
                    this.runCallLater(this.changeScrollBar),
                    this.runCallLater(this.changeSize),
                    t = t >= 1 ? .99 : t,
                    this._thumbPercent = t,
                    this.scaleBar && (this.slider.isVertical ? this.slider.bar.height = Math.max(this.slider.height * t, k.scrollBarMinNum) : this.slider.bar.width = Math.max(this.slider.width * t, k.scrollBarMinNum))
                }),
                r(0, n, "target",
                function() {
                    return this._target
                },
                function(t) {
                    this._target && (this._target.off("mousewheel", this, this.onTargetMouseWheel), this._target.off("mousedown", this, this.onTargetMouseDown)),
                    this._target = t,
                    t && (this._mouseWheelEnable && this._target.on("mousewheel", this, this.onTargetMouseWheel), this._touchScrollEnable && this._target.on("mousedown", this, this.onTargetMouseDown))
                }),
                r(0, n, "hide",
                function() {
                    return this._hide
                },
                function(t) {
                    this._hide = t,
                    this.visible = !t
                }),
                r(0, n, "touchScrollEnable",
                function() {
                    return this._touchScrollEnable
                },
                function(t) {
                    this._touchScrollEnable = t,
                    this.target = this._target
                }),
                r(0, n, "mouseWheelEnable",
                function() {
                    return this._mouseWheelEnable
                },
                function(t) {
                    this._mouseWheelEnable = t
                }),
                r(0, n, "tick",
                function() {
                    return this.slider.tick
                },
                function(t) {
                    this.slider.tick = t
                }),
                e
            } (I),
            F = function(t) {
                function e(t) {
                    this.changeHandler = null,
                    this.isVertical = !0,
                    this.showLabel = !0,
                    this._allowClickBack = !1,
                    this._max = 100,
                    this._min = 0,
                    this._tick = 1,
                    this._value = 0,
                    this._skin = null,
                    this._bg = null,
                    this._progress = null,
                    this._bar = null,
                    this._tx = NaN,
                    this._ty = NaN,
                    this._maxMove = NaN,
                    this._globalSacle = null,
                    e.__super.call(this),
                    this.skin = t
                }
                s(e, "laya.ui.Slider", t);
                var a = e.prototype;
                return a.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._bg && this._bg.destroy(e),
                    this._bar && this._bar.destroy(e),
                    this._progress && this._progress.destroy(e),
                    this._bg = null,
                    this._bar = null,
                    this._progress = null,
                    this.changeHandler = null
                },
                a.createChildren = function() {
                    this.addChild(this._bg = new U),
                    this.addChild(this._bar = new B)
                },
                a.initialize = function() {
                    this._bar.on("mousedown", this, this.onBarMouseDown),
                    this._bg.sizeGrid = this._bar.sizeGrid = "4,4,4,4,0",
                    this._progress && (this._progress.sizeGrid = this._bar.sizeGrid),
                    this.allowClickBack = !0
                },
                a.onBarMouseDown = function(t) {
                    this._globalSacle || (this._globalSacle = new y),
                    this._globalSacle.setTo(this.globalScaleX || .01, this.globalScaleY || .01),
                    this._maxMove = this.isVertical ? this.height - this._bar.height: this.width - this._bar.width,
                    this._tx = i.stage.mouseX,
                    this._ty = i.stage.mouseY,
                    i.stage.on("mousemove", this, this.mouseMove),
                    i.stage.once("mouseup", this, this.mouseUp),
                    i.stage.once("mouseout", this, this.mouseUp),
                    this.showValueText()
                },
                a.showValueText = function() {
                    if (this.showLabel) {
                        var t = laya.ui.Slider.label;
                        this.addChild(t),
                        t.textField.changeText(this._value + ""),
                        this.isVertical ? (t.x = this._bar.x + 20, t.y = .5 * (this._bar.height - t.height) + this._bar.y) : (t.y = this._bar.y - 20, t.x = .5 * (this._bar.width - t.width) + this._bar.x)
                    }
                },
                a.hideValueText = function() {
                    laya.ui.Slider.label && laya.ui.Slider.label.removeSelf()
                },
                a.mouseUp = function(t) {
                    i.stage.off("mousemove", this, this.mouseMove),
                    i.stage.off("mouseup", this, this.mouseUp),
                    i.stage.off("mouseout", this, this.mouseUp),
                    this.sendChangeEvent("changed"),
                    this.hideValueText()
                },
                a.mouseMove = function(t) {
                    var e = this._value;
                    this.isVertical ? (this._bar.y += (i.stage.mouseY - this._ty) / this._globalSacle.y, this._bar.y > this._maxMove ? this._bar.y = this._maxMove: this._bar.y < 0 && (this._bar.y = 0), this._value = this._bar.y / this._maxMove * (this._max - this._min) + this._min, this._progress && (this._progress.height = this._bar.y + .5 * this._bar.height)) : (this._bar.x += (i.stage.mouseX - this._tx) / this._globalSacle.x, this._bar.x > this._maxMove ? this._bar.x = this._maxMove: this._bar.x < 0 && (this._bar.x = 0), this._value = this._bar.x / this._maxMove * (this._max - this._min) + this._min, this._progress && (this._progress.width = this._bar.x + .5 * this._bar.width)),
                    this._tx = i.stage.mouseX,
                    this._ty = i.stage.mouseY;
                    var n = Math.pow(10, (this._tick + "").length - 1);
                    this._value = Math.round(Math.round(this._value / this._tick) * this._tick * n) / n,
                    this._value != e && this.sendChangeEvent(),
                    this.showValueText()
                },
                a.sendChangeEvent = function(t) {
                    void 0 === t && (t = "change"),
                    this.event(t),
                    this.changeHandler && this.changeHandler.runWith(this._value)
                },
                a.setBarPoint = function() {
                    this.isVertical ? this._bar.x = Math.round(.5 * (this._bg.width - this._bar.width)) : this._bar.y = Math.round(.5 * (this._bg.height - this._bar.height))
                },
                a.changeSize = function() {
                    t.prototype.changeSize.call(this),
                    this.isVertical ? this._bg.height = this.height: this._bg.width = this.width,
                    this.setBarPoint(),
                    this.changeValue()
                },
                a.setSlider = function(t, e, i) {
                    this._value = -1,
                    this._min = t,
                    this._max = e > t ? e: t,
                    this.value = i < t ? t: i > e ? e: i
                },
                a.changeValue = function() {
                    var t = Math.pow(10, (this._tick + "").length - 1);
                    this._value = Math.round(Math.round(this._value / this._tick) * this._tick * t) / t,
                    this._value = this._value > this._max ? this._max: this._value < this._min ? this._min: this._value;
                    var e = this._max - this._min;
                    0 === e && (e = 1),
                    this.isVertical ? (this._bar.y = (this._value - this._min) / e * (this.height - this._bar.height), this._progress && (this._progress.height = this._bar.y + .5 * this._bar.height)) : (this._bar.x = (this._value - this._min) / e * (this.width - this._bar.width), this._progress && (this._progress.width = this._bar.x + .5 * this._bar.width))
                },
                a.onBgMouseDown = function(t) {
                    var e = this._bg.getMousePoint();
                    this.isVertical ? this.value = e.y / (this.height - this._bar.height) * (this._max - this._min) + this._min: this.value = e.x / (this.width - this._bar.width) * (this._max - this._min) + this._min
                },
                r(0, a, "measureHeight",
                function() {
                    return Math.max(this._bg.height, this._bar.height)
                }),
                r(0, a, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    if (this._skin != t) {
                        this._skin = t,
                        this._bg.skin = this._skin,
                        this._bar.skin = this._skin.replace(".png", "$bar.png");
                        var e = this._skin.replace(".png", "$progress.png");
                        g.getRes(e) && (this._progress || (this.addChild(this._progress = new U), this._progress.sizeGrid = this._bar.sizeGrid, this.setChildIndex(this._progress, 1)), this._progress.skin = e),
                        this.setBarPoint(),
                        this.callLater(this.changeValue)
                    }
                }),
                r(0, a, "allowClickBack",
                function() {
                    return this._allowClickBack
                },
                function(t) {
                    this._allowClickBack != t && (this._allowClickBack = t, t ? this._bg.on("mousedown", this, this.onBgMouseDown) : this._bg.off("mousedown", this, this.onBgMouseDown))
                }),
                r(0, a, "max",
                function() {
                    return this._max
                },
                function(t) {
                    this._max != t && (this._max = t, this.callLater(this.changeValue))
                }),
                r(0, a, "measureWidth",
                function() {
                    return Math.max(this._bg.width, this._bar.width)
                }),
                r(0, a, "tick",
                function() {
                    return this._tick
                },
                function(t) {
                    this._tick != t && (this._tick = t, this.callLater(this.changeValue))
                }),
                r(0, a, "sizeGrid",
                function() {
                    return this._bg.sizeGrid
                },
                function(t) {
                    this._bg.sizeGrid = t,
                    this._bar.sizeGrid = t,
                    this._progress && (this._progress.sizeGrid = this._bar.sizeGrid)
                }),
                r(0, a, "min",
                function() {
                    return this._min
                },
                function(t) {
                    this._min != t && (this._min = t, this.callLater(this.changeValue))
                }),
                r(0, a, "value",
                function() {
                    return this._value
                },
                function(t) {
                    if (this._value != t) {
                        var e = this._value;
                        this._value = t,
                        this.changeValue(),
                        this._value != e && this.sendChangeEvent()
                    }
                }),
                r(0, a, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e || "string" == typeof e ? this.value = Number(e) : t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, a, "bar",
                function() {
                    return this._bar
                }),
                n(e, ["label",
                function() {
                    return this.label = new G
                }]),
                e
            } (I),
            U = function(t) {
                function e(t) {
                    this._bitmap = null,
                    this._skin = null,
                    this._group = null,
                    e.__super.call(this),
                    this.skin = t
                }
                s(e, "laya.ui.Image", t);
                var n = e.prototype;
                return n.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, !0),
                    this._bitmap && this._bitmap.destroy(),
                    this._bitmap = null
                },
                n.dispose = function() {
                    this.destroy(!0),
                    i.loader.clearRes(this._skin)
                },
                n.createChildren = function() {
                    this.graphics = this._bitmap = new R,
                    this._bitmap.autoCacheCmd = !1
                },
                n.setSource = function(t, e) {
                    t === this._skin && e && (this.source = e, this.onCompResize())
                },
                r(0, n, "source",
                function() {
                    return this._bitmap.source
                },
                function(t) {
                    this._bitmap && (this._bitmap.source = t, this.event("loaded"), this.repaint())
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "string" == typeof e ? this.skin = e: t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, n, "measureHeight",
                function() {
                    return this._bitmap.height
                }),
                r(0, n, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    if (this._skin != t) if (this._skin = t, t) {
                        var e = g.getRes(t);
                        e ? (this.source = e, this.onCompResize()) : i.loader.load(this._skin, f.create(this, this.setSource, [this._skin]), null, "image", 1, !0, this._group)
                    } else this.source = null
                }),
                r(0, n, "group",
                function() {
                    return this._group
                },
                function(t) {
                    t && this._skin && g.setGroup(this._skin, t),
                    this._group = t
                }),
                r(0, n, "sizeGrid",
                function() {
                    return this._bitmap.sizeGrid ? this._bitmap.sizeGrid.join(",") : null
                },
                function(t) {
                    this._bitmap.sizeGrid = T.fillArray(k.defaultSizeGrid, t, Number)
                }),
                r(0, n, "measureWidth",
                function() {
                    return this._bitmap.width
                }),
                r(0, n, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._bitmap.width = 0 == e ? 1e-7: e
                }),
                r(0, n, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._bitmap.height = 0 == e ? 1e-7: e
                }),
                e
            } (I),
            G = function(t) {
                function e(t) {
                    this._tf = null,
                    e.__super.call(this),
                    void 0 === t && (t = ""),
                    c.defaultColor = k.labelColor,
                    this.text = t
                }
                s(e, "laya.ui.Label", t);
                var i = e.prototype;
                return i.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._tf = null
                },
                i.createChildren = function() {
                    this.addChild(this._tf = new x)
                },
                i.changeText = function(t) {
                    this._tf.changeText(t)
                },
                r(0, i, "padding",
                function() {
                    return this._tf.padding.join(",")
                },
                function(t) {
                    this._tf.padding = T.fillArray(k.labelPadding, t, Number)
                }),
                r(0, i, "bold",
                function() {
                    return this._tf.bold
                },
                function(t) {
                    this._tf.bold = t
                }),
                r(0, i, "align",
                function() {
                    return this._tf.align
                },
                function(t) {
                    this._tf.align = t
                }),
                r(0, i, "text",
                function() {
                    return this._tf.text
                },
                function(t) {
                    this._tf.text != t && (t && (t = T.adptString(t + "")), this._tf.text = t, this.event("change"))
                }),
                r(0, i, "italic",
                function() {
                    return this._tf.italic
                },
                function(t) {
                    this._tf.italic = t
                }),
                r(0, i, "wordWrap",
                function() {
                    return this._tf.wordWrap
                },
                function(t) {
                    this._tf.wordWrap = t
                }),
                r(0, i, "font",
                function() {
                    return this._tf.font
                },
                function(t) {
                    this._tf.font = t
                }),
                r(0, i, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e || "string" == typeof e ? this.text = e + "": t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, i, "color",
                function() {
                    return this._tf.color
                },
                function(t) {
                    this._tf.color = t
                }),
                r(0, i, "valign",
                function() {
                    return this._tf.valign
                },
                function(t) {
                    this._tf.valign = t
                }),
                r(0, i, "leading",
                function() {
                    return this._tf.leading
                },
                function(t) {
                    this._tf.leading = t
                }),
                r(0, i, "fontSize",
                function() {
                    return this._tf.fontSize
                },
                function(t) {
                    this._tf.fontSize = t
                }),
                r(0, i, "bgColor",
                function() {
                    return this._tf.bgColor
                },
                function(t) {
                    this._tf.bgColor = t
                }),
                r(0, i, "borderColor",
                function() {
                    return this._tf.borderColor
                },
                function(t) {
                    this._tf.borderColor = t
                }),
                r(0, i, "stroke",
                function() {
                    return this._tf.stroke
                },
                function(t) {
                    this._tf.stroke = t
                }),
                r(0, i, "strokeColor",
                function() {
                    return this._tf.strokeColor
                },
                function(t) {
                    this._tf.strokeColor = t
                }),
                r(0, i, "textField",
                function() {
                    return this._tf
                }),
                r(0, i, "measureWidth",
                function() {
                    return this._tf.width
                }),
                r(0, i, "measureHeight",
                function() {
                    return this._tf.height
                }),
                r(0, i, "width",
                function() {
                    return this._width || this._tf.text ? t.prototype._$get_width.call(this) : 0
                },
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._tf.width = e
                }),
                r(0, i, "height",
                function() {
                    return this._height || this._tf.text ? t.prototype._$get_height.call(this) : 0
                },
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._tf.height = e
                }),
                r(0, i, "overflow",
                function() {
                    return this._tf.overflow
                },
                function(t) {
                    this._tf.overflow = t
                }),
                r(0, i, "underline",
                function() {
                    return this._tf.underline
                },
                function(t) {
                    this._tf.underline = t
                }),
                r(0, i, "underlineColor",
                function() {
                    return this._tf.underlineColor
                },
                function(t) {
                    this._tf.underlineColor = t
                }),
                e
            } (I),
            W = function(t) {
                function e(t) {
                    this.changeHandler = null,
                    this._bg = null,
                    this._bar = null,
                    this._skin = null,
                    this._value = .5,
                    e.__super.call(this),
                    this.skin = t
                }
                s(e, "laya.ui.ProgressBar", t);
                var i = e.prototype;
                return i.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._bg && this._bg.destroy(e),
                    this._bar && this._bar.destroy(e),
                    this._bg = this._bar = null,
                    this.changeHandler = null
                },
                i.createChildren = function() {
                    this.addChild(this._bg = new U),
                    this.addChild(this._bar = new U),
                    this._bar._bitmap.autoCacheCmd = !1
                },
                i.changeValue = function() {
                    if (this.sizeGrid) {
                        var t = this.sizeGrid.split(","),
                        e = Number(t[3]),
                        i = Number(t[1]),
                        n = this.width - e - i,
                        s = n * this._value;
                        this._bar.width = e + i + s,
                        this._bar.visible = this._bar.width > e + i
                    } else this._bar.width = this.width * this._value
                },
                r(0, i, "measureHeight",
                function() {
                    return this._bg.height
                }),
                r(0, i, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    this._skin != t && (this._skin = t, this._bg.skin = this._skin, this._bar.skin = this._skin.replace(".png", "$bar.png"), this.callLater(this.changeValue))
                }),
                r(0, i, "measureWidth",
                function() {
                    return this._bg.width
                }),
                r(0, i, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._bg.height = this._height,
                    this._bar.height = this._height
                }),
                r(0, i, "bar",
                function() {
                    return this._bar
                }),
                r(0, i, "value",
                function() {
                    return this._value
                },
                function(t) {
                    this._value != t && (t = t > 1 ? 1 : t < 0 ? 0 : t, this._value = t, this.callLater(this.changeValue), this.event("change"), this.changeHandler && this.changeHandler.runWith(t))
                }),
                r(0, i, "bg",
                function() {
                    return this._bg
                }),
                r(0, i, "sizeGrid",
                function() {
                    return this._bg.sizeGrid
                },
                function(t) {
                    this._bg.sizeGrid = this._bar.sizeGrid = t
                }),
                r(0, i, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._bg.width = this._width,
                    this.callLater(this.changeValue)
                }),
                r(0, i, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e || "string" == typeof e ? this.value = Number(e) : t.prototype._$set_dataSource.call(this, e)
                }),
                e
            } (I),
            H = (function(t) {
                function e() {
                    this._tipBox = null,
                    this._tipText = null,
                    this._defaultTipHandler = null,
                    e.__super.call(this),
                    this._tipBox = new I,
                    this._tipBox.addChild(this._tipText = new x),
                    this._tipText.x = this._tipText.y = 5,
                    this._tipText.color = e.tipTextColor,
                    this._defaultTipHandler = this._showDefaultTip,
                    i.stage.on("showtip", this, this._onStageShowTip),
                    i.stage.on("hidetip", this, this._onStageHideTip),
                    this.zOrder = 1100
                }
                s(e, "laya.ui.TipManager", t);
                var n = e.prototype;
                n._onStageHideTip = function(t) {
                    i.timer.clear(this, this._showTip),
                    this.closeAll(),
                    this.removeSelf()
                },
                n._onStageShowTip = function(t) {
                    i.timer.once(e.tipDelay, this, this._showTip, [t], !0)
                },
                n._showTip = function(t) {
                    if ("string" == typeof t) {
                        var e = String(t);
                        Boolean(e) && this._defaultTipHandler(e)
                    } else t instanceof laya.utils.Handler ? t.run() : "function" == typeof t && t.apply();
                    i.stage.on("mousemove", this, this._onStageMouseMove),
                    i.stage.on("mousedown", this, this._onStageMouseDown),
                    this._onStageMouseMove(null)
                },
                n._onStageMouseDown = function(t) {
                    this.closeAll()
                },
                n._onStageMouseMove = function(t) {
                    this._showToStage(this, e.offsetX, e.offsetY)
                },
                n._showToStage = function(t, e, n) {
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 0);
                    var s = t.getBounds();
                    t.x = i.stage.mouseX + e,
                    t.y = i.stage.mouseY + n,
                    t.x + s.width > i.stage.width && (t.x -= s.width + e),
                    t.y + s.height > i.stage.height && (t.y -= s.height + n)
                },
                n.closeAll = function() {
                    i.timer.clear(this, this._showTip),
                    i.stage.off("mousemove", this, this._onStageMouseMove),
                    i.stage.off("mousedown", this, this._onStageMouseDown),
                    this.removeChildren()
                },
                n.showDislayTip = function(t) {
                    this.addChild(t),
                    this._showToStage(this),
                    i._currentStage.addChild(this)
                },
                n._showDefaultTip = function(t) {
                    this._tipText.text = t;
                    var n = this._tipBox.graphics;
                    n.clear(),
                    n.drawRect(0, 0, this._tipText.width + 10, this._tipText.height + 10, e.tipBackColor),
                    this.addChild(this._tipBox),
                    this._showToStage(this),
                    i._currentStage.addChild(this)
                },
                r(0, n, "defaultTipHandler",
                function() {
                    return this._defaultTipHandler
                },
                function(t) {
                    this._defaultTipHandler = t
                }),
                e.offsetX = 10,
                e.offsetY = 15,
                e.tipTextColor = "#ffffff",
                e.tipBackColor = "#111111",
                e.tipDelay = 200
            } (I),
            function(t) {
                function e() {
                    this._idMap = null,
                    this._aniList = null,
                    e.__super.call(this)
                }
                s(e, "laya.ui.View", t);
                var r = e.prototype;
                return r.createView = function(t) {
                    if (t.animations && !this._idMap && (this._idMap = {}), e.createComp(t, this, this), t.animations) {
                        var i, n, s = [],
                        r = t.animations,
                        a = 0,
                        o = r.length;
                        for (a = 0; a < o; a++) {
                            switch (i = new d, n = r[a], i._setUp(this._idMap, n), this[n.name] = i, i._setControlNode(this), n.action) {
                            case 1:
                                i.play(0, !1);
                                break;
                            case 2:
                                i.play(0, !0)
                            }
                            s.push(i)
                        }
                        this._aniList = s
                    }
                    this._width > 0 && null == t.props.hitTestPrior && !this.mouseThrough && (this.hitTestPrior = !0)
                },
                r.loadUI = function(t) {
                    var i = e.uiMap[t];
                    i && this.createView(i)
                },
                r.destroy = function(t) {
                    void 0 === t && (t = !0),
                    this._aniList && (this._aniList.length = 0),
                    this._idMap = null,
                    this._aniList = null,
                    laya.ui.Component.prototype.destroy.call(this, t)
                },
                e._regs = function() {
                    var t;
                    for (t in e.uiClassMap) o.regClass(t, e.uiClassMap[t])
                },
                e.createComp = function(t, n, s) {
                    if (! (n = n || e.getCompInstance(t))) return console.warn("can not create:" + t.type),
                    null;
                    var r = t.child;
                    if (r) for (var a = 0,
                    h = r.length; a < h; a++) {
                        var l = r[a];
                        if (!n.hasOwnProperty("itemRender") || "render" != l.props.name && "render" !== l.props.renderType) if ("Graphic" == l.type) o.addGraphicsToSprite(l, n);
                        else if (o.isDrawType(l.type)) o.addGraphicToSprite(l, n, !0);
                        else {
                            var u = e.createComp(l, null, s);
                            "Script" == l.type ? "owner" in u ? u.owner = n: "target" in u && (u.target = n) : "mask" == l.props.renderType || "mask" == l.props.name ? n.mask = u: u instanceof laya.display.Sprite && n.addChild(u)
                        } else n.itemRender = l
                    }
                    var c = t.props;
                    for (var d in c) {
                        var _ = c[d];
                        e.setCompValue(n, d, _, s)
                    }
                    return i.__typeof(n, "laya.ui.IItem") && n.initItems(),
                    t.compId && s && s._idMap && (s._idMap[t.compId] = n),
                    n
                },
                e.setCompValue = function(t, e, i, n) {
                    "var" === e && n ? n[i] = t: t[e] = "true" === i || "false" !== i && i
                },
                e.getCompInstance = function(t) {
                    var n, s = t.props ? t.props.runtime: null;
                    return n = s ? e.viewClassMap[s] || e.uiClassMap[s] || i.__classmap[s] : e.uiClassMap[t.type],
                    t.props && t.props.hasOwnProperty("renderType") && "instance" == t.props.renderType ? n.instance: n ? new n: null
                },
                e.regComponent = function(t, i) {
                    e.uiClassMap[t] = i,
                    o.regClass(t, i)
                },
                e.regViewRuntime = function(t, i) {
                    e.viewClassMap[t] = i
                },
                e.uiMap = {},
                e.viewClassMap = {},
                n(e, ["uiClassMap",
                function() {
                    return this.uiClassMap = {
                        ViewStack: Z,
                        LinkButton: B,
                        TextArea: ht,
                        ColorPicker: A,
                        Box: D,
                        Button: B,
                        CheckBox: z,
                        Clip: E,
                        ComboBox: O,
                        Component: I,
                        HScrollBar: V,
                        HSlider: K,
                        Image: U,
                        Label: G,
                        List: X,
                        Panel: $,
                        ProgressBar: W,
                        Radio: Q,
                        RadioGroup: at,
                        ScrollBar: N,
                        Slider: F,
                        Tab: ot,
                        TextInput: et,
                        View: e,
                        VScrollBar: tt,
                        VSlider: it,
                        Tree: J,
                        HBox: st,
                        VBox: rt,
                        Sprite: w,
                        Animation: a,
                        Text: x,
                        FontClip: j
                    }
                }]),
                e.__init$ = function() {
                    e._regs()
                },
                e
            } (D)),
            z = function(t) {
                function e(t, i) {
                    void 0 === i && (i = ""),
                    e.__super.call(this, t, i)
                }
                s(e, "laya.ui.CheckBox", t);
                var i = e.prototype;
                return i.preinitialize = function() {
                    laya.ui.Component.prototype.preinitialize.call(this),
                    this.toggle = !0,
                    this._autoSize = !1
                },
                i.initialize = function() {
                    t.prototype.initialize.call(this),
                    this.createText(),
                    this._text.align = "left",
                    this._text.valign = "top",
                    this._text.width = 0
                },
                r(0, i, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "boolean" == typeof e ? this.selected = e: "string" == typeof e ? this.selected = "true" === e: t.prototype._$set_dataSource.call(this, e)
                }),
                e
            } (B),
            Y = function(t) {
                function e() {
                    this._space = 0,
                    this._align = "none",
                    this._itemChanged = !1,
                    e.__super.call(this)
                }
                s(e, "laya.ui.LayoutBox", t);
                var i = e.prototype;
                return i.addChild = function(t) {
                    return t.on("resize", this, this.onResize),
                    this._setItemChanged(),
                    laya.display.Node.prototype.addChild.call(this, t)
                },
                i.onResize = function(t) {
                    this._setItemChanged()
                },
                i.addChildAt = function(t, e) {
                    return t.on("resize", this, this.onResize),
                    this._setItemChanged(),
                    laya.display.Node.prototype.addChildAt.call(this, t, e)
                },
                i.removeChild = function(t) {
                    return t.off("resize", this, this.onResize),
                    this._setItemChanged(),
                    laya.display.Node.prototype.removeChild.call(this, t)
                },
                i.removeChildAt = function(t) {
                    return this.getChildAt(t).off("resize", this, this.onResize),
                    this._setItemChanged(),
                    laya.display.Node.prototype.removeChildAt.call(this, t)
                },
                i.refresh = function() {
                    this._setItemChanged()
                },
                i.changeItems = function() {
                    this._itemChanged = !1
                },
                i.sortItem = function(t) {
                    t && t.sort(function(t, e) {
                        return t.y - e.y
                    })
                },
                i._setItemChanged = function() {
                    this._itemChanged || (this._itemChanged = !0, this.callLater(this.changeItems))
                },
                r(0, i, "space",
                function() {
                    return this._space
                },
                function(t) {
                    this._space = t,
                    this._setItemChanged()
                }),
                r(0, i, "align",
                function() {
                    return this._align
                },
                function(t) {
                    this._align = t,
                    this._setItemChanged()
                }),
                e
            } (D),
            j = function(t) {
                function e(t, i) {
                    this._valueArr = null,
                    this._indexMap = null,
                    this._sheet = null,
                    this._direction = "horizontal",
                    this._spaceX = 0,
                    this._spaceY = 0,
                    this._align = "left",
                    this._wordsW = 0,
                    this._wordsH = 0,
                    e.__super.call(this),
                    t && (this.skin = t),
                    i && (this.sheet = i)
                }
                s(e, "laya.ui.FontClip", t);
                var i = e.prototype;
                return i.createChildren = function() {
                    this._bitmap = new R,
                    this.on("loaded", this, this._onClipLoaded)
                },
                i._onClipLoaded = function() {
                    this.callLater(this.changeValue)
                },
                i.changeValue = function() {
                    if (this._sources && this._valueArr) {
                        this.graphics.clear(!0);
                        var t;
                        if (t = this._sources[0]) {
                            var e = "horizontal" === this._direction;
                            e ? (this._wordsW = this._valueArr.length * (t.sourceWidth + this.spaceX), this._wordsH = t.sourceHeight) : (this._wordsW = t.sourceWidth, this._wordsH = (t.sourceHeight + this.spaceY) * this._valueArr.length);
                            var i = 0;
                            if (this._width) switch (this._align) {
                            case "center":
                                i = .5 * (this._width - this._wordsW);
                                break;
                            case "right":
                                i = this._width - this._wordsW;
                                break;
                            default:
                                i = 0
                            }
                            for (var n = 0,
                            s = this._valueArr.length; n < s; n++) {
                                var r = this._indexMap[this._valueArr.charAt(n)];
                                this.sources[r] && (t = this.sources[r], e ? this.graphics.drawTexture(t, i + n * (t.sourceWidth + this.spaceX), 0, t.sourceWidth, t.sourceHeight) : this.graphics.drawTexture(t, 0 + i, n * (t.sourceHeight + this.spaceY), t.sourceWidth, t.sourceHeight))
                            }
                            this._width || (this.resetLayoutX(), this.callLater(this.changeSize)),
                            this._height || (this.resetLayoutY(), this.callLater(this.changeSize))
                        }
                    }
                },
                i.destroy = function(e) {
                    void 0 === e && (e = !0),
                    this._valueArr = null,
                    this._indexMap = null,
                    this.graphics.clear(!0),
                    this.removeSelf(),
                    this.off("loaded", this, this._onClipLoaded),
                    t.prototype.destroy.call(this, e)
                },
                r(0, i, "sheet",
                function() {
                    return this._sheet
                },
                function(t) {
                    t += "",
                    this._sheet = t;
                    var e = t.split(" ");
                    this._clipX = String(e[0]).length,
                    this.clipY = e.length,
                    this._indexMap = {};
                    for (var i = 0; i < this._clipY; i++) for (var n = e[i].split(""), s = 0, r = n.length; s < r; s++) this._indexMap[n[s]] = i * this._clipX + s
                }),
                r(0, i, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this.callLater(this.changeValue)
                }),
                r(0, i, "direction",
                function() {
                    return this._direction
                },
                function(t) {
                    this._direction = t,
                    this.callLater(this.changeValue)
                }),
                r(0, i, "value",
                function() {
                    return this._valueArr ? this._valueArr: ""
                },
                function(t) {
                    t += "",
                    this._valueArr = t,
                    this.callLater(this.changeValue)
                }),
                r(0, i, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this.callLater(this.changeValue)
                }),
                r(0, i, "spaceX",
                function() {
                    return this._spaceX
                },
                function(t) {
                    this._spaceX = t,
                    "horizontal" === this._direction && this.callLater(this.changeValue)
                }),
                r(0, i, "spaceY",
                function() {
                    return this._spaceY
                },
                function(t) {
                    this._spaceY = t,
                    "horizontal" !== this._direction && this.callLater(this.changeValue)
                }),
                r(0, i, "align",
                function() {
                    return this._align
                },
                function(t) {
                    this._align = t,
                    this.callLater(this.changeValue)
                }),
                r(0, i, "measureWidth",
                function() {
                    return this._wordsW
                }),
                r(0, i, "measureHeight",
                function() {
                    return this._wordsH
                }),
                e
            } (E),
            X = function(t) {
                function e() {
                    this.selectHandler = null,
                    this.renderHandler = null,
                    this.mouseHandler = null,
                    this.selectEnable = !1,
                    this.totalPage = 0,
                    this._content = null,
                    this._scrollBar = null,
                    this._itemRender = null,
                    this._repeatX = 0,
                    this._repeatY = 0,
                    this._repeatX2 = 0,
                    this._repeatY2 = 0,
                    this._spaceX = 0,
                    this._spaceY = 0,
                    this._array = null,
                    this._startIndex = 0,
                    this._selectedIndex = -1,
                    this._page = 0,
                    this._isVertical = !0,
                    this._cellSize = 20,
                    this._cellOffset = 0,
                    this._isMoved = !1,
                    this.cacheContent = !1,
                    this._createdLine = 0,
                    this._cellChanged = !1,
                    e.__super.call(this),
                    this._cells = [],
                    this._offset = new y
                }
                s(e, "laya.ui.List", t);
                var n = e.prototype;
                return i.imps(n, {
                    "laya.ui.IRender": !0,
                    "laya.ui.IItem": !0
                }),
                n.destroy = function(t) {
                    void 0 === t && (t = !0),
                    this._content && this._content.destroy(t),
                    this._scrollBar && this._scrollBar.destroy(t),
                    laya.ui.Component.prototype.destroy.call(this, t),
                    this._content = null,
                    this._scrollBar = null,
                    this._itemRender = null,
                    this._cells = null,
                    this._array = null,
                    this.selectHandler = this.renderHandler = this.mouseHandler = null
                },
                n.createChildren = function() {
                    this.addChild(this._content = new D)
                },
                n.onScrollStart = function() {
                    this._$P.cacheAs || (this._$P.cacheAs = t.prototype._$get_cacheAs.call(this)),
                    t.prototype._$set_cacheAs.call(this, "none"),
                    this._scrollBar.once("end", this, this.onScrollEnd)
                },
                n.onScrollEnd = function() {
                    t.prototype._$set_cacheAs.call(this, this._$P.cacheAs)
                },
                n._removePreScrollBar = function() {
                    var t = this.removeChildByName("scrollBar");
                    t && t.destroy(!0)
                },
                n.changeCells = function() {
                    if (this._cellChanged = !1, this._itemRender) {
                        this.scrollBar = this.getChildByName("scrollBar");
                        var t = this._getOneCell(),
                        e = t.width + this._spaceX || 1,
                        i = t.height + this._spaceY || 1;
                        this._width > 0 && (this._repeatX2 = this._isVertical ? Math.round(this._width / e) : Math.ceil(this._width / e)),
                        this._height > 0 && (this._repeatY2 = this._isVertical ? Math.ceil(this._height / i) : Math.round(this._height / i));
                        var n = this._width ? this._width: e * this.repeatX - this._spaceX,
                        s = this._height ? this._height: i * this.repeatY - this._spaceY;
                        this._cellSize = this._isVertical ? i: e,
                        this._cellOffset = this._isVertical ? i * Math.max(this._repeatY2, this._repeatY) - s - this._spaceY: e * Math.max(this._repeatX2, this._repeatX) - n - this._spaceX,
                        this._isVertical && this._scrollBar ? this._scrollBar.height = s: !this._isVertical && this._scrollBar && (this._scrollBar.width = n),
                        this.setContentSize(n, s);
                        var r = this._isVertical ? this.repeatX: this.repeatY,
                        a = (this._isVertical ? this.repeatY: this.repeatX) + (this._scrollBar ? 1 : 0);
                        this._createItems(0, r, a),
                        this._createdLine = a,
                        this._array && (this.array = this._array, this.runCallLater(this.renderItems))
                    }
                },
                n._getOneCell = function() {
                    if (0 === this._cells.length) {
                        var t = this.createItem();
                        this._offset.setTo(t.x, t.y),
                        this._cells.push(t)
                    }
                    return this._cells[0]
                },
                n._createItems = function(t, e, i) {
                    var n = this._content,
                    s = this._getOneCell(),
                    r = s.width + this._spaceX,
                    a = s.height + this._spaceY;
                    if (this.cacheContent) {
                        var o = new D;
                        o.cacheAsBitmap = !0,
                        o.pos((this._isVertical ? 0 : t) * r, (this._isVertical ? t: 0) * a),
                        this._content.addChild(o),
                        this._content.optimizeScrollRect = !0,
                        n = o
                    }
                    for (var h = [], l = this._cells.length - 1; l > -1; l--) {
                        var u = this._cells[l];
                        u.removeSelf(),
                        h.push(u)
                    }
                    this._cells.length = 0;
                    for (var c = t; c < i; c++) for (var d = 0; d < e; d++) s = h.length ? h.pop() : this.createItem(),
                    s.x = (this._isVertical ? d: c) * r - n.x,
                    s.y = (this._isVertical ? c: d) * a - n.y,
                    s.name = "item" + (c * e + d),
                    n.addChild(s),
                    this.addCell(s)
                },
                n.createItem = function() {
                    return "function" == typeof this._itemRender ? new this._itemRender: H.createComp(this._itemRender)
                },
                n.addCell = function(t) {
                    t.on("click", this, this.onCellMouse),
                    t.on("rightclick", this, this.onCellMouse),
                    t.on("mouseover", this, this.onCellMouse),
                    t.on("mouseout", this, this.onCellMouse),
                    t.on("mousedown", this, this.onCellMouse),
                    t.on("mouseup", this, this.onCellMouse),
                    this._cells.push(t)
                },
                n.initItems = function() {
                    if (!this._itemRender && null != this.getChildByName("item0")) {
                        this.repeatX = 1;
                        var t = 0;
                        t = 0;
                        for (var e = 0; e < 1e4; e++) {
                            var i = this.getChildByName("item" + e); {
                                if (!i) break;
                                this.addCell(i),
                                t++
                            }
                        }
                        this.repeatY = t
                    }
                },
                n.setContentSize = function(t, e) {
                    this._content.width = t,
                    this._content.height = e,
                    (this._scrollBar || 0 != this._offset.x || 0 != this._offset.y) && (this._content.scrollRect || (this._content.scrollRect = new v), this._content.scrollRect.setTo( - this._offset.x, -this._offset.y, t, e), this._content.conchModel && this._content.conchModel.scrollRect( - this._offset.x, -this._offset.y, t, e)),
                    this.event("resize")
                },
                n.onCellMouse = function(t) {
                    "mousedown" === t.type && (this._isMoved = !1);
                    var e = t.currentTarget,
                    i = this._startIndex + this._cells.indexOf(e);
                    i < 0 || ("click" === t.type || "rightclick" === t.type ? this.selectEnable && !this._isMoved ? this.selectedIndex = i: this.changeCellState(e, !0, 0) : "mouseover" !== t.type && "mouseout" !== t.type || this._selectedIndex === i || this.changeCellState(e, "mouseover" === t.type, 0), this.mouseHandler && this.mouseHandler.runWith([t, i]))
                },
                n.changeCellState = function(t, e, i) {
                    var n = t.getChildByName("selectBox");
                    n && (this.selectEnable = !0, n.visible = e, n.index = i)
                },
                n.changeSize = function() {
                    laya.ui.Component.prototype.changeSize.call(this),
                    this.setContentSize(this.width, this.height),
                    this._scrollBar && this.callLater(this.onScrollBarChange)
                },
                n.onScrollBarChange = function(t) {
                    this.runCallLater(this.changeCells);
                    var e = this._scrollBar.value,
                    i = this._isVertical ? this.repeatX: this.repeatY,
                    n = this._isVertical ? this.repeatY: this.repeatX,
                    s = Math.floor(e / this._cellSize);
                    if (this.cacheContent) a = n + 1,
                    this._createdLine - s < a && (this._createItems(this._createdLine, i, this._createdLine + a), this._createdLine += a, this.renderItems(this._createdLine * i, 0));
                    else {
                        var r = s * i,
                        a = 0;
                        if (r > this._startIndex) {
                            a = r - this._startIndex;
                            var o = !0,
                            h = this._startIndex + i * (n + 1);
                            this._isMoved = !0
                        } else r < this._startIndex && (a = this._startIndex - r, o = !1, h = this._startIndex - 1, this._isMoved = !0);
                        for (var l = 0; l < a; l++) {
                            if (o) {
                                var u = this._cells.shift();
                                this._cells[this._cells.length] = u;
                                var c = h + l
                            } else u = this._cells.pop(),
                            this._cells.unshift(u),
                            c = h - l;
                            var d = Math.floor(c / i) * this._cellSize;
                            this._isVertical ? u.y = d: u.x = d,
                            this.renderItem(u, c)
                        }
                        this._startIndex = r,
                        this.changeSelectStatus()
                    }
                    var _ = this._content.scrollRect;
                    this._isVertical ? (_.y = e - this._offset.y, _.x = -this._offset.x) : (_.y = -this._offset.y, _.x = e - this._offset.x),
                    this._content.conchModel && this._content.conchModel.scrollRect(_.x, _.y, _.width, _.height),
                    this.repaint()
                },
                n.posCell = function(t, e) {
                    if (this._scrollBar) {
                        var i = this._isVertical ? this.repeatX: this.repeatY,
                        n = (this._isVertical ? this.repeatY: this.repeatX, Math.floor(e / i) * this._cellSize);
                        this._isVertical ? t.y = n: t.x = n
                    }
                },
                n.changeSelectStatus = function() {
                    for (var t = 0,
                    e = this._cells.length; t < e; t++) this.changeCellState(this._cells[t], this._selectedIndex === this._startIndex + t, 1)
                },
                n.renderItems = function(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0);
                    for (var i = t,
                    n = e || this._cells.length; i < n; i++) this.renderItem(this._cells[i], this._startIndex + i);
                    this.changeSelectStatus()
                },
                n.renderItem = function(t, e) {
                    this._array && e >= 0 && e < this._array.length ? (t.visible = !0, t.dataSource = this._array[e], this.cacheContent || this.posCell(t, e), this.hasListener("render") && this.event("render", [t, e]), this.renderHandler && this.renderHandler.runWith([t, e])) : (t.visible = !1, t.dataSource = null)
                },
                n.refresh = function() {
                    this.startIndex = this._startIndex
                },
                n.getItem = function(t) {
                    return t > -1 && t < this._array.length ? this._array[t] : null
                },
                n.changeItem = function(t, e) {
                    t > -1 && t < this._array.length && (this._array[t] = e, t >= this._startIndex && t < this._startIndex + this._cells.length && this.renderItem(this.getCell(t), t))
                },
                n.setItem = function(t, e) {
                    this.changeItem(t, e)
                },
                n.addItem = function(t) {
                    this._array.push(t),
                    this.array = this._array
                },
                n.addItemAt = function(t, e) {
                    this._array.splice(e, 0, t),
                    this.array = this._array
                },
                n.deleteItem = function(t) {
                    this._array.splice(t, 1),
                    this.array = this._array
                },
                n.getCell = function(t) {
                    return this.runCallLater(this.changeCells),
                    t > -1 && this._cells ? this._cells[(t - this._startIndex) % this._cells.length] : null
                },
                n.scrollTo = function(t) {
                    if (this._scrollBar) {
                        var e = this._isVertical ? this.repeatX: this.repeatY;
                        this._scrollBar.value = Math.floor(t / e) * this._cellSize
                    } else this.startIndex = t
                },
                n.tweenTo = function(t, e, i) {
                    if (void 0 === e && (e = 200), this._scrollBar) {
                        var n = this._isVertical ? this.repeatX: this.repeatY;
                        S.to(this._scrollBar, {
                            value: Math.floor(t / n) * this._cellSize
                        },
                        e, null, i, 0, !0)
                    } else this.startIndex = t,
                    i && i.run()
                },
                n._setCellChanged = function() {
                    this._cellChanged || (this._cellChanged = !0, this.callLater(this.changeCells))
                },
                n.commitMeasure = function() {
                    this.runCallLater(this.changeCells)
                },
                r(0, n, "cacheAs", t.prototype._$get_cacheAs,
                function(e) {
                    t.prototype._$set_cacheAs.call(this, e),
                    this._scrollBar && (this._$P.cacheAs = null, "none" !== e ? this._scrollBar.on("start", this, this.onScrollStart) : this._scrollBar.off("start", this, this.onScrollStart))
                }),
                r(0, n, "content",
                function() {
                    return this._content
                }),
                r(0, n, "height", t.prototype._$get_height,
                function(e) {
                    e != this._height && (t.prototype._$set_height.call(this, e), this._setCellChanged())
                }),
                r(0, n, "itemRender",
                function() {
                    return this._itemRender
                },
                function(t) {
                    if (this._itemRender != t) {
                        this._itemRender = t;
                        for (var e = this._cells.length - 1; e > -1; e--) this._cells[e].destroy();
                        this._cells.length = 0,
                        this._setCellChanged()
                    }
                }),
                r(0, n, "vScrollBarSkin",
                function() {
                    return this._scrollBar ? this._scrollBar.skin: null
                },
                function(t) {
                    this._removePreScrollBar();
                    var e = new tt;
                    e.name = "scrollBar",
                    e.right = 0,
                    t && " " != t && (e.skin = t),
                    this.scrollBar = e,
                    this.addChild(e),
                    this._setCellChanged()
                }),
                r(0, n, "page",
                function() {
                    return this._page
                },
                function(t) {
                    this._page = t,
                    this._array && (this._page = t > 0 ? t: 0, this._page = this._page < this.totalPage ? this._page: this.totalPage - 1, this.startIndex = this._page * this.repeatX * this.repeatY)
                }),
                r(0, n, "hScrollBarSkin",
                function() {
                    return this._scrollBar ? this._scrollBar.skin: null
                },
                function(t) {
                    this._removePreScrollBar();
                    var e = new V;
                    e.name = "scrollBar",
                    e.bottom = 0,
                    t && " " != t && (e.skin = t),
                    this.scrollBar = e,
                    this.addChild(e),
                    this._setCellChanged()
                }),
                r(0, n, "repeatX",
                function() {
                    return this._repeatX > 0 ? this._repeatX: this._repeatX2 > 0 ? this._repeatX2: 1
                },
                function(t) {
                    this._repeatX = t,
                    this._setCellChanged()
                }),
                r(0, n, "scrollBar",
                function() {
                    return this._scrollBar
                },
                function(t) {
                    this._scrollBar != t && (this._scrollBar = t, t && (this._isVertical = this._scrollBar.isVertical, this.addChild(this._scrollBar), this._scrollBar.on("change", this, this.onScrollBarChange)))
                }),
                r(0, n, "width", t.prototype._$get_width,
                function(e) {
                    e != this._width && (t.prototype._$set_width.call(this, e), this._setCellChanged())
                }),
                r(0, n, "repeatY",
                function() {
                    return this._repeatY > 0 ? this._repeatY: this._repeatY2 > 0 ? this._repeatY2: 1
                },
                function(t) {
                    this._repeatY = t,
                    this._setCellChanged()
                }),
                r(0, n, "spaceX",
                function() {
                    return this._spaceX
                },
                function(t) {
                    this._spaceX = t,
                    this._setCellChanged()
                }),
                r(0, n, "spaceY",
                function() {
                    return this._spaceY
                },
                function(t) {
                    this._spaceY = t,
                    this._setCellChanged()
                }),
                r(0, n, "selectedIndex",
                function() {
                    return this._selectedIndex
                },
                function(t) {
                    this._selectedIndex != t && (this._selectedIndex = t, this.changeSelectStatus(), this.event("change"), this.selectHandler && this.selectHandler.runWith(t), this.startIndex = this._startIndex)
                }),
                r(0, n, "selectedItem",
                function() {
                    return - 1 != this._selectedIndex ? this._array[this._selectedIndex] : null
                },
                function(t) {
                    this.selectedIndex = this._array.indexOf(t)
                }),
                r(0, n, "length",
                function() {
                    return this._array ? this._array.length: 0
                }),
                r(0, n, "selection",
                function() {
                    return this.getCell(this._selectedIndex)
                },
                function(t) {
                    this.selectedIndex = this._startIndex + this._cells.indexOf(t)
                }),
                r(0, n, "startIndex",
                function() {
                    return this._startIndex
                },
                function(t) {
                    this._startIndex = t > 0 ? t: 0,
                    this.callLater(this.renderItems)
                }),
                r(0, n, "array",
                function() {
                    return this._array
                },
                function(t) {
                    this.runCallLater(this.changeCells),
                    this._array = t || [];
                    var e = this._array.length;
                    if (this.totalPage = Math.ceil(e / (this.repeatX * this.repeatY)), this._selectedIndex = this._selectedIndex < e ? this._selectedIndex: e - 1, this.startIndex = this._startIndex, this._scrollBar) {
                        this._scrollBar.stopScroll();
                        var i = this._isVertical ? this.repeatX: this.repeatY,
                        n = this._isVertical ? this.repeatY: this.repeatX,
                        s = Math.ceil(e / i); (this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage) > 1 ? (this._scrollBar.scrollSize = this._cellSize, this._scrollBar.thumbPercent = n / s, this._scrollBar.setScroll(0, (s - n) * this._cellSize + this._cellOffset, this._scrollBar.value), this._scrollBar.target = this._content) : (this._scrollBar.setScroll(0, 0, 0), this._scrollBar.target = this._content)
                    }
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e && Math.floor(e) == e || "string" == typeof e ? this.selectedIndex = parseInt(e) : e instanceof Array ? this.array = e: t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, n, "cells",
                function() {
                    return this.runCallLater(this.changeCells),
                    this._cells
                }),
                e
            } (D),
            V = function(t) {
                function e() {
                    e.__super.call(this)
                }
                return s(e, "laya.ui.HScrollBar", t),
                e.prototype.initialize = function() {
                    t.prototype.initialize.call(this),
                    this.slider.isVertical = !1
                },
                e
            } (N),
            $ = function(t) {
                function e() {
                    this._content = null,
                    this._vScrollBar = null,
                    this._hScrollBar = null,
                    this._scrollChanged = !1,
                    e.__super.call(this),
                    this.width = this.height = 100,
                    this._content.optimizeScrollRect = !0
                }
                s(e, "laya.ui.Panel", t);
                var i = e.prototype;
                return i.destroy = function(t) {
                    void 0 === t && (t = !0),
                    laya.ui.Component.prototype.destroy.call(this, t),
                    this._content && this._content.destroy(t),
                    this._vScrollBar && this._vScrollBar.destroy(t),
                    this._hScrollBar && this._hScrollBar.destroy(t),
                    this._vScrollBar = null,
                    this._hScrollBar = null,
                    this._content = null
                },
                i.destroyChildren = function() {
                    this._content.destroyChildren()
                },
                i.createChildren = function() {
                    laya.display.Node.prototype.addChild.call(this, this._content = new D)
                },
                i.addChild = function(t) {
                    return t.on("resize", this, this.onResize),
                    this._setScrollChanged(),
                    this._content.addChild(t)
                },
                i.onResize = function() {
                    this._setScrollChanged()
                },
                i.addChildAt = function(t, e) {
                    return t.on("resize", this, this.onResize),
                    this._setScrollChanged(),
                    this._content.addChildAt(t, e)
                },
                i.removeChild = function(t) {
                    return t.off("resize", this, this.onResize),
                    this._setScrollChanged(),
                    this._content.removeChild(t)
                },
                i.removeChildAt = function(t) {
                    return this.getChildAt(t).off("resize", this, this.onResize),
                    this._setScrollChanged(),
                    this._content.removeChildAt(t)
                },
                i.removeChildren = function(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 2147483647);
                    for (var i = this._content.numChildren - 1; i > -1; i--) this._content.removeChildAt(i);
                    return this._setScrollChanged(),
                    this
                },
                i.getChildAt = function(t) {
                    return this._content.getChildAt(t)
                },
                i.getChildByName = function(t) {
                    return this._content.getChildByName(t)
                },
                i.getChildIndex = function(t) {
                    return this._content.getChildIndex(t)
                },
                i.changeScroll = function() {
                    this._scrollChanged = !1;
                    var t = this.contentWidth || 1,
                    e = this.contentHeight || 1,
                    i = this._vScrollBar,
                    n = this._hScrollBar,
                    s = i && e > this._height,
                    r = n && t > this._width,
                    a = s ? this._width - i.width: this._width,
                    o = r ? this._height - n.height: this._height;
                    i && (i.x = this._width - i.width, i.y = 0, i.height = this._height - (r ? n.height: 0), i.scrollSize = Math.max(.033 * this._height, 1), i.thumbPercent = o / e, i.setScroll(0, e - o, i.value)),
                    n && (n.x = 0, n.y = this._height - n.height, n.width = this._width - (s ? i.width: 0), n.scrollSize = Math.max(.033 * this._width, 1), n.thumbPercent = a / t, n.setScroll(0, t - a, n.value))
                },
                i.changeSize = function() {
                    laya.ui.Component.prototype.changeSize.call(this),
                    this.setContentSize(this._width, this._height)
                },
                i.setContentSize = function(t, e) {
                    var i = this._content;
                    i.width = t,
                    i.height = e,
                    i.scrollRect || (i.scrollRect = new v),
                    i.scrollRect.setTo(0, 0, t, e),
                    i.conchModel && i.conchModel.scrollRect(0, 0, t, e)
                },
                i.onScrollBarChange = function(t) {
                    var e = this._content.scrollRect;
                    if (e) {
                        var i = Math.round(t.value);
                        t.isVertical ? e.y = i: e.x = i,
                        this._content.conchModel && this._content.conchModel.scrollRect(e.x, e.y, e.width, e.height)
                    }
                },
                i.scrollTo = function(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    this.vScrollBar && (this.vScrollBar.value = e),
                    this.hScrollBar && (this.hScrollBar.value = t)
                },
                i.refresh = function() {
                    this.changeScroll()
                },
                i.onScrollStart = function() {
                    this._$P.cacheAs || (this._$P.cacheAs = t.prototype._$get_cacheAs.call(this)),
                    t.prototype._$set_cacheAs.call(this, "none"),
                    this._hScrollBar && this._hScrollBar.once("end", this, this.onScrollEnd),
                    this._vScrollBar && this._vScrollBar.once("end", this, this.onScrollEnd)
                },
                i.onScrollEnd = function() {
                    t.prototype._$set_cacheAs.call(this, this._$P.cacheAs)
                },
                i._setScrollChanged = function() {
                    this._scrollChanged || (this._scrollChanged = !0, this.callLater(this.changeScroll))
                },
                r(0, i, "numChildren",
                function() {
                    return this._content.numChildren
                }),
                r(0, i, "hScrollBarSkin",
                function() {
                    return this._hScrollBar ? this._hScrollBar.skin: null
                },
                function(t) {
                    null == this._hScrollBar && (laya.display.Node.prototype.addChild.call(this, this._hScrollBar = new V), this._hScrollBar.on("change", this, this.onScrollBarChange, [this._hScrollBar]), this._hScrollBar.target = this._content, this._setScrollChanged()),
                    this._hScrollBar.skin = t
                }),
                r(0, i, "contentWidth",
                function() {
                    for (var t = 0,
                    e = this._content.numChildren - 1; e > -1; e--) {
                        var i = this._content.getChildAt(e);
                        t = Math.max(i.x + i.width * i.scaleX, t)
                    }
                    return t
                }),
                r(0, i, "contentHeight",
                function() {
                    for (var t = 0,
                    e = this._content.numChildren - 1; e > -1; e--) {
                        var i = this._content.getChildAt(e);
                        t = Math.max(i.y + i.height * i.scaleY, t)
                    }
                    return t
                }),
                r(0, i, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._setScrollChanged()
                }),
                r(0, i, "hScrollBar",
                function() {
                    return this._hScrollBar
                }),
                r(0, i, "content",
                function() {
                    return this._content
                }),
                r(0, i, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._setScrollChanged()
                }),
                r(0, i, "vScrollBarSkin",
                function() {
                    return this._vScrollBar ? this._vScrollBar.skin: null
                },
                function(t) {
                    null == this._vScrollBar && (laya.display.Node.prototype.addChild.call(this, this._vScrollBar = new tt), this._vScrollBar.on("change", this, this.onScrollBarChange, [this._vScrollBar]), this._vScrollBar.target = this._content, this._setScrollChanged()),
                    this._vScrollBar.skin = t
                }),
                r(0, i, "vScrollBar",
                function() {
                    return this._vScrollBar
                }),
                r(0, i, "cacheAs", t.prototype._$get_cacheAs,
                function(e) {
                    t.prototype._$set_cacheAs.call(this, e),
                    this._$P.cacheAs = null,
                    "none" !== e ? (this._hScrollBar && this._hScrollBar.on("start", this, this.onScrollStart), this._vScrollBar && this._vScrollBar.on("start", this, this.onScrollStart)) : (this._hScrollBar && this._hScrollBar.off("start", this, this.onScrollStart), this._vScrollBar && this._vScrollBar.off("start", this, this.onScrollStart))
                }),
                e
            } (D),
            q = function(t) {
                function e(t, i) {
                    this.selectHandler = null,
                    this._items = null,
                    this._selectedIndex = -1,
                    this._skin = null,
                    this._direction = "horizontal",
                    this._space = 0,
                    this._labels = null,
                    this._labelColors = null,
                    this._labelFont = null,
                    this._labelStrokeColor = null,
                    this._strokeColors = null,
                    this._labelStroke = NaN,
                    this._labelSize = 0,
                    this._labelBold = !1,
                    this._labelPadding = null,
                    this._labelAlign = null,
                    this._stateNum = 0,
                    this._labelChanged = !1,
                    e.__super.call(this),
                    this.skin = i,
                    this.labels = t
                }
                s(e, "laya.ui.UIGroup", t);
                var n = e.prototype;
                return i.imps(n, {
                    "laya.ui.IItem": !0
                }),
                n.preinitialize = function() {
                    this.mouseEnabled = !0
                },
                n.destroy = function(t) {
                    void 0 === t && (t = !0),
                    laya.ui.Component.prototype.destroy.call(this, t),
                    this._items && (this._items.length = 0),
                    this._items = null,
                    this.selectHandler = null
                },
                n.addItem = function(t, e) {
                    void 0 === e && (e = !0);
                    var i = t,
                    n = this._items.length;
                    if (i.name = "item" + n, this.addChild(i), this.initItems(), e && n > 0) {
                        var s = this._items[n - 1];
                        "horizontal" == this._direction ? i.x = s.x + s.width + this._space: i.y = s.y + s.height + this._space
                    } else e && (i.x = 0, i.y = 0);
                    return n
                },
                n.delItem = function(t, e) {
                    void 0 === e && (e = !0);
                    var i = this._items.indexOf(t);
                    if ( - 1 != i) {
                        var n = t;
                        this.removeChild(n);
                        for (var s = i + 1,
                        r = this._items.length; s < r; s++) {
                            var a = this._items[s];
                            a.name = "item" + (s - 1),
                            e && ("horizontal" == this._direction ? a.x -= n.width + this._space: a.y -= n.height + this._space)
                        }
                        if (this.initItems(), this._selectedIndex > -1) {
                            var o = 0;
                            o = this._selectedIndex < this._items.length ? this._selectedIndex: this._selectedIndex - 1,
                            this._selectedIndex = -1,
                            this.selectedIndex = o
                        }
                    }
                },
                n.initItems = function() {
                    this._items || (this._items = []),
                    this._items.length = 0;
                    for (var t = 0; t < 1e4; t++) {
                        var e = this.getChildByName("item" + t);
                        if (null == e) break;
                        this._items.push(e),
                        e.selected = t === this._selectedIndex,
                        e.clickHandler = f.create(this, this.itemClick, [t], !1)
                    }
                },
                n.itemClick = function(t) {
                    this.selectedIndex = t
                },
                n.setSelect = function(t, e) {
                    this._items && t > -1 && t < this._items.length && (this._items[t].selected = e)
                },
                n.createItem = function(t, e) {
                    return null
                },
                n.changeLabels = function() {
                    if (this._labelChanged = !1, this._items) for (var t = 0,
                    e = 0,
                    i = this._items.length; e < i; e++) {
                        var n = this._items[e];
                        this._skin && (n.skin = this._skin),
                        this._labelColors && (n.labelColors = this._labelColors),
                        this._labelSize && (n.labelSize = this._labelSize),
                        this._labelStroke && (n.labelStroke = this._labelStroke),
                        this._labelStrokeColor && (n.labelStrokeColor = this._labelStrokeColor),
                        this._strokeColors && (n.strokeColors = this._strokeColors),
                        this._labelBold && (n.labelBold = this._labelBold),
                        this._labelPadding && (n.labelPadding = this._labelPadding),
                        this._labelAlign && (n.labelAlign = this._labelAlign),
                        this._stateNum && (n.stateNum = this._stateNum),
                        this._labelFont && (n.labelFont = this._labelFont),
                        "horizontal" === this._direction ? (n.y = 0, n.x = t, t += n.width + this._space) : (n.x = 0, n.y = t, t += n.height + this._space)
                    }
                    this.changeSize()
                },
                n.commitMeasure = function() {
                    this.runCallLater(this.changeLabels)
                },
                n._setLabelChanged = function() {
                    this._labelChanged || (this._labelChanged = !0, this.callLater(this.changeLabels))
                },
                r(0, n, "labelStrokeColor",
                function() {
                    return this._labelStrokeColor
                },
                function(t) {
                    this._labelStrokeColor != t && (this._labelStrokeColor = t, this._setLabelChanged())
                }),
                r(0, n, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    this._skin != t && (this._skin = t, this._setLabelChanged())
                }),
                r(0, n, "selectedIndex",
                function() {
                    return this._selectedIndex
                },
                function(t) {
                    this._selectedIndex != t && (this.setSelect(this._selectedIndex, !1), this._selectedIndex = t, this.setSelect(t, !0), this.event("change"), this.selectHandler && this.selectHandler.runWith(this._selectedIndex))
                }),
                r(0, n, "labels",
                function() {
                    return this._labels
                },
                function(t) {
                    if (this._labels != t) {
                        if (this._labels = t, this.removeChildren(), this._setLabelChanged(), this._labels) for (var e = this._labels.split(","), i = 0, n = e.length; i < n; i++) {
                            var s = this.createItem(this._skin, e[i]);
                            s.name = "item" + i,
                            this.addChild(s)
                        }
                        this.initItems()
                    }
                }),
                r(0, n, "strokeColors",
                function() {
                    return this._strokeColors
                },
                function(t) {
                    this._strokeColors != t && (this._strokeColors = t, this._setLabelChanged())
                }),
                r(0, n, "labelColors",
                function() {
                    return this._labelColors
                },
                function(t) {
                    this._labelColors != t && (this._labelColors = t, this._setLabelChanged())
                }),
                r(0, n, "labelStroke",
                function() {
                    return this._labelStroke
                },
                function(t) {
                    this._labelStroke != t && (this._labelStroke = t, this._setLabelChanged())
                }),
                r(0, n, "labelSize",
                function() {
                    return this._labelSize
                },
                function(t) {
                    this._labelSize != t && (this._labelSize = t, this._setLabelChanged())
                }),
                r(0, n, "stateNum",
                function() {
                    return this._stateNum
                },
                function(t) {
                    this._stateNum != t && (this._stateNum = t, this._setLabelChanged())
                }),
                r(0, n, "labelBold",
                function() {
                    return this._labelBold
                },
                function(t) {
                    this._labelBold != t && (this._labelBold = t, this._setLabelChanged())
                }),
                r(0, n, "labelFont",
                function() {
                    return this._labelFont
                },
                function(t) {
                    this._labelFont != t && (this._labelFont = t, this._setLabelChanged())
                }),
                r(0, n, "labelPadding",
                function() {
                    return this._labelPadding
                },
                function(t) {
                    this._labelPadding != t && (this._labelPadding = t, this._setLabelChanged())
                }),
                r(0, n, "direction",
                function() {
                    return this._direction
                },
                function(t) {
                    this._direction = t,
                    this._setLabelChanged()
                }),
                r(0, n, "space",
                function() {
                    return this._space
                },
                function(t) {
                    this._space = t,
                    this._setLabelChanged()
                }),
                r(0, n, "items",
                function() {
                    return this._items
                }),
                r(0, n, "selection",
                function() {
                    return this._selectedIndex > -1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] : null
                },
                function(t) {
                    this.selectedIndex = this._items.indexOf(t)
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    "number" == typeof e && Math.floor(e) == e || "string" == typeof e ? this.selectedIndex = parseInt(e) : e instanceof Array ? this.labels = e.join(",") : t.prototype._$set_dataSource.call(this, e)
                }),
                e
            } (D),
            K = function(t) {
                function e(t) {
                    e.__super.call(this, t),
                    this.isVertical = !1
                }
                return s(e, "laya.ui.HSlider", t),
                e
            } (F),
            Q = function(t) {
                function e(t, i) {
                    this._value = null,
                    void 0 === i && (i = ""),
                    e.__super.call(this, t, i)
                }
                s(e, "laya.ui.Radio", t);
                var i = e.prototype;
                return i.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._value = null
                },
                i.preinitialize = function() {
                    laya.ui.Component.prototype.preinitialize.call(this),
                    this.toggle = !1,
                    this._autoSize = !1
                },
                i.initialize = function() {
                    t.prototype.initialize.call(this),
                    this.createText(),
                    this._text.align = "left",
                    this._text.valign = "top",
                    this._text.width = 0,
                    this.on("click", this, this.onClick)
                },
                i.onClick = function(t) {
                    this.selected = !0
                },
                r(0, i, "value",
                function() {
                    return null != this._value ? this._value: this.label
                },
                function(t) {
                    this._value = t
                }),
                e
            } (B),
            J = function(t) {
                function e() {
                    this._list = null,
                    this._source = null,
                    this._renderHandler = null,
                    this._spaceLeft = 10,
                    this._spaceBottom = 0,
                    this._keepStatus = !0,
                    e.__super.call(this),
                    this.width = this.height = 200
                }
                s(e, "laya.ui.Tree", t);
                var n = e.prototype;
                return i.imps(n, {
                    "laya.ui.IRender": !0
                }),
                n.destroy = function(t) {
                    void 0 === t && (t = !0),
                    laya.ui.Component.prototype.destroy.call(this, t),
                    this._list && this._list.destroy(t),
                    this._list = null,
                    this._source = null,
                    this._renderHandler = null
                },
                n.createChildren = function() {
                    this.addChild(this._list = new X),
                    this._list.renderHandler = f.create(this, this.renderItem, null, !1),
                    this._list.repeatX = 1,
                    this._list.on("change", this, this.onListChange)
                },
                n.onListChange = function(t) {
                    this.event("change")
                },
                n.getArray = function() {
                    var t, e = [];
                    for (var i in this._source) t = this._source[i],
                    this.getParentOpenStatus(t) && (t.x = this._spaceLeft * this.getDepth(t), e.push(t));
                    return e
                },
                n.getDepth = function(t, e) {
                    return void 0 === e && (e = 0),
                    null == t.nodeParent ? e: this.getDepth(t.nodeParent, e + 1)
                },
                n.getParentOpenStatus = function(t) {
                    var e = t.nodeParent;
                    return null == e || !!e.isOpen && (null == e.nodeParent || this.getParentOpenStatus(e))
                },
                n.renderItem = function(t, e) {
                    var i = t.dataSource;
                    if (i) {
                        t.left = i.x;
                        var n = t.getChildByName("arrow");
                        n && (i.hasChild ? (n.visible = !0, n.index = i.isOpen ? 1 : 0, n.tag = e, n.off("click", this, this.onArrowClick), n.on("click", this, this.onArrowClick)) : n.visible = !1);
                        var s = t.getChildByName("folder");
                        s && (2 == s.clipY ? s.index = i.isDirectory ? 0 : 1 : s.index = i.isDirectory ? i.isOpen ? 1 : 0 : 2),
                        this._renderHandler && this._renderHandler.runWith([t, e])
                    }
                },
                n.onArrowClick = function(t) {
                    var e = t.currentTarget,
                    i = e.tag;
                    this._list.array[i].isOpen = !this._list.array[i].isOpen,
                    this.event("open"),
                    this._list.array = this.getArray()
                },
                n.setItemState = function(t, e) {
                    this._list.array[t] && (this._list.array[t].isOpen = e, this._list.array = this.getArray())
                },
                n.fresh = function() {
                    this._list.array = this.getArray(),
                    this.repaint()
                },
                n.parseXml = function(t, e, i, n) {
                    var s, r = t.childNodes,
                    a = r.length;
                    if (!n) {
                        s = {};
                        var o, h = t.attributes;
                        for (var l in h) {
                            o = h[l];
                            var u = o.nodeName,
                            c = o.nodeValue;
                            s[u] = "true" == c || "false" != c && c
                        }
                        s.nodeParent = i,
                        a > 0 && (s.isDirectory = !0),
                        s.hasChild = a > 0,
                        e.push(s)
                    }
                    for (var d = 0; d < a; d++) {
                        var _ = r[d];
                        this.parseXml(_, e, s, !1)
                    }
                },
                n.parseOpenStatus = function(t, e) {
                    for (var i = 0,
                    n = e.length; i < n; i++) {
                        var s = e[i];
                        if (s.isDirectory) for (var r = 0,
                        a = t.length; r < a; r++) {
                            var o = t[r];
                            if (o.isDirectory && this.isSameParent(o, s) && s.label == o.label) {
                                s.isOpen = o.isOpen;
                                break
                            }
                        }
                    }
                },
                n.isSameParent = function(t, e) {
                    return null == t.nodeParent && null == e.nodeParent || null != t.nodeParent && null != e.nodeParent && (t.nodeParent.label == e.nodeParent.label && this.isSameParent(t.nodeParent, e.nodeParent))
                },
                n.filter = function(t) {
                    if (Boolean(t)) {
                        var e = [];
                        this.getFilterSource(this._source, e, t),
                        this._list.array = e
                    } else this._list.array = this.getArray()
                },
                n.getFilterSource = function(t, e, i) {
                    i = i.toLocaleLowerCase();
                    var n;
                    for (var s in t) n = t[s],
                    !n.isDirectory && String(n.label).toLowerCase().indexOf(i) > -1 && (n.x = 0, e.push(n)),
                    n.child && n.child.length > 0 && this.getFilterSource(n.child, e, i)
                },
                r(0, n, "spaceBottom",
                function() {
                    return this._list.spaceY
                },
                function(t) {
                    this._list.spaceY = t
                }),
                r(0, n, "keepStatus",
                function() {
                    return this._keepStatus
                },
                function(t) {
                    this._keepStatus = t
                }),
                r(0, n, "itemRender",
                function() {
                    return this._list.itemRender
                },
                function(t) {
                    this._list.itemRender = t
                }),
                r(0, n, "array",
                function() {
                    return this._list.array
                },
                function(t) {
                    this._keepStatus && this._list.array && t && this.parseOpenStatus(this._list.array, t),
                    this._source = t,
                    this._list.array = this.getArray()
                }),
                r(0, n, "mouseHandler",
                function() {
                    return this._list.mouseHandler
                },
                function(t) {
                    this._list.mouseHandler = t
                }),
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(e) {
                    this._dataSource = e,
                    t.prototype._$set_dataSource.call(this, e)
                }),
                r(0, n, "source",
                function() {
                    return this._source
                }),
                r(0, n, "scrollBar",
                function() {
                    return this._list.scrollBar
                }),
                r(0, n, "list",
                function() {
                    return this._list
                }),
                r(0, n, "scrollBarSkin",
                function() {
                    return this._list.vScrollBarSkin
                },
                function(t) {
                    this._list.vScrollBarSkin = t
                }),
                r(0, n, "renderHandler",
                function() {
                    return this._renderHandler
                },
                function(t) {
                    this._renderHandler = t
                }),
                r(0, n, "selectedIndex",
                function() {
                    return this._list.selectedIndex
                },
                function(t) {
                    this._list.selectedIndex = t
                }),
                r(0, n, "spaceLeft",
                function() {
                    return this._spaceLeft
                },
                function(t) {
                    this._spaceLeft = t
                }),
                r(0, n, "selectedItem",
                function() {
                    return this._list.selectedItem
                },
                function(t) {
                    this._list.selectedItem = t
                }),
                r(0, n, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._list.width = e
                }),
                r(0, n, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._list.height = e
                }),
                r(0, n, "xml", null,
                function(t) {
                    var e = [];
                    this.parseXml(t.childNodes[0], e, null, !0),
                    this.array = e
                }),
                r(0, n, "selectedPath",
                function() {
                    return this._list.selectedItem ? this._list.selectedItem.path: null
                }),
                e
            } (D),
            Z = function(t) {
                function e() {
                    this._items = null,
                    this._selectedIndex = 0,
                    e.__super.call(this),
                    this._setIndexHandler = f.create(this, this.setIndex, null, !1)
                }
                s(e, "laya.ui.ViewStack", t);
                var n = e.prototype;
                return i.imps(n, {
                    "laya.ui.IItem": !0
                }),
                n.setItems = function(t) {
                    this.removeChildren();
                    for (var e = 0,
                    i = 0,
                    n = t.length; i < n; i++) {
                        var s = t[i];
                        s && (s.name = "item" + e, this.addChild(s), e++)
                    }
                    this.initItems()
                },
                n.addItem = function(t) {
                    t.name = "item" + this._items.length,
                    this.addChild(t),
                    this.initItems()
                },
                n.initItems = function() {
                    this._items = [];
                    for (var t = 0; t < 1e4; t++) {
                        var e = this.getChildByName("item" + t);
                        if (null == e) break;
                        this._items.push(e),
                        e.visible = t == this._selectedIndex
                    }
                },
                n.setSelect = function(t, e) {
                    this._items && t > -1 && t < this._items.length && (this._items[t].visible = e)
                },
                n.setIndex = function(t) {
                    this.selectedIndex = t
                },
                r(0, n, "dataSource", t.prototype._$get_dataSource,
                function(t) {
                    if (this._dataSource = t, "number" == typeof t && Math.floor(t) == t || "string" == typeof t) this.selectedIndex = parseInt(t);
                    else for (var e in this._dataSource) this.hasOwnProperty(e) && (this[e] = this._dataSource[e])
                }),
                r(0, n, "selectedIndex",
                function() {
                    return this._selectedIndex
                },
                function(t) {
                    this._selectedIndex != t && (this.setSelect(this._selectedIndex, !1), this._selectedIndex = t, this.setSelect(this._selectedIndex, !0))
                }),
                r(0, n, "selection",
                function() {
                    return this._selectedIndex > -1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] : null
                },
                function(t) {
                    this.selectedIndex = this._items.indexOf(t)
                }),
                r(0, n, "items",
                function() {
                    return this._items
                }),
                r(0, n, "setIndexHandler",
                function() {
                    return this._setIndexHandler
                },
                function(t) {
                    this._setIndexHandler = t
                }),
                e
            } (D),
            tt = function(t) {
                function e() {
                    e.__super.call(this)
                }
                return s(e, "laya.ui.VScrollBar", t),
                e
            } (N),
            et = function(t) {
                function e(t) {
                    this._bg = null,
                    this._skin = null,
                    e.__super.call(this),
                    void 0 === t && (t = ""),
                    this.text = t,
                    this.skin = this.skin
                }
                s(e, "laya.ui.TextInput", t);
                var i = e.prototype;
                return i.preinitialize = function() {
                    this.mouseEnabled = !0
                },
                i.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._bg && this._bg.destroy(),
                    this._bg = null
                },
                i.createChildren = function() {
                    this.addChild(this._tf = new p),
                    this._tf.padding = k.inputLabelPadding,
                    this._tf.on("input", this, this._onInput),
                    this._tf.on("enter", this, this._onEnter),
                    this._tf.on("blur", this, this._onBlur),
                    this._tf.on("focus", this, this._onFocus)
                },
                i._onFocus = function() {
                    this.event("focus", this)
                },
                i._onBlur = function() {
                    this.event("blur", this)
                },
                i._onInput = function() {
                    this.event("input", this)
                },
                i._onEnter = function() {
                    this.event("enter", this)
                },
                i.initialize = function() {
                    this.width = 128,
                    this.height = 22
                },
                i.select = function() {
                    this._tf.select()
                },
                i.setSelection = function(t, e) {
                    this._tf.setSelection(t, e)
                },
                r(0, i, "text", t.prototype._$get_text,
                function(t) {
                    this._tf.text != t && (t += "", this._tf.text = t, this.event("change"))
                }),
                r(0, i, "bg",
                function() {
                    return this._bg
                },
                function(t) {
                    this.graphics = this._bg = t
                }),
                r(0, i, "inputElementYAdjuster",
                function() {
                    return this._tf.inputElementYAdjuster
                },
                function(t) {
                    this._tf.inputElementYAdjuster = t
                }),
                r(0, i, "multiline",
                function() {
                    return this._tf.multiline
                },
                function(t) {
                    this._tf.multiline = t
                }),
                r(0, i, "skin",
                function() {
                    return this._skin
                },
                function(t) {
                    this._skin != t && (this._skin = t, this._bg || (this.graphics = this._bg = new R), this._bg.source = g.getRes(this._skin), this._width && (this._bg.width = this._width), this._height && (this._bg.height = this._height))
                }),
                r(0, i, "sizeGrid",
                function() {
                    return this._bg && this._bg.sizeGrid ? this._bg.sizeGrid.join(",") : null
                },
                function(t) {
                    this._bg || (this.graphics = this._bg = new R),
                    this._bg.sizeGrid = T.fillArray(k.defaultSizeGrid, t, Number)
                }),
                r(0, i, "inputElementXAdjuster",
                function() {
                    return this._tf.inputElementXAdjuster
                },
                function(t) {
                    this._tf.inputElementXAdjuster = t
                }),
                r(0, i, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this._bg && (this._bg.width = e)
                }),
                r(0, i, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this._bg && (this._bg.height = e)
                }),
                r(0, i, "editable",
                function() {
                    return this._tf.editable
                },
                function(t) {
                    this._tf.editable = t
                }),
                r(0, i, "restrict",
                function() {
                    return this._tf.restrict
                },
                function(t) {
                    this._tf.restrict = t
                }),
                r(0, i, "prompt",
                function() {
                    return this._tf.prompt
                },
                function(t) {
                    this._tf.prompt = t
                }),
                r(0, i, "promptColor",
                function() {
                    return this._tf.promptColor
                },
                function(t) {
                    this._tf.promptColor = t
                }),
                r(0, i, "maxChars",
                function() {
                    return this._tf.maxChars
                },
                function(t) {
                    this._tf.maxChars = t
                }),
                r(0, i, "focus",
                function() {
                    return this._tf.focus
                },
                function(t) {
                    this._tf.focus = t
                }),
                r(0, i, "type",
                function() {
                    return this._tf.type
                },
                function(t) {
                    this._tf.type = t
                }),
                r(0, i, "asPassword",
                function() {
                    return this._tf.asPassword
                },
                function(t) {
                    this._tf.asPassword = t
                }),
                e
            } (G),
            it = function(t) {
                function e() {
                    e.__super.call(this)
                }
                return s(e, "laya.ui.VSlider", t),
                e
            } (F),
            nt = function(t) {
                function e() {
                    this.popupCenter = !0,
                    this.closeHandler = null,
                    this.popupEffect = null,
                    this.closeEffect = null,
                    this.group = null,
                    this.isModal = !1,
                    this._dragArea = null,
                    e.__super.call(this)
                }
                s(e, "laya.ui.Dialog", t);
                var i = e.prototype;
                return i.initialize = function() {
                    this.popupEffect = e.manager.popupEffectHandler,
                    this.closeEffect = e.manager.closeEffectHandler,
                    this._dealDragArea(),
                    this.on("click", this, this._onClick)
                },
                i._dealDragArea = function() {
                    var t = this.getChildByName("drag");
                    t && (this.dragArea = t.x + "," + t.y + "," + t.width + "," + t.height, t.removeSelf())
                },
                i._onClick = function(t) {
                    var e = t.target;
                    if (e) switch (e.name) {
                    case "close":
                    case "cancel":
                    case "sure":
                    case "no":
                    case "ok":
                    case "yes":
                        this.close(e.name)
                    }
                },
                i.show = function(t) {
                    void 0 === t && (t = !1),
                    this._open(!1, t)
                },
                i.popup = function(t) {
                    void 0 === t && (t = !1),
                    this._open(!0, t)
                },
                i._open = function(t, i) {
                    e.manager.lock(!1),
                    this.isModal = t,
                    e.manager.open(this, i)
                },
                i.onOpened = function() {},
                i.close = function(t) {
                    e.manager.close(this, t)
                },
                i.onClosed = function(t) {},
                i._onMouseDown = function(t) {
                    var e = this.getMousePoint();
                    this._dragArea.contains(e.x, e.y) ? this.startDrag() : this.stopDrag()
                },
                r(0, i, "dragArea",
                function() {
                    return this._dragArea ? this._dragArea.toString() : null
                },
                function(t) {
                    if (t) {
                        var e = T.fillArray([0, 0, 0, 0], t, Number);
                        this._dragArea = new v(e[0], e[1], e[2], e[3]),
                        this.on("mousedown", this, this._onMouseDown)
                    } else this._dragArea = null,
                    this.off("mousedown", this, this._onMouseDown)
                }),
                r(0, i, "isPopup",
                function() {
                    return null != this.parent
                }),
                r(0, i, "zOrder", t.prototype._$get_zOrder,
                function(i) {
                    t.prototype._$set_zOrder.call(this, i),
                    e.manager._checkMask()
                }),
                r(1, e, "manager",
                function() {
                    return e._manager = e._manager || new L
                },
                function(t) {
                    e._manager = t
                }),
                e.setLockView = function(t) {
                    e.manager.setLockView(t)
                },
                e.lock = function(t) {
                    e.manager.lock(t)
                },
                e.closeAll = function() {
                    e.manager.closeAll()
                },
                e.getDialogsByGroup = function(t) {
                    return e.manager.getDialogsByGroup(t)
                },
                e.closeByGroup = function(t) {
                    return e.manager.closeByGroup(t)
                },
                e.CLOSE = "close",
                e.CANCEL = "cancel",
                e.SURE = "sure",
                e.NO = "no",
                e.OK = "ok",
                e.YES = "yes",
                e._manager = null,
                e
            } (H),
            st = function(t) {
                function e() {
                    e.__super.call(this)
                }
                s(e, "laya.ui.HBox", t);
                var i = e.prototype;
                return i.sortItem = function(t) {
                    t && t.sort(function(t, e) {
                        return t.x - e.x
                    })
                },
                i.changeItems = function() {
                    this._itemChanged = !1;
                    for (var t = [], e = 0, i = 0, n = this.numChildren; i < n; i++) {
                        var s = this.getChildAt(i);
                        s && s.layoutEnabled && (t.push(s), e = this._height ? this._height: Math.max(e, s.height * s.scaleY))
                    }
                    this.sortItem(t);
                    var r = 0;
                    for (i = 0, n = t.length; i < n; i++) s = t[i],
                    s.x = r,
                    r += s.width * s.scaleX + this._space,
                    "top" == this._align ? s.y = 0 : "middle" == this._align ? s.y = .5 * (e - s.height * s.scaleY) : "bottom" == this._align && (s.y = e - s.height * s.scaleY);
                    this.changeSize()
                },
                r(0, i, "height", t.prototype._$get_height,
                function(e) {
                    this._height != e && (t.prototype._$set_height.call(this, e), this.callLater(this.changeItems))
                }),
                e.NONE = "none",
                e.TOP = "top",
                e.MIDDLE = "middle",
                e.BOTTOM = "bottom",
                e
            } (Y),
            rt = function(t) {
                function e() {
                    e.__super.call(this)
                }
                s(e, "laya.ui.VBox", t);
                var i = e.prototype;
                return i.changeItems = function() {
                    this._itemChanged = !1;
                    for (var t = [], e = 0, i = 0, n = this.numChildren; i < n; i++) {
                        var s = this.getChildAt(i);
                        s && s.layoutEnabled && (t.push(s), e = this._width ? this._width: Math.max(e, s.width * s.scaleX))
                    }
                    this.sortItem(t);
                    var r = 0;
                    for (i = 0, n = t.length; i < n; i++) s = t[i],
                    s.y = r,
                    r += s.height * s.scaleY + this._space,
                    "left" == this._align ? s.x = 0 : "center" == this._align ? s.x = .5 * (e - s.width * s.scaleX) : "right" == this._align && (s.x = e - s.width * s.scaleX);
                    this.changeSize()
                },
                r(0, i, "width", t.prototype._$get_width,
                function(e) {
                    this._width != e && (t.prototype._$set_width.call(this, e), this.callLater(this.changeItems))
                }),
                e.NONE = "none",
                e.LEFT = "left",
                e.CENTER = "center",
                e.RIGHT = "right",
                e
            } (Y),
            at = function(t) {
                function e() {
                    e.__super.call(this)
                }
                return s(e, "laya.ui.RadioGroup", t),
                e.prototype.createItem = function(t, e) {
                    return new Q(t, e)
                },
                e
            } (q),
            ot = function(t) {
                function e() {
                    e.__super.call(this)
                }
                return s(e, "laya.ui.Tab", t),
                e.prototype.createItem = function(t, e) {
                    return new B(t, e)
                },
                e
            } (q),
            ht = function(t) {
                function e(t) {
                    this._vScrollBar = null,
                    this._hScrollBar = null,
                    void 0 === t && (t = ""),
                    e.__super.call(this, t)
                }
                s(e, "laya.ui.TextArea", t);
                var i = e.prototype;
                return i.destroy = function(e) {
                    void 0 === e && (e = !0),
                    t.prototype.destroy.call(this, e),
                    this._vScrollBar && this._vScrollBar.destroy(),
                    this._hScrollBar && this._hScrollBar.destroy(),
                    this._vScrollBar = null,
                    this._hScrollBar = null
                },
                i.initialize = function() {
                    this.width = 180,
                    this.height = 150,
                    this._tf.wordWrap = !0,
                    this.multiline = !0
                },
                i.onVBarChanged = function(t) {
                    this._tf.scrollY != this._vScrollBar.value && (this._tf.scrollY = this._vScrollBar.value)
                },
                i.onHBarChanged = function(t) {
                    this._tf.scrollX != this._hScrollBar.value && (this._tf.scrollX = this._hScrollBar.value)
                },
                i.changeScroll = function() {
                    var t = this._vScrollBar && this._tf.maxScrollY > 0,
                    e = this._hScrollBar && this._tf.maxScrollX > 0,
                    i = t ? this._width - this._vScrollBar.width: this._width,
                    n = e ? this._height - this._hScrollBar.height: this._height,
                    s = this._tf.padding || k.labelPadding;
                    this._tf.width = i,
                    this._tf.height = n,
                    this._vScrollBar && (this._vScrollBar.x = this._width - this._vScrollBar.width - s[2], this._vScrollBar.y = s[1], this._vScrollBar.height = this._height - (e ? this._hScrollBar.height: 0) - s[1] - s[3], this._vScrollBar.scrollSize = 1, this._vScrollBar.thumbPercent = n / Math.max(this._tf.textHeight, n), this._vScrollBar.setScroll(1, this._tf.maxScrollY, this._tf.scrollY), this._vScrollBar.visible = t),
                    this._hScrollBar && (this._hScrollBar.x = s[0], this._hScrollBar.y = this._height - this._hScrollBar.height - s[3], this._hScrollBar.width = this._width - (t ? this._vScrollBar.width: 0) - s[0] - s[2], this._hScrollBar.scrollSize = Math.max(.033 * i, 1), this._hScrollBar.thumbPercent = i / Math.max(this._tf.textWidth, i), this._hScrollBar.setScroll(0, this.maxScrollX, this.scrollX), this._hScrollBar.visible = e)
                },
                i.scrollTo = function(t) {
                    this.commitMeasure(),
                    this._tf.scrollY = t
                },
                r(0, i, "scrollY",
                function() {
                    return this._tf.scrollY
                }),
                r(0, i, "width", t.prototype._$get_width,
                function(e) {
                    t.prototype._$set_width.call(this, e),
                    this.callLater(this.changeScroll)
                }),
                r(0, i, "hScrollBar",
                function() {
                    return this._hScrollBar
                }),
                r(0, i, "height", t.prototype._$get_height,
                function(e) {
                    t.prototype._$set_height.call(this, e),
                    this.callLater(this.changeScroll)
                }),
                r(0, i, "maxScrollX",
                function() {
                    return this._tf.maxScrollX
                }),
                r(0, i, "vScrollBarSkin",
                function() {
                    return this._vScrollBar ? this._vScrollBar.skin: null
                },
                function(t) {
                    null == this._vScrollBar && (this.addChild(this._vScrollBar = new tt), this._vScrollBar.on("change", this, this.onVBarChanged), this._vScrollBar.target = this._tf, this.callLater(this.changeScroll)),
                    this._vScrollBar.skin = t
                }),
                r(0, i, "hScrollBarSkin",
                function() {
                    return this._hScrollBar ? this._hScrollBar.skin: null
                },
                function(t) {
                    null == this._hScrollBar && (this.addChild(this._hScrollBar = new V), this._hScrollBar.on("change", this, this.onHBarChanged), this._hScrollBar.mouseWheelEnable = !1, this._hScrollBar.target = this._tf, this.callLater(this.changeScroll)),
                    this._hScrollBar.skin = t
                }),
                r(0, i, "vScrollBar",
                function() {
                    return this._vScrollBar
                }),
                r(0, i, "maxScrollY",
                function() {
                    return this._tf.maxScrollY
                }),
                r(0, i, "scrollX",
                function() {
                    return this._tf.scrollX
                }),
                e
            } (et); !
            function(t) {
                function e() {
                    this._uiView = null,
                    this.isCloseOther = !1,
                    e.__super.call(this)
                }
                s(e, "laya.ui.AsynDialog", t);
                var i = e.prototype;
                i.createView = function(t) {
                    this._uiView = t
                },
                i._open = function(t, e) {
                    this.isModal = t,
                    this.isCloseOther = e,
                    nt.manager.lock(!0),
                    this._uiView ? this.onCreated() : this.onOpen()
                },
                i.onCreated = function() {
                    this.createUI(),
                    this.onOpen()
                },
                i.createUI = function() {
                    laya.ui.View.prototype.createView.call(this, this._uiView),
                    this._uiView = null,
                    this._dealDragArea()
                },
                i.onOpen = function() {
                    nt.manager.open(this, this.isCloseOther),
                    nt.manager.lock(!1)
                },
                i.close = function(t) {
                    nt.manager.close(this),
                    this.onClose()
                },
                i.onClose = function() {},
                i.destroy = function(t) {
                    void 0 === t && (t = !0),
                    laya.ui.View.prototype.destroy.call(this, t),
                    this._uiView = null,
                    this.onDestroy()
                },
                i.onDestroy = function() {}
            } (nt);
            i.__init([H])
        } (window, document, Laya)
    },
    function(t, e, i) {
        "use strict";
        function n() {
            n.__super.call(this),
            this.size(r, a),
            this.graphics.drawLine( - 5 * window.devicePixelRatio, 0, r - 5 * window.devicePixelRatio, 0, "#084e7f", 1 * window.devicePixelRatio),
            this.img = new Laya.Image,
            this.img.width = 40 * window.devicePixelRatio,
            this.img.height = 40 * window.devicePixelRatio,
            this.img.x = 50 * window.devicePixelRatio,
            this.img.y = 10 * window.devicePixelRatio,
            this.addChild(this.img);
            var t = new Laya.Image;
            t.width = 40 * window.devicePixelRatio,
            t.height = 40 * window.devicePixelRatio,
            t.x = 50 * window.devicePixelRatio,
            t.y = 10 * window.devicePixelRatio,
            t.skin = "res/result/circle2.png",
            this.addChild(t),
            this.setImg = function(t) {
                this.img.skin = t
            },
            this.setNick = function(t) {
                this.nick.text = t
            },
            this.setData = function(t) {
                this.scoreText.text = t.score + "",
                this.nickText.text = t.nick + "",
                this.img.skin = t.src,
                this.drawNum(t.index),
                this.statusText.text = t.status || "",
                "成功" === t.status && (this.statusText.color = "#efe680")
            },
            this.drawNum = function(t) {
                var e = t.toString().split("");
                this.indexText.graphics.clear();
                for (var i = 13.5 * window.devicePixelRatio,
                n = 21 * window.devicePixelRatio,
                s = 2 * window.devicePixelRatio,
                r = 0; r < e.length; r++) this.indexText.graphics.loadImage("res/result_score_num/" + e[r] + ".png", 0 + 15 * r * window.devicePixelRatio, 0, i, n),
                s += i;
                this.indexText.pos((50 * window.devicePixelRatio - s) / 2, (a - n) / 2)
            },
            this.setScore = function(t) {
                this.score.text = t
            },
            this.indexText = new Laya.Sprite,
            this.addChild(this.indexText),
            this.nickText = new Laya.Text,
            this.nickText.overflow = Laya.Text.HIDDEN,
            this.nickText.color = "#5fb8f7",
            this.nickText.fontSize = 14 * window.devicePixelRatio,
            this.nickText.x = 100 * window.devicePixelRatio,
            this.nickText.y = 25 * window.devicePixelRatio,
            this.addChild(this.nickText),
            this.scoreText = new Laya.Text,
            this.scoreText.overflow = Laya.Text.HIDDEN,
            this.scoreText.color = "#5fb8f7",
            this.scoreText.fontSize = 14 * window.devicePixelRatio,
            this.scoreText.x = 210 * window.devicePixelRatio,
            this.scoreText.y = 25 * window.devicePixelRatio,
            this.scoreText.width = 90 * window.devicePixelRatio,
            this.scoreText.align = "right",
            this.addChild(this.scoreText),
            this.statusText = new Laya.Text,
            this.statusText.overflow = Laya.Text.HIDDEN,
            this.statusText.color = "#5fb8f7",
            this.statusText.fontSize = 14 * window.devicePixelRatio,
            this.statusText.x = 140 * window.devicePixelRatio,
            this.statusText.y = 25 * window.devicePixelRatio,
            this.statusText.width = 90 * window.devicePixelRatio,
            this.statusText.align = "right",
            this.addChild(this.statusText)
        }
        var s = Laya.Box,
        r = 320 * window.devicePixelRatio,
        a = 60 * window.devicePixelRatio;
        Laya.class(n, "Item", s)
    },
    function(t, e, i) {
        "use strict";
        function n() {
            for (var t = ["res/fei1.png", "res/new_bg1.png", "res/start/logo.png", "res/start/start_btn.png", "res/little/baoshi_new.png", "res/liuxing.png", "res/bg1.png", "res/871f2e463d2b893ba247f3062179b504.png", "res/53c914c3d30c663fe9c26819ef54882d.png", "res/circle_nei.png", "res/circle.png", "res/result/kuang.png", "res/jiantou.png", "res/jiantou1.png", "res/hand.png"], e = 0; e < 7; e++) t.push("res/p/" + e + ".png");
            for (var e = 1; e < 14; e++) t.push("res/fly/" + e + ".png");
            return t
        }
        function s() {
            for (var t = ["res/share/share.png", "res/share/pk.png", "res/share/baoshi.png", "res/share/combo.png", "res/rank/replay.png"], e = 0; e < 13; e++) t.push("res/qiu/out" + e + ".png");
            Laya.loader.load([{
                url: t,
                type: Laya.Loader.IMAGE
            }])
        }
        function r() {
            for (var t = ["res/qiu/yun_group.png", "res/qiu/yun3.png", "res/qiu/yun4.png", "res/qiu/tu.png", "res/qiu/yun2.png", "res/qiu/yun1.png", "res/qiu/wei.png", "res/qiu/tian.png", "res/qiu/ming.png", "res/qiu/di.png", "res/qiu/mu.png", "res/qiu/huo.png", "res/qiu/shui.png", "res/qiu/hai.png", "res/qiu/hei.png", "res/qiu/jin.png", "res/qiu/ceres.png", "res/0e10aaa60c459c91d5022bcdf2e5b822.png", "res/result/circle2.png", "res/bar/close.png", "res/bar/bar1.png", "res/bar/fen.png", "res/bar/kuang2.png", "res/bar/baoshi.png", "res/kuang2.png", "res/result/tiaozhan.png", "res/rank/back.png", "res/result/share_title.png", "res/result/concent-new.png", "res/result/pk.png", "res/result/100.png", "res/result/200.png", "res/result/300.png", "res/result/400.png", "res/result/rank.png", "res/default_head.png", "res/result/defen.png", "res/combos/1/combo.png", "res/combos/2/combo.png", "res/combos/3/combo.png", "res/light/text.png", "res/light/light.png", "res/rewards/bg.png"], e = 1; e < 5; e++) t.push("res/rewards/" + e + ".png");
            for (var e = 1; e < 7; e++) t.push("res/baoshi_bone/" + e + ".png");
            for (var e = 1; e < 6; e++) t.push("res/light/" + e + ".png");
            for (var e = 0; e < 11; e++) t.push("res/start/circle/" + (200 + 40 * e) + ".png");
            for (var e = 1; e < 6; e++) t.push("res/bone/" + e + ".png");
            for (var e = 1; e < 6; e++) t.push("res/combos/light/" + e + ".png");
            for (var e = 0; e < 10; e++) t.push("res/result_score_num/" + e + ".png"),
            t.push("res/bar_num/" + e + ".png"),
            t.push("res/combos/1/" + e + ".png"),
            t.push("res/combos/2/" + e + ".png"),
            t.push("res/combos/3/" + e + ".png");
            Laya.loader.load([{
                url: t,
                type: Laya.Loader.IMAGE
            }])
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.getPreLoadResource = n,
        e.loadSecondResource = s,
        e.loadStaticDataLazy = r;
        var a = i(0),
        o = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (a);
        o.
    default.PREFIX_URL
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.width = h.
            default.GameWidth,
                t.height = h.
            default.GameHeight,
                t.SPEED = 3 * window.devicePixelRatio,
                t.init(),
                t
            }
            return r(e, t),
            a(e, [{
                key: "init",
                value: function() {
                    this.renderBg(),
                    this.renderCycleBg(),
                    this.renderCycleBg2()
                }
            },
            {
                key: "renderBg",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/new_bg1.png",
                    t.height = h.
                default.GameWidth / (t.width / t.height),
                    t.width = h.
                default.GameWidth,
                    this.y = h.
                default.GameHeight - t.height,
                    this.addChild(t)
                }
            },
            {
                key: "renderCycleBg",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/bg1.png",
                    t.height = h.
                default.GameWidth / (t.width / t.height),
                    t.width = h.
                default.GameWidth,
                    this.bgImgHeight = 1 - t.height,
                    t.y = this.bgImgHeight,
                    this.bg1 = t,
                    this.addChild(t)
                }
            },
            {
                key: "renderCycleBg2",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/bg1.png",
                    t.height = h.
                default.GameWidth / (t.width / t.height),
                    t.width = h.
                default.GameWidth,
                    this.bgImgHeight = 1 - t.height,
                    t.y = 2 * this.bgImgHeight,
                    this.bg2 = t,
                    this.addChild(t)
                }
            },
            {
                key: "animation",
                value: function() {
                    this.bg1.y + this.y >= -this.bgImgHeight && (this.bg1.y += 2 * this.bgImgHeight),
                    this.bg2.y + this.y >= -this.bgImgHeight && (this.bg2.y += 2 * this.bgImgHeight),
                    this.y += this.SPEED
                }
            },
            {
                key: "stop",
                value: function() {
                    Laya.timer.clear(this, this.animation)
                }
            },
            {
                key: "start",
                value: function() {
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = l
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.init(),
                t
            }
            return r(e, t),
            a(e, [{
                key: "init",
                value: function() {
                    this.renderBg(),
                    this.createText()
                }
            },
            {
                key: "renderBg",
                value: function() {
                    this.graphics.drawRect(0, 0, h.
                default.GameWidth, h.
                default.GameHeight, "#000000")
                }
            },
            {
                key: "createText",
                value: function() {
                    var t = new Laya.Sprite,
                    e = new Laya.Text;
                    e.overflow = Laya.Text.HIDDEN,
                    e.color = "#82b9c7",
                    e.fontSize = 14 * window.devicePixelRatio,
                    e.text = "拼命加载中...",
                    t.addChild(e);
                    var i = t.getBounds().width;
                    t.x = (h.
                default.GameWidth - i) / 2,
                    t.y = (h.
                default.GameHeight - t.getBounds().height) / 2,
                    this.addChild(t)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = l
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        for (var o = (function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } ()), h = i(0), l = n(h), u = i(16), c = n(u), d = i(4), _ = n(d), f = i(12), p = n(f), g = i(15), y = n(g), v = i(14), m = n(v), w = i(8), x = (n(w), i(13)), b = n(x), S = i(1), C = n(S), P = i(18), k = n(P), T = i(10), M = n(T), R = i(3), I = i(41), L = n(I), D = i(17), B = new C.
    default, E = 30 * window.devicePixelRatio, A = (window.devicePixelRatio, {
            uirender: Symbol("uirender"),
            blocks: Symbol("blocks"),
            block: Symbol("block"),
            next: Symbol("next"),
            preview: Symbol("preview"),
            hasOverReport: Symbol("hasOverReport")
        }), O = ["shui", "wei", "jin", "di", "huo", "ceres", "mu", "tu", "tian", "hai", "ming"], N = ["yun1", "yun2", "yun3", "yun4"], F = {},
        U = 0; U < l.
    default.planets.length; U++) F[l.
    default.planets[U].url] = l.
    default.planets[U];
        var G = function(t) {
            function e() {
                s(this, e);
                var t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t._createCount = 0,
                t.key_id = 0,
                t.maxQiu = "shui",
                t[A.blocks] = [],
                t.getFriendData(),
                t.initStartUp(),
                t
            }
            return a(e, t),
            o(e, [{
                key: "initAirPlaneAndScenes",
                value: function() {
                    this.currentBlock = this[A.blocks][0],
                    this[A.uirender] && (this[A.uirender].destroy(), this[A.uirender] = null),
                    this[A.uirender] = new c.
                default(this[A.blocks]),
                    this.addChild(this[A.uirender]),
                    this.initMoreBlocks()
                }
            },
            {
                key: "getFriendData",
                value: function(t) {
                    function e(t) {
                        for (var e = {},
                        i = 0; i < t.length; i++) e[t[i].user_id] = t[i];
                        return e
                    }
                    var i = this;
                    this._friendData = {};
                    var n = this; (0, R.getFriendRank)({
                        appid: "wx7a727ff7d940bb3f",
                        rank_key_list: ["level", "newscore", "combo", "baoshi"]
                    }).then(function(s) {
                        window._allFriendData = s.data || {};
                        var r = {};
                        s.data = s.data || {};
                        try {
                            var a = e(s.data.user_multi_rank.user_info_list),
                            o = i.findData(s.data.user_multi_rank.rank_list, "level") || {}
                        } catch(t) {
                            var a = {},
                            o = {}
                        } (o.rank_item_list || []).forEach(function(t) {
                            r[t.value] = {
                                nick: (a[t.user_id] || {}).nick_name,
                                src: (a[t.user_id] || {}).head_img_url
                            }
                        }),
                        n._friendData = r,
                        t && t()
                    })
                }
            },
            {
                key: "findData",
                value: function(t, e) {
                    for (var i = 0; i < t.length; i++) if (t[i].key === e) return t[i]
                }
            },
            {
                key: "initStartUp",
                value: function() {
                    var t = this;
                    this.startUpSprite = new L.
                default(function() {
                        t.initBlocks(),
                        t.initAirPlaneAndScenes(),
                        D.GuideControl.initGuide(t),
                        t.start()
                    },
                    function() {
                        window.coordinate.visible = !0,
                        window.coordinate.use_time = Date.now(),
                        t.initAirPlane(),
                        t.startUpSprite.destroy(),
                        t.startUpSprite = null,
                        t.bindEvent()
                    }),
                    this.addChild(this.startUpSprite),
                    window._Event.on("dead",
                    function(t) {
                        console.error(Date.now() - t),
                        this.renderResult(t)
                    }.bind(this)),
                    window._Event.on("play_reward",
                    function() {
                        this.stop()
                    }.bind(this)),
                    window._Event.on("go_on",
                    function() {
                        var t = this.air.level;
                        t > 20 ? this.air.level -= 15 : t > 10 ? this.air.level -= 5 : this.air.level = 4,
                        this.start()
                    }.bind(this))
                }
            },
            {
                key: "animation",
                value: function() {
                    if (this.air) {
                        if (this.air.gameOver) return void this.stop();
                        this.addMoreBlock(),
                        this.checkPlanetIsOutScreen()
                    }
                    if (this.air) {
                        var t = this.air.level,
                        e = this.air.plane;
                        if (t > 3) {
                            var i = 200 / (this.y / window.devicePixelRatio + e.y / window.devicePixelRatio) * 4 * window.devicePixelRatio;
                            t > 50 ? this.y += this.getSpeed(i, 3) : t > 40 ? this.y += this.getSpeed(i, 2.5) : t > 30 ? this.y += this.getSpeed(i, 2.2) : t > 10 ? this.y += this.getSpeed(i, 1.8) : t > 3 && (this.y += this.getSpeed(i, 1.5))
                        } else t > 2 && (this.y = this.y + 1 * window.devicePixelRatio)
                    } else this.y += 3 * window.devicePixelRatio
                }
            },
            {
                key: "getSpeed",
                value: function(t, e) {
                    return t = +t.toFixed(2),
                    +(t < e * window.devicePixelRatio ? e * window.devicePixelRatio: t).toFixed(2)
                }
            },
            {
                key: "renderResult",
                value: function(t) {
                    if (window.coordinate.uploadScore(), window.coordinate.visible = !1, window._pk_user_game_id) return window._pkRank || (window._pkRank = new k.
                default, window.stage.addChild(window._pkRank)),
                    void _pkRank.initData(window.query, window.group_info,
                    function() {},
                    {
                        newscore: window.coordinate.score
                    });
                    var e = {
                        score: window.coordinate.score,
                        type: this.maxQiu,
                        baoshi: window.coordinate.energeNum + window.coordinate.rewardEnergeNum,
                        combo: window.coordinate.maxCombo,
                        level: window.coordinate.lightYear
                    };
                    this.resultSprite ? (this.resultSprite.reset(e), this.resultSprite.visible = !0) : (this.resultSprite = new M.
                default(e), window.stage.addChild(this.resultSprite))
                }
            },
            {
                key: "reset",
                value: function() {
                    this.y = 600 * window.devicePixelRatio,
                    this.x = 0,
                    this.key_id = 0,
                    this._createCount = 0,
                    this._passHeiDong = !1,
                    D.GuideControl.resetGuide(),
                    window._shareInfo.imageUrl = l.
                default.PREFIX_URL + "result/sharebanner2.png",
                    this.maxQiu = "shui",
                    O = ["shui", "wei", "jin", "di", "huo", "ceres", "mu", "tu", "tian", "hai", "ming"],
                    this[A.blocks] = null,
                    this[A.blocks] = [],
                    window.coordinate.reset(),
                    window.coordinate.visible = !0,
                    window._GC()
                }
            },
            {
                key: "reStart",
                value: function() {
                    window._shareInfo.query = "share=1",
                    window._shareInfo.title = "星途，穿越未知银河道途",
                    this.stop(),
                    this.getFriendData(),
                    this.reset(),
                    this.initBlocks(),
                    this.initAirPlaneAndScenes(),
                    this.air.reset(this.currentBlock, this[A.blocks]),
                    this.start(),
                    window.coordinate.use_time = Date.now()
                }
            },
            {
                key: "checkPlanetIsOutScreen",
                value: function() {
                    this.air.plane.y + this.y > l.
                default.GameHeight && (this.air._destory(), B.playDead(), this.stop())
                }
            },
            {
                key: "createNewRandomOutPlant",
                value: function() {
                    return {
                        url: "out" + this.getRandomNumber(12, 1),
                        radius: this.getRandomNumber(20, 100) * window.devicePixelRatio,
                        correction: {
                            x: 0,
                            y: 0
                        },
                        img: {
                            width: 290 * window.devicePixelRatio,
                            height: 290 * window.devicePixelRatio,
                            coefficient: this.getRandomNumber(50, 150) * window.devicePixelRatio
                        }
                    }
                }
            },
            {
                key: "addMoreBlock",
                value: function(t, e) {
                    if (t || this.y > -this._lastBlock.point.currY) {
                        t || e || ++this._createCount > this.getRandomNumber(5, 5) && (this._createCount = 0, e = F[O.shift()] || this.createNewRandomOutPlant()),
                        e ? e.angle = "yun2" !== e.url ? this.getAngleForNextAngle(this._lastBlock, e) : e.angle: e = "ming" === this._lastBlock.blockInfo.url ? F.yun: "yun" === this._lastBlock.blockInfo.url ? F.hei: this.getRandomPlanetByLastBlock(this._lastBlock);
                        var i = JSON.parse(JSON.stringify(e));
                        this.addBaoshiRandom(i),
                        this._passHeiDong && "out0" !== i.url && this.addObstacleRandom(i);
                        var n = this.createBlock(i, this.key_id++);
                        "hei" === n.blockInfo.url && (this._passHeiDong = !0),
                        this[A.uirender].renderOnePlanet(n)
                    }
                }
            },
            {
                key: "getAngleForNextAngle",
                value: function(t, e) {
                    for (var i, n = [], s = -30; s < 30; s++) {
                        i = this.getNextPoint(t.circle, e.radius, s).nextPoint;
                        var r = i.currX + e.radius,
                        a = i.currX - e.radius;
                        r < l.
                    default.GameWidth - 20 && a > 20 && n.push(s >= 0 ? s: 360 + s)
                    }
                    return n.length ? n[this.getRandomNumber(n.length)] : 0
                }
            },
            {
                key: "getRandomPlanetByLastBlock",
                value: function(t) {
                    if (this._passHeiDong) var e = F.out0;
                    else var i = N[this.getRandomNumber(N.length)],
                    e = F[i];
                    return e.radius = this.getRandomNumber(35, 45) * window.devicePixelRatio,
                    e.angle = this.getAngleForNextAngle(t, e),
                    e
                }
            },
            {
                key: "getRandomNumber",
                value: function(t, e) {
                    return~~ (Math.random() * t) + (e || 0)
                }
            },
            {
                key: "stop",
                value: function() {
                    Laya.timer.clear(this, this.animation)
                }
            },
            {
                key: "start",
                value: function() {
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            },
            {
                key: "initAirPlane",
                value: function() {
                    this.air = new m.
                default(this.currentBlock, this[A.blocks]),
                    this.addChild(this.air)
                }
            },
            {
                key: "bindEvent",
                value: function() {
                    var t = this;
                    document.addEventListener("touchstart",
                    function(e) {
                        if (! (e.touches[0].clientY < 50) && t.air && !t.air.gameOver && !t.air.stoped && D.GuideControl.getGuideClickStatus()) {
                            D.GuideControl.status && (t.air.reStart(), D.GuideControl.switchGuide());
                            var i;
                            if (1 === t.air.getSideState()) if (i = t.checkInSideEdge()) {
                                var n = t.getNextBlock(i);
                                t.air.reRender(n, t.currentBlock, i);
                                var s = n.blockInfo.url; - 1 === N.indexOf(s) && -1 === ["wei", "out0", "hei", "yun"].indexOf(s) && (t.maxQiu = s),
                                t.currentBlock = n
                            } else t.air.changeSide();
                            else t.air.changeSide()
                        }
                    },
                    !1)
                }
            },
            {
                key: "getNextBlock",
                value: function(t) {
                    for (var e = this,
                    i = 0; i < t.blocks.length; i++) {
                        var n = t.blocks[i];
                        if (n !== e.currentBlock.key_id) return this.getBlockByKeyId(n)
                    }
                }
            },
            {
                key: "getBlockByKeyId",
                value: function(t) {
                    for (var e = 0; e < this[A.blocks].length; e++) if (t === this[A.blocks][e].key_id) return this[A.blocks][e]
                }
            },
            {
                key: "checkInSideEdge",
                value: function() {
                    for (var t = 0; t < this.currentBlock.cutOffPoints.length; t++) if (Math.sqrt(Math.pow(this.air.plane.x - this.currentBlock.cutOffPoints[t].currX, 2) + Math.pow(this.air.plane.y - this.currentBlock.cutOffPoints[t].currY, 2)) < E) return this.currentBlock.cutOffPoints[t];
                    return ! 1
                }
            },
            {
                key: "initBlocks",
                value: function() {
                    var t = O.shift();
                    if (t) {
                        var e = JSON.parse(JSON.stringify(F[t]));
                        this.createBlock(e, this.key_id++)
                    }
                }
            },
            {
                key: "initMoreBlocks",
                value: function() {
                    var t = JSON.parse(JSON.stringify(F.yun2));
                    this.addBaoshiRandom(t),
                    this.addMoreBlock(1, t);
                    for (var e = 1; e < 5; e++) this.addMoreBlock(1);
                    var i = O.shift();
                    i && (t = JSON.parse(JSON.stringify(F[i])), this.addBaoshiRandom(t), this.addMoreBlock(1, t))
                }
            },
            {
                key: "addBaoshiRandom",
                value: function(t) {
                    return t.energyPoints = [],
                    this.getRandomNumber(4) > (window.isDIDUAN ? 2 : 1) && t.energyPoints.push({
                        side: this.getRandomNumber(2, 1),
                        angle: this.getRandomNumber(2, 1) % 2 ? this.getRandomNumber(20, 260) : this.getRandomNumber(20, 80)
                    }),
                    t
                }
            },
            {
                key: "addObstacleRandom",
                value: function(t) {
                    return this.getRandomNumber(2) && (t.obstacles = [], t.obstacles.push({
                        side: this.getRandomNumber(3, 2) % 2,
                        angle: this.getRandomNumber(2, 1) % 2 ? this.getRandomNumber(20, 260) : this.getRandomNumber(20, 80)
                    })),
                    t
                }
            },
            {
                key: "createBlock",
                value: function(t, e) {
                    var i = JSON.parse(JSON.stringify(t)),
                    n = (this._friendData || {})[e + 100];
                    if (n && (n.angle = [90, 270, 120, 240][this.getRandomNumber(4)], i.friends = [n]), this[A.blocks].length) var s = this.getNextPoint(this._lastBlock.circle, i.radius, i.angle),
                    r = s.nextPoint,
                    a = this.createCircle(r, i.radius);
                    else var r = this.createPoint(),
                    a = this.createCircle(r, i.radius);
                    var o = new y.
                default(a, r, "", i, e);
                    if (e > 0) {
                        var h = this.getPreBlock(e);
                        if (!h) return;
                        var l = this.createCutOffPoint(s.cutOffPoint.currX, s.cutOffPoint.currY, [h.key_id, o.key_id]);
                        h.addCutOffPoints(l),
                        o.addCutOffPoints(l)
                    }
                    return this[A.blocks].push(o),
                    this._lastBlock = o,
                    o
                }
            },
            {
                key: "getLastBlock",
                value: function() {
                    return this[A.blocks][this[A.blocks].length - 1]
                }
            },
            {
                key: "getPreBlock",
                value: function(t) {
                    return this[A.blocks][t - 1]
                }
            },
            {
                key: "getNextPoint",
                value: function(t, e, i) {
                    var n = Math.sin(Math.PI * (i || 0) / 180),
                    s = Math.cos(Math.PI * (i || 0) / 180),
                    r = t.radius + e - t.border,
                    a = n * r,
                    o = t.radius,
                    h = n * o,
                    l = -s * r,
                    u = -s * o;
                    return {
                        nextPoint: new _.
                    default(t.point.currX + a, t.point.currY + l),
                        cutOffPoint: new _.
                    default(t.point.currX + h, t.point.currY + u)
                    }
                }
            },
            {
                key: "createPoint",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l.
                default.startX,
                    e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : l.
                default.startY;
                    return new _.
                default(t, e)
                }
            },
            {
                key: "createCircle",
                value: function(t, e) {
                    return new p.
                default(t, e)
                }
            },
            {
                key: "createCutOffPoint",
                value: function(t, e, i) {
                    return new b.
                default(t, e, i)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = G
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.Metero = void 0;
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = 91 * window.devicePixelRatio,
        u = 207 * window.devicePixelRatio,
        c = e.Metero = function(t) {
            function e() {
                return n(this, e),
                s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this))
            }
            return r(e, t),
            a(e, [{
                key: "init",
                value: function() {
                    this.SPEED = (1 + ~~ (3 * Math.random())) * window.devicePixelRatio,
                    this.zoom = 2 + ~~ (5 * Math.random()),
                    this._alpha = 1,
                    this.alpha = 0,
                    this.visible = !0,
                    this.x = ~~ (Math.random() * h.
                default.GameWidth),
                    this.y = ~~ (Math.random() * h.
                default.GameHeight),
                    this.graphics.clear(),
                    this.graphics.loadImage("res/liuxing.png", 0, 0, l / this.zoom, u / this.zoom),
                    setTimeout(function() {
                        this.start()
                    }.bind(this), 800 * ~~ (10 * Math.random()))
                }
            },
            {
                key: "animation",
                value: function() {
                    this.y += this.SPEED,
                    this.x += this.SPEED * (l / u),
                    this._alpha = this._alpha - 4e-4 * this.SPEED,
                    this.alpha = this._alpha,
                    (this.y > h.
                default.GameHeight || this.x > h.
                default.GameWidth) && this.stop()
                }
            },
            {
                key: "stop",
                value: function() {
                    this.visible = !1,
                    Laya.timer.clear(this, this.animation),
                    Laya.Pool.recover("Metero", this)
                }
            },
            {
                key: "start",
                value: function() {
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            }]),
            e
        } (Laya.Sprite),
        d = function(t) {
            function e() {
                return n(this, e),
                s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this))
            }
            return r(e, t),
            a(e, [{
                key: "play",
                value: function() {
                    for (var t = 0; t < 10; t++) {
                        var e = Laya.Pool.getItemByClass("Metero", c);
                        e.init(),
                        this.addChild(e)
                    }
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = d
    },
    function(t, e, i) {
        "use strict";
        var n = i(0),
        s = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (n),
        r = window.innerWidth * window.devicePixelRatio / s.
    default.GameWidth,
        a = window.innerHeight * window.devicePixelRatio / s.
    default.GameHeight,
        o = Math.min(a, r);
        window.stage = new Laya.Sprite,
        Laya.stage.addChild(window.stage),
        window.stage.width = s.
    default.GameWidth,
        window.stage.height = s.
    default.GameHeight;
        var h = s.
    default.GameWidth * o,
        l = s.
    default.GameHeight * o;
        setTimeout(function(t) {
            var e = 0,
            i = 0;
            if (a < r) {
                var i = .5 * (window.innerWidth * window.devicePixelRatio - h);
                i = Math.abs(i) > 5 ? (Laya.stage.width - window.stage.width) / 2 : 0
            } else {
                var e = .5 * (window.innerHeight * window.devicePixelRatio - l);
                e = Math.abs(e) > 5 ? (Laya.stage.height - window.stage.height) / 2 : 0
            }
            if (window.stage.y = e, window.stage.x = i, e || i) {
                var n = new Laya.Sprite;
                e ? n.graphics.loadImage("res/fixedbar.png", 0, 0, s.
            default.GameWidth, e) : n.graphics.drawRect(0, 0, i, s.
            default.GameHeight, "#000");
                var o = new Laya.Sprite;
                e ? o.graphics.loadImage("res/fixedbar2.png", 0, s.
            default.GameHeight + e, s.
            default.GameWidth, e) : o.graphics.drawRect(s.
            default.GameWidth + i, 0, i, s.
            default.GameHeight, "#000"),
                Laya.stage.addChild(n),
                Laya.stage.addChild(o)
            }
        },
        150)
    },
    function(t, e, i) {
        "use strict";
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
        function(t) {
            return typeof t
        }: function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol": typeof t
        }; !
        function(t) {
            function e(n) {
                if (i[n]) return i[n].exports;
                var s = i[n] = {
                    exports: {},
                    id: n,
                    loaded: !1
                };
                return t[n].call(s.exports, s, s.exports, e),
                s.loaded = !0,
                s.exports
            }
            var i = {};
            e.m = t,
            e.c = i,
            e.p = "",
            e(0)
        } ([function(t, e, i) {
            var n = i(1),
            s = function(t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t) for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.
            default = t,
                e
            } (n),
            r = GameGlobal;
            GameGlobal.__isAdapterInjected || (GameGlobal.__isAdapterInjected = !0,
            function() {
                s.addEventListener = function(t, e) {
                    s.document.addEventListener(t, e)
                },
                s.removeEventListener = function(t, e) {
                    s.document.removeEventListener(t, e)
                },
                s.canvas && (s.canvas.addEventListener = s.addEventListener, s.canvas.removeEventListener = s.removeEventListener),
                r.sharedCanvas && (sharedCanvas.addEventListener = s.addEventListener, sharedCanvas.removeEventListener = s.removeEventListener);
                var t = wx.getSystemInfoSync(),
                e = t.platform;
                if ("undefined" == typeof __devtoolssubcontext && "devtools" === e) {
                    for (var i in s) {
                        var n = Object.getOwnPropertyDescriptor(r, i);
                        n && !0 !== n.configurable || Object.defineProperty(window, i, {
                            value: s[i]
                        })
                    }
                    for (var a in s.document) {
                        var o = Object.getOwnPropertyDescriptor(r.document, a);
                        o && !0 !== o.configurable || Object.defineProperty(r.document, a, {
                            value: s.document[a]
                        })
                    }
                    window.parent = window
                } else {
                    for (var h in s) r[h] = s[h];
                    r.window = s,
                    window = r,
                    window.top = window.parent = window
                }
            } ())
        },
        function(t, e, i) {
            function n(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            }),
            e.cancelAnimationFrame = e.requestAnimationFrame = e.clearInterval = e.clearTimeout = e.setInterval = e.setTimeout = e.canvas = e.location = e.localStorage = e.HTMLElement = e.FileReader = e.Audio = e.Image = e.WebSocket = e.XMLHttpRequest = e.navigator = e.document = void 0;
            var s = i(2);
            Object.keys(s).forEach(function(t) {
                "default" !== t && "__esModule" !== t && Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: function() {
                        return s[t]
                    }
                })
            });
            var r = i(3);
            Object.keys(r).forEach(function(t) {
                "default" !== t && "__esModule" !== t && Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: function() {
                        return r[t]
                    }
                })
            });
            var a = i(9),
            o = n(a),
            h = i(23),
            l = i(10),
            u = n(l),
            c = i(17),
            d = n(c),
            _ = i(18),
            f = n(_),
            p = i(19),
            g = n(p),
            y = i(11),
            v = n(y),
            m = i(12),
            w = n(m),
            x = i(20),
            b = n(x),
            S = i(4),
            C = n(S),
            P = i(21),
            k = n(P),
            T = i(22),
            M = n(T);
            e.document = u.
        default,
            e.navigator = d.
        default,
            e.XMLHttpRequest = f.
        default,
            e.WebSocket = g.
        default,
            e.Image = v.
        default,
            e.Audio = w.
        default,
            e.FileReader = b.
        default,
            e.HTMLElement = C.
        default,
            e.localStorage = k.
        default,
            e.location = M.
        default;
            var R = (0, h.isSubContext)() ? void 0 : new o.
        default;
            e.canvas = R,
            e.setTimeout = setTimeout,
            e.setInterval = setInterval,
            e.clearTimeout = clearTimeout,
            e.clearInterval = clearInterval,
            e.requestAnimationFrame = requestAnimationFrame,
            e.cancelAnimationFrame = cancelAnimationFrame
        },
        function(t, e) {
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var i = wx.getSystemInfoSync(),
            n = i.screenWidth,
            s = i.screenHeight,
            r = i.devicePixelRatio,
            a = e.innerWidth = n,
            o = e.innerHeight = s;
            e.devicePixelRatio = r;
            e.screen = {
                availWidth: a,
                availHeight: o
            },
            e.performance = {
                now: function() {
                    return Date.now() / 1e3
                }
            },
            e.ontouchstart = null,
            e.ontouchmove = null,
            e.ontouchend = null
        },
        function(t, e, i) {
            function s(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return ! e || "object" !== (void 0 === e ? "undefined": n(e)) && "function" != typeof e ? t: e
            }
            function a(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined": n(e)));
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            }),
            e.HTMLCanvasElement = e.HTMLImageElement = void 0;
            var o = i(4),
            h = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (o);
            e.HTMLImageElement = function(t) {
                function e() {
                    return s(this, e),
                    r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, "img"))
                }
                return a(e, t),
                e
            } (h.
        default),
            e.HTMLCanvasElement = function(t) {
                function e() {
                    return s(this, e),
                    r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, "canvas"))
                }
                return a(e, t),
                e
            } (h.
        default)
        },
        function(t, e, i) {
            function s(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return ! e || "object" !== (void 0 === e ? "undefined": n(e)) && "function" != typeof e ? t: e
            }
            function a(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined": n(e)));
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            h = i(5),
            l = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (h),
            u = i(8),
            c = i(2),
            d = function(t) {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    s(this, e);
                    var i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                    return i.className = "",
                    i.childern = [],
                    i.style = {
                        width: c.innerWidth + "px",
                        height: c.innerHeight + "px"
                    },
                    i.insertBefore = u.noop,
                    i.innerHTML = "",
                    i.tagName = t.toUpperCase(),
                    i
                }
                return a(e, t),
                o(e, [{
                    key: "setAttribute",
                    value: function(t, e) {
                        this[t] = e
                    }
                },
                {
                    key: "getAttribute",
                    value: function(t) {
                        return this[t]
                    }
                },
                {
                    key: "getBoundingClientRect",
                    value: function() {
                        return {
                            top: 0,
                            left: 0,
                            width: c.innerWidth,
                            height: c.innerHeight
                        }
                    }
                },
                {
                    key: "focus",
                    value: function() {}
                },
                {
                    key: "clientWidth",
                    get: function() {
                        var t = parseInt(this.style.fontSize, 10) * this.innerHTML.length;
                        return Number.isNaN(t) ? 0 : t
                    }
                },
                {
                    key: "clientHeight",
                    get: function() {
                        var t = parseInt(this.style.fontSize, 10);
                        return Number.isNaN(t) ? 0 : t
                    }
                }]),
                e
            } (l.
        default);
            e.
        default = d
        },
        function(t, e, i) {
            function s(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return ! e || "object" !== (void 0 === e ? "undefined": n(e)) && "function" != typeof e ? t: e
            }
            function a(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined": n(e)));
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = i(6),
            h = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (o),
            l = function(t) {
                function e() {
                    s(this, e);
                    var t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                    return t.className = "",
                    t.children = [],
                    t
                }
                return a(e, t),
                e
            } (h.
        default);
            e.
        default = l
        },
        function(t, e, i) {
            function s(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return ! e || "object" !== (void 0 === e ? "undefined": n(e)) && "function" != typeof e ? t: e
            }
            function a(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined": n(e)));
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            h = i(7),
            l = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (h),
            u = function(t) {
                function e() {
                    s(this, e);
                    var t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                    return t.childNodes = [],
                    t
                }
                return a(e, t),
                o(e, [{
                    key: "appendChild",
                    value: function(t) {
                        if (! (t instanceof e)) throw new TypeError("Failed to executed 'appendChild' on 'Node': parameter 1 is not of type 'Node'.");
                        this.childNodes.push(t)
                    }
                },
                {
                    key: "cloneNode",
                    value: function() {
                        var t = Object.create(this);
                        return Object.assign(t, this),
                        t
                    }
                },
                {
                    key: "removeChild",
                    value: function(t) {
                        var e = this.childNodes.findIndex(function(e) {
                            return e === t
                        });
                        return e > -1 ? this.childNodes.splice(e, 1) : null
                    }
                }]),
                e
            } (l.
        default);
            e.
        default = u
        },
        function(t, e) {
            function i(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            s = new WeakMap,
            r = function() {
                function t() {
                    i(this, t),
                    s.set(this, {})
                }
                return n(t, [{
                    key: "addEventListener",
                    value: function(t, e) {
                        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        n = s.get(this);
                        n || (n = {},
                        s.set(this, n)),
                        n[t] || (n[t] = []),
                        n[t].push(e),
                        i.capture && console.warn("EventTarget.addEventListener: options.capture is not implemented."),
                        i.once && console.warn("EventTarget.addEventListener: options.once is not implemented."),
                        i.passive && console.warn("EventTarget.addEventListener: options.passive is not implemented.")
                    }
                },
                {
                    key: "removeEventListener",
                    value: function(t, e) {
                        var i = s.get(this)[t];
                        if (i && i.length > 0) for (var n = i.length; n--; n > 0) if (i[n] === e) {
                            i.splice(n, 1);
                            break
                        }
                    }
                },
                {
                    key: "dispatchEvent",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = s.get(this)[t.type];
                        if (e) for (var i = 0; i < e.length; i++) e[i](t)
                    }
                }]),
                t
            } ();
            e.
        default = r
        },
        function(t, e) {
            function i() {}
            function n() {
                return "undefined" != typeof GameGlobal && !0 === GameGlobal.__isSubContext
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            }),
            e.noop = i,
            e.isSubContext = n
        },
        function(t, e, i) {
            function n(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            }
            function s() {
                var t = wx.createCanvas();
                t.type = "canvas",
                t.__proto__.__proto__ = new a.
            default("canvas");
                t.getContext;
                return t.getBoundingClientRect = function() {
                    return {
                        top: 0,
                        left: 0,
                        width: window.innerWidth,
                        height: window.innerHeight
                    }
                },
                t
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            }),
            e.
        default = s;
            var r = (i(3), i(4)),
            a = n(r),
            o = i(10);
            n(o)
        },
        function(t, e, i) {
            function n(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var s = i(1),
            r = function(t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t) for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.
            default = t,
                e
            } (s),
            a = i(4),
            o = n(a),
            h = i(11),
            l = n(h),
            u = i(12),
            c = n(u),
            d = i(9),
            _ = n(d);
            i(15);
            var f = {},
            p = {
                readyState: "complete",
                visibilityState: "visible",
                documentElement: r,
                hidden: !1,
                style: {},
                location: r.location,
                ontouchstart: null,
                ontouchmove: null,
                ontouchend: null,
                head: new o.
            default("head"),
                body: new o.
            default("body"),
                createElement: function(t) {
                    return "canvas" === t ? new _.
                default:
                    "audio" === t ? new c.
                default:
                    "img" === t ? new l.
                default:
                    new o.
                default(t)
                },
                getElementById: function(t) {
                    return t === r.canvas.id ? r.canvas: null
                },
                getElementsByTagName: function(t) {
                    return "head" === t ? [p.head] : "body" === t ? [p.body] : "canvas" === t ? [r.canvas] : []
                },
                querySelector: function(t) {
                    return "head" === t ? p.head: "body" === t ? p.body: "canvas" === t ? r.canvas: t === "#" + r.canvas.id ? r.canvas: null
                },
                querySelectorAll: function(t) {
                    return "head" === t ? [p.head] : "body" === t ? [p.body] : "canvas" === t ? [r.canvas] : []
                },
                addEventListener: function(t, e) {
                    f[t] || (f[t] = []),
                    f[t].push(e)
                },
                removeEventListener: function(t, e) {
                    var i = f[t];
                    if (i && i.length > 0) for (var n = i.length; n--; n > 0) if (i[n] === e) {
                        i.splice(n, 1);
                        break
                    }
                },
                dispatchEvent: function(t) {
                    var e = f[t.type];
                    if (e) for (var i = 0; i < e.length; i++) e[i](t)
                }
            };
            e.
        default = p
        },
        function(t, e) {
            function i() {
                return wx.createImage()
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            }),
            e.
        default = i
        },
        function(t, e, i) {
            function s(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return ! e || "object" !== (void 0 === e ? "undefined": n(e)) && "function" != typeof e ? t: e
            }
            function a(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined": n(e)));
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            h = i(13),
            l = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (h),
            u = i(8),
            c = 0,
            d = 1,
            _ = 2,
            f = 3,
            p = 4,
            g = new WeakMap,
            y = new WeakMap,
            v = (new WeakMap, new WeakMap,
            function(t) {
                function e(t) {
                    s(this, e);
                    var i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                    if (i.HAVE_NOTHING = c, i.HAVE_METADATA = d, i.HAVE_CURRENT_DATA = _, i.HAVE_FUTURE_DATA = f, i.HAVE_ENOUGH_DATA = p, i.readyState = c, (0, u.isSubContext)()) return console.warn("HTMLAudioElement is not supported in SubContext."),
                    r(i);
                    y.set(i, "");
                    var n = wx.createInnerAudioContext();
                    return g.set(i, n),
                    n.onCanplay(function() {
                        i.dispatchEvent({
                            type: "load"
                        }),
                        i.dispatchEvent({
                            type: "loadend"
                        }),
                        i.dispatchEvent({
                            type: "canplay"
                        }),
                        i.dispatchEvent({
                            type: "canplaythrough"
                        }),
                        i.dispatchEvent({
                            type: "loadedmetadata"
                        }),
                        i.readyState = _
                    }),
                    n.onPlay(function() {
                        i.dispatchEvent({
                            type: "play"
                        })
                    }),
                    n.onPause(function() {
                        i.dispatchEvent({
                            type: "pause"
                        })
                    }),
                    n.onEnded(function() {
                        i.dispatchEvent({
                            type: "ended"
                        }),
                        i.readyState = p
                    }),
                    n.onError(function() {
                        i.dispatchEvent({
                            type: "error"
                        })
                    }),
                    t && (g.get(i).src = t),
                    i
                }
                return a(e, t),
                o(e, [{
                    key: "load",
                    value: function() {}
                },
                {
                    key: "play",
                    value: function() { (0, u.isSubContext)() || g.get(this).play()
                    }
                },
                {
                    key: "pause",
                    value: function() { (0, u.isSubContext)() || g.get(this).pause()
                    }
                },
                {
                    key: "canPlayType",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return "string" != typeof t ? "": t.indexOf("audio/mpeg") > -1 || t.indexOf("audio/mp4") ? "probably": ""
                    }
                },
                {
                    key: "cloneNode",
                    value: function() {
                        var t = new e;
                        return (0, u.isSubContext)() || (t.loop = g.get(this).loop, t.autoplay = g.get(this).loop, t.src = this.src),
                        t
                    }
                },
                {
                    key: "currentTime",
                    get: function() {
                        return (0, u.isSubContext)() ? 0 : g.get(this).currentTime
                    },
                    set: function(t) { (0, u.isSubContext)() || g.get(this).seek(t)
                    }
                },
                {
                    key: "src",
                    get: function() {
                        return y.get(this)
                    },
                    set: function(t) {
                        y.set(this, t),
                        (0, u.isSubContext)() || (g.get(this).src = t)
                    }
                },
                {
                    key: "loop",
                    get: function() {
                        return ! (0, u.isSubContext)() && g.get(this).loop
                    },
                    set: function(t) { (0, u.isSubContext)() || (g.get(this).loop = t)
                    }
                },
                {
                    key: "autoplay",
                    get: function() {
                        return ! (0, u.isSubContext)() && g.get(this).autoplay
                    },
                    set: function(t) { (0, u.isSubContext)() || (g.get(this).autoplay = t)
                    }
                },
                {
                    key: "paused",
                    get: function() {
                        return ! (0, u.isSubContext)() && g.get(this).paused
                    }
                }]),
                e
            } (l.
        default));
            e.
        default = v
        },
        function(t, e, i) {
            function s(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return ! e || "object" !== (void 0 === e ? "undefined": n(e)) && "function" != typeof e ? t: e
            }
            function a(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined": n(e)));
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = i(14),
            h = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (o),
            l = function(t) {
                function e() {
                    return s(this, e),
                    r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, "audio"))
                }
                return a(e, t),
                e
            } (h.
        default);
            e.
        default = l
        },
        function(t, e, i) {
            function s(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return ! e || "object" !== (void 0 === e ? "undefined": n(e)) && "function" != typeof e ? t: e
            }
            function a(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined": n(e)));
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            h = i(4),
            l = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (h),
            u = function(t) {
                function e(t) {
                    return s(this, e),
                    r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t))
                }
                return a(e, t),
                o(e, [{
                    key: "addTextTrack",
                    value: function() {}
                },
                {
                    key: "captureStream",
                    value: function() {}
                },
                {
                    key: "fastSeek",
                    value: function() {}
                },
                {
                    key: "load",
                    value: function() {}
                },
                {
                    key: "pause",
                    value: function() {}
                },
                {
                    key: "play",
                    value: function() {}
                }]),
                e
            } (l.
        default);
            e.
        default = u
        },
        function(t, e, i) {
            i(16)
        },
        function(t, e, i) {
            function n(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function s(t) {
                return function(e) {
                    var i = new u(t);
                    i.touches = e.touches,
                    i.targetTouches = Array.prototype.slice.call(e.touches),
                    i.changedTouches = e.changedTouches,
                    i.timeStamp = e.timeStamp,
                    h.
                default.dispatchEvent(i)
                }
            }
            var r = i(1),
            a = function(t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t) for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.
            default = t,
                e
            } (r),
            o = i(10),
            h = function(t) {
                return t && t.__esModule ? t: {
                default:
                    t
                }
            } (o),
            l = i(8),
            u = function t(e) {
                n(this, t),
                this.target = a.canvas,
                this.currentTarget = a.canvas,
                this.touches = [],
                this.targetTouches = [],
                this.changedTouches = [],
                this.preventDefault = l.noop,
                this.stopPropagation = l.noop,
                this.type = e
            };
            wx.onTouchStart(s("touchstart")),
            wx.onTouchMove(s("touchmove")),
            wx.onTouchEnd(s("touchend")),
            wx.onTouchCancel(s("touchcancel"))
        },
        function(t, e, i) {
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var n = i(8),
            s = wx.getSystemInfoSync(),
            r = s.platform,
            a = {
                platform: r,
                language: "zh-cn",
                appVersion: "5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1",
                userAgent: "Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN",
                onLine: !0,
                geolocation: {
                    getCurrentPosition: n.noop,
                    watchPosition: n.noop,
                    clearWatch: n.noop
                }
            };
            e.
        default = a
        },
        function(t, e) {
            function i(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function n(t) {
                if ("function" == typeof this["on" + t]) {
                    for (var e = arguments.length,
                    i = Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] = arguments[n];
                    this["on" + t].apply(this, i)
                }
            }
            function s(t) {
                this.readyState = t,
                n.call(this, "readystatechange")
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            a = new WeakMap,
            o = new WeakMap,
            h = new WeakMap,
            l = new WeakMap,
            u = new WeakMap,
            c = function() {
                function t() {
                    i(this, t),
                    this.onabort = null,
                    this.onerror = null,
                    this.onload = null,
                    this.onloadstart = null,
                    this.onprogress = null,
                    this.ontimeout = null,
                    this.onloadend = null,
                    this.onreadystatechange = null,
                    this.readyState = 0,
                    this.response = null,
                    this.responseText = null,
                    this.responseType = "",
                    this.responseXML = null,
                    this.status = 0,
                    this.statusText = "",
                    this.upload = {},
                    this.withCredentials = !1,
                    h.set(this, {
                        "content-type": "application/x-www-form-urlencoded"
                    }),
                    l.set(this, {})
                }
                return r(t, [{
                    key: "abort",
                    value: function() {
                        var t = u.get(this);
                        t && t.abort()
                    }
                },
                {
                    key: "getAllResponseHeaders",
                    value: function() {
                        var t = l.get(this);
                        return Object.keys(t).map(function(e) {
                            return e + ": " + t[e]
                        }).join("\n")
                    }
                },
                {
                    key: "getResponseHeader",
                    value: function(t) {
                        return l.get(this)[t]
                    }
                },
                {
                    key: "open",
                    value: function(e, i) {
                        o.set(this, e),
                        a.set(this, i),
                        s.call(this, t.OPENED)
                    }
                },
                {
                    key: "overrideMimeType",
                    value: function() {}
                },
                {
                    key: "send",
                    value: function() {
                        var e = this,
                        i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        if (this.readyState !== t.OPENED) throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");
                        wx.request({
                            data: i,
                            url: a.get(this),
                            method: o.get(this),
                            header: h.get(this),
                            responseType: this.responseType,
                            success: function(i) {
                                var r = i.data,
                                a = i.statusCode,
                                o = i.header;
                                if ("string" != typeof r && !(r instanceof ArrayBuffer)) try {
                                    r = JSON.stringify(r)
                                } catch(t) {
                                    r = r
                                }
                                if (e.status = a, l.set(e, o), n.call(e, "loadstart"), s.call(e, t.HEADERS_RECEIVED), s.call(e, t.LOADING), e.response = r, r instanceof ArrayBuffer) {
                                    e.responseText = "";
                                    for (var h = new Uint8Array(r), u = h.byteLength, c = 0; c < u; c++) e.responseText += String.fromCharCode(h[c])
                                } else e.responseText = r;
                                s.call(e, t.DONE),
                                n.call(e, "load"),
                                n.call(e, "loadend")
                            },
                            fail: function(t) {
                                var i = t.errMsg; - 1 !== i.indexOf("abort") ? n.call(e, "abort") : n.call(e, "error", i),
                                n.call(e, "loadend")
                            }
                        })
                    }
                },
                {
                    key: "setRequestHeader",
                    value: function(t, e) {
                        var i = h.get(this);
                        i[t] = e,
                        h.set(this, i)
                    }
                }]),
                t
            } ();
            c.UNSEND = 0,
            c.OPENED = 1,
            c.HEADERS_RECEIVED = 2,
            c.LOADING = 3,
            c.DONE = 4,
            e.
        default = c
        },
        function(t, e, i) {
            function n(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            r = i(8),
            a = new WeakMap,
            o = function() {
                function t(e) {
                    var i = this,
                    s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                    if (n(this, t), this.binaryType = "", this.bufferedAmount = 0, this.extensions = "", this.onclose = null, this.onerror = null, this.onmessage = null, this.onopen = null, this.protocol = "", this.readyState = 3, (0, r.isSubContext)()) throw new Error("WebSocket is not supported in SubContext.");
                    if ("string" != typeof e || !/(^ws:\/\/)|(^wss:\/\/)/.test(e)) throw new TypeError("Failed to construct 'WebSocket': The URL '" + e + "' is invalid");
                    this.url = e,
                    this.readyState = t.CONNECTING;
                    var o = wx.connectSocket({
                        url: e,
                        protocols: Array.isArray(s) ? s: [s]
                    });
                    return a.set(this, o),
                    o.onClose(function(e) {
                        i.readyState = t.CLOSED,
                        "function" == typeof i.onclose && i.onclose(e)
                    }),
                    o.onMessage(function(t) {
                        "function" == typeof i.onmessage && i.onmessage(t)
                    }),
                    o.onOpen(function() {
                        i.readyState = t.OPEN,
                        "function" == typeof i.onopen && i.onopen()
                    }),
                    o.onError(function(t) {
                        "function" == typeof i.onerror && i.onerror(new Error(t.errMsg))
                    }),
                    this
                }
                return s(t, [{
                    key: "close",
                    value: function(e, i) {
                        this.readyState = t.CLOSING,
                        a.get(this).close({
                            code: e,
                            reason: i
                        })
                    }
                },
                {
                    key: "send",
                    value: function(t) {
                        if ("string" != typeof t && !(t instanceof ArrayBuffer)) throw new TypeError("Failed to send message: The data " + t + " is invalid");
                        a.get(this).send({
                            data: t
                        })
                    }
                }]),
                t
            } ();
            o.CONNECTING = 0,
            o.OPEN = 1,
            o.CLOSING = 2,
            o.CLOSED = 3,
            e.
        default = o
        },
        function(t, e, i) {
            function n(t, e) {
                if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value" in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            } (),
            r = i(8),
            a = function() {
                function t() {
                    n(this, t)
                }
                return s(t, [{
                    key: "construct",
                    value: function() {
                        if ((0, r.isSubContext)()) throw new Error("FileReader is not supported in SubContext.")
                    }
                }]),
                t
            } ();
            e.
        default = a
        },
        function(t, e, i) {
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var n = i(8),
            s = {
                get length() {
                    return wx.getStorageInfoSync().keys.length
                },
                key: function(t) {
                    return wx.getStorageInfoSync().keys[t]
                },
                getItem: function(t) {
                    return wx.getStorageSync(t)
                },
                setItem: function(t, e) {
                    return wx.setStorageSync(t, e)
                },
                removeItem: function(t) {
                    wx.removeStorageSync(t)
                },
                clear: function() {
                    wx.clearStorageSync()
                }
            },
            r = {},
            a = {
                get length() {
                    return Object.keys(r).length
                },
                key: function(t) {
                    return Object.keys(r)[t]
                },
                getItem: function(t) {
                    return r[t]
                },
                setItem: function(t, e) {
                    r[t] = e
                },
                removeItem: function(t) {
                    delete r[t]
                },
                clear: function() {
                    r = {}
                }
            },
            o = (0, n.isSubContext)() ? a: s;
            e.
        default = o
        },
        function(t, e) {
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var i = {
                href: "game.js",
                reload: function() {}
            };
            e.
        default = i
        },
        function(t, e) {
            function i() {}
            function n() {
                return "undefined" != typeof GameGlobal && !0 === GameGlobal.__isSubContext
            }
            Object.defineProperty(e, "__esModule", {
                value: !0
            }),
            e.noop = i,
            e.isSubContext = n
        }])
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e, i) {
            window._loading && window._loading.destroy(),
            window._qunRank && (window._qunRank.destroy(), window._qunRank = null),
            window._pkRank || (window._pkRank = new d.
        default, window.stage.addChild(window._pkRank)),
            _pkRank.initData(t.query, e, i)
        }
        function r() {
            for (var t = ["res/kuang2.png", "res/pk/pkk.png", "res/pk/tz.png", "res/pk/over.png", "res/rank/back.png", "res/bg1.png", "res/rank/tiaozhan.png", "res/rank/replay.png", "res/pk/restart.png", "res/pk/share.png"], e = 0; e < 10; e++) t.push("res/result_score_num/" + e + ".png");
            Laya.loader.load([{
                url: t,
                type: Laya.Loader.IMAGE
            }])
        }
        function a(t, e) {
            r(),
            wx.getShareInfo({
                shareTicket: t.shareTicket,
                success: function(i) {
                    window.group_info = {
                        encrypted_data: i.encryptedData,
                        iv: i.iv
                    },
                    t.query.room_id ? s(t, group_info, e) : "qun" === t.query.modal ? (0, _.getGroupRank)({
                        appid: "wx7a727ff7d940bb3f",
                        group_info: group_info,
                        rank_key_list: ["newscore", "combo", "baoshi"]
                    }).then(function(t) {
                        if (wx.hideLoading && wx.hideLoading(), window._loading && window._loading.destroy(), 0 !== t.errcode) return void wx.getNetworkType({
                            success: function(t) {
                                if ("none" === t.networkType) return wx.showToast({
                                    icon: "loading",
                                    title: "当前无网络",
                                    duration: 2e3
                                }),
                                void(e && e());
                                wx.showModal({
                                    title: "温馨提示",
                                    content: "服务器忙，无法查看群排行榜" + (t.errcode || ""),
                                    showCancel: !1
                                })
                            }
                        });
                        window._pkRank && (window._pkRank.destroy(), window._pkRank = null),
                        window._qunRank && (window._qunRank.destroy(), window._qunRank = null),
                        window._qunRank = new u.
                    default(t.data ? t.data.user_multi_rank: {},
                        e),
                        window.stage.addChild(window._qunRank),
                        window._hasDrawRank = !0
                    }) : (wx.hideLoading && wx.hideLoading(), t.query.share && (e && e(), window._pkRank && (window._pkRank.visible = !1), window._qunRank && (window._qunRank.visible = !1)))
                },
                fail: function(i) {
                    wx.getNetworkType({
                        success: function(t) {
                            "none" === t.networkType && (wx.showToast({
                                icon: "loading",
                                title: "当前无网络",
                                duration: 2e3
                            }), wx.hideLoading && wx.hideLoading(), e && e())
                        }
                    }),
                    t.query.room_id ? s(t, "", e) : (wx.hideLoading && wx.hideLoading(), e && e())
                }
            })
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.WX = void 0;
        var o = i(0),
        h = n(o),
        l = i(44),
        u = n(l),
        c = i(18),
        d = n(c),
        _ = i(3),
        f = i(1),
        p = n(f);
        window._shareInfo = {
            title: "星途，穿越未知银河道途",
            imageUrl: h.
        default.PREFIX_URL + "result/sharebanner2.png",
            query: "share=1",
            success: function(t) {
                console.error(t)
            },
            fail: function(t) {
                console.error(t)
            },
            complete: function(t) {
                console.error(t)
            }
        },
        wx.showShareMenu && wx.showShareMenu({
            withShareTicket: !0
        }),
        wx.onShareAppMessage && wx.onShareAppMessage(function() {
            return window._shareInfo
        });
        var g, y = new p.
    default,
        v = !1,
        m = wx.getSystemInfoSync().model,
        w = /HM\sNOTE\s1/i;
        window.isDIDUAN = w.test(m),
        console.error(window.isDIDUAN);
        e.WX = {
            init: function(t) {
                window._hasDrawRank = !1,
                wx.onShow && wx.onShow(function(e) {
                    console.error(e),
                    window._shareInfo.success = function() {},
                    isDIDUAN || (g = setInterval(function() {
                        window.MeteorManager && window.MeteorManager.play()
                    },
                    1e3 * (5 + ~~ (5 * Math.random())))),
                    window._pk_user_game_id = null,
                    window.query = e.query,
                    1044 === e.scene ? (wx.showLoading && wx.showLoading(), a(e, t)) : e.query.room_id ? (wx.showLoading && wx.showLoading(), r(), s(e, "", t)) : (1007 !== e.scene ? window._pkRank && (window._pkRank.visible = !1) : e.query.share && (window._pkRank && (window._pkRank.visible = !1), window._qunRank && (window._qunRank.visible = !1)), t && t()),
                    v && y.playBg2(),
                    wx.gameLoginReport({
                        data: {
                            gameVersion: 1
                        },
                        success: function(t) {},
                        fail: function(t) {}
                    })
                })
            }
        };
        wx.onHide && wx.onHide(function() {
            v = !0,
            wx.gameLogoutReport({
                data: {
                    gameVersion: 1
                },
                success: function(t) {
                    window._GC()
                },
                fail: function(t) {}
            }),
            clearInterval(g),
            g = null
        }),
        wx.onMessage(function(t) {
            console.log("主域收到消息", messsage.data, t.action)
        }),
        wx.onNetworkStatusChange(function(t) {
            var e = t.isConnected,
            i = t.networkType;
            console.warn(e, i),
            e || wx.showToast({
                icon: "loading",
                title: "当前无网络",
                duration: 2e3
            })
        }),
        window._GC = function() {
            Laya.ResourceManager._systemResourceManager.garbageCollection(),
            wx.triggerGC && wx.triggerGC()
        }
    },
    function(t, e, i) {
        "use strict";
        function n() {}
        function s(t, e, i) {
            this.fn = t,
            this.context = e,
            this.once = i || !1
        }
        function r() {
            this._events = new n,
            this._eventsCount = 0
        }
        var a = Object.prototype.hasOwnProperty,
        o = "~";
        Object.create && (n.prototype = Object.create(null), (new n).__proto__ || (o = !1)),
        r.prototype.eventNames = function() {
            var t, e, i = [];
            if (0 === this._eventsCount) return i;
            for (e in t = this._events) a.call(t, e) && i.push(o ? e.slice(1) : e);
            return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i
        },
        r.prototype.listeners = function(t, e) {
            var i = o ? o + t: t,
            n = this._events[i];
            if (e) return !! n;
            if (!n) return [];
            if (n.fn) return [n.fn];
            for (var s = 0,
            r = n.length,
            a = new Array(r); s < r; s++) a[s] = n[s].fn;
            return a
        },
        r.prototype.emit = function(t, e, i, n, s, r) {
            var a = o ? o + t: t;
            if (!this._events[a]) return ! 1;
            var h, l, u = this._events[a],
            c = arguments.length;
            if (u.fn) {
                switch (u.once && this.removeListener(t, u.fn, void 0, !0), c) {
                case 1:
                    return u.fn.call(u.context),
                    !0;
                case 2:
                    return u.fn.call(u.context, e),
                    !0;
                case 3:
                    return u.fn.call(u.context, e, i),
                    !0;
                case 4:
                    return u.fn.call(u.context, e, i, n),
                    !0;
                case 5:
                    return u.fn.call(u.context, e, i, n, s),
                    !0;
                case 6:
                    return u.fn.call(u.context, e, i, n, s, r),
                    !0
                }
                for (l = 1, h = new Array(c - 1); l < c; l++) h[l - 1] = arguments[l];
                u.fn.apply(u.context, h)
            } else {
                var d, _ = u.length;
                for (l = 0; l < _; l++) switch (u[l].once && this.removeListener(t, u[l].fn, void 0, !0), c) {
                case 1:
                    u[l].fn.call(u[l].context);
                    break;
                case 2:
                    u[l].fn.call(u[l].context, e);
                    break;
                case 3:
                    u[l].fn.call(u[l].context, e, i);
                    break;
                case 4:
                    u[l].fn.call(u[l].context, e, i, n);
                    break;
                default:
                    if (!h) for (d = 1, h = new Array(c - 1); d < c; d++) h[d - 1] = arguments[d];
                    u[l].fn.apply(u[l].context, h)
                }
            }
            return ! 0
        },
        r.prototype.on = function(t, e, i) {
            var n = new s(e, i || this),
            r = o ? o + t: t;
            return this._events[r] ? this._events[r].fn ? this._events[r] = [this._events[r], n] : this._events[r].push(n) : (this._events[r] = n, this._eventsCount++),
            this
        },
        r.prototype.once = function(t, e, i) {
            var n = new s(e, i || this, !0),
            r = o ? o + t: t;
            return this._events[r] ? this._events[r].fn ? this._events[r] = [this._events[r], n] : this._events[r].push(n) : (this._events[r] = n, this._eventsCount++),
            this
        },
        r.prototype.removeListener = function(t, e, i, s) {
            var r = o ? o + t: t;
            if (!this._events[r]) return this;
            if (!e) return 0 == --this._eventsCount ? this._events = new n: delete this._events[r],
            this;
            var a = this._events[r];
            if (a.fn) a.fn !== e || s && !a.once || i && a.context !== i || (0 == --this._eventsCount ? this._events = new n: delete this._events[r]);
            else {
                for (var h = 0,
                l = [], u = a.length; h < u; h++)(a[h].fn !== e || s && !a[h].once || i && a[h].context !== i) && l.push(a[h]);
                l.length ? this._events[r] = 1 === l.length ? l[0] : l: 0 == --this._eventsCount ? this._events = new n: delete this._events[r]
            }
            return this
        },
        r.prototype.removeAllListeners = function(t) {
            var e;
            return t ? (e = o ? o + t: t, this._events[e] && (0 == --this._eventsCount ? this._events = new n: delete this._events[e])) : (this._events = new n, this._eventsCount = 0),
            this
        },
        r.prototype.off = r.prototype.removeListener,
        r.prototype.addListener = r.prototype.on,
        r.prototype.setMaxListeners = function() {
            return this
        },
        r.prefixed = o,
        r.EventEmitter = r,
        t.exports = r
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s() {
            console.error(Date.now() - R),
            r(),
            (0, P.loadStaticDataLazy)()
        }
        function r() {
            window.Main || (window._loading.destroy(), window._loading = null, window.BackGround = new c.
        default, window.stage.addChild(window.BackGround), window.isDIDUAN || (window.MeteorManager = new y.
        default, window.stage.addChild(window.MeteorManager), window.MeteorManager.play()), window.Main = new l.
        default, window.stage.addChild(window.Main), window.coordinate = new _.
        default, coordinate.visible = !1, window.stage.addChild(window.coordinate), setTimeout(function() { (0, P.loadSecondResource)()
            },
            500))
        }
        i(30),
        i(21),
        i(20),
        i(22);
        var a = i(0),
        o = n(a),
        h = i(27),
        l = n(h),
        u = i(25),
        c = n(u),
        d = i(8),
        _ = n(d),
        f = i(26),
        p = n(f),
        g = i(28),
        y = n(g),
        v = i(7),
        m = (n(v), i(9)),
        w = (n(m), i(10)),
        x = (n(w), i(11)),
        b = (n(x), i(32)),
        S = n(b),
        C = i(31),
        P = i(24);
        i(23),
        window._game_status = 0,
        Laya.init(o.
    default.GameWidth, o.
    default.GameHeight);
        var k = window.innerWidth * window.devicePixelRatio / o.
    default.GameWidth,
        T = window.innerHeight * window.devicePixelRatio / o.
    default.GameHeight;
        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER,
        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE,
        Laya.stage.scaleMode = T > k ? Laya.Stage.SCALE_FIXED_WIDTH: Laya.Stage.SCALE_FIXED_HEIGHT,
        Laya.stage.screenMode = o.
    default.model,
        Laya.stage.bgColor = "#000",
        Laya.Stat.show(0, 0),
        i(29),
        window._loading = new p.
    default,
        window.stage.addChild(window._loading),
        window._Event = new S.
    default;
        var M = (0, P.getPreLoadResource)(),
        R = Date.now();
        C.WX.init(function() {
            R = Date.now(),
            Laya.loader.load([{
                url: M,
                type: Laya.Loader.IMAGE
            }], Laya.Handler.create(this, s))
        }),
        Laya.timer.frameLoop(25e3, void 0,
        function() {
            Laya.ResourceManager._systemResourceManager.garbageCollection(),
            wx.triggerGC && wx.triggerGC()
        })
    },
    function(t, e, i) {
        "use strict"; (function(n, s) {
            var r, a, o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
            function(t) {
                return typeof t
            }: function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol": typeof t
            };
            /*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.0.5
 */
            !
            function(n, s) {
                "object" === o(e) && void 0 !== t ? t.exports = s() : (r = s, void 0 !== (a = "function" == typeof r ? r.call(e, i, e, t) : r) && (t.exports = a))
            } (0,
            function() {
                function t(t) {
                    return "function" == typeof t || "object" === (void 0 === t ? "undefined": o(t)) && null !== t
                }
                function e(t) {
                    return "function" == typeof t
                }
                function r(t) {
                    X = t
                }
                function a(t) {
                    V = t
                }
                function h() {
                    return void 0 !== j ?
                    function() {
                        j(u)
                    }: l()
                }
                function l() {
                    var t = setTimeout;
                    return function() {
                        return t(u, 1)
                    }
                }
                function u() {
                    for (var t = 0; t < Y; t += 2) { (0, Z[t])(Z[t + 1]),
                        Z[t] = void 0,
                        Z[t + 1] = void 0
                    }
                    Y = 0
                }
                function c(t, e) {
                    var i = arguments,
                    n = this,
                    s = new this.constructor(_);
                    void 0 === s[et] && D(s);
                    var r = n._state;
                    return r ?
                    function() {
                        var t = i[r - 1];
                        V(function() {
                            return R(r, s, t, n._result)
                        })
                    } () : P(n, s, t, e),
                    s
                }
                function d(t) {
                    var e = this;
                    if (t && "object" === (void 0 === t ? "undefined": o(t)) && t.constructor === e) return t;
                    var i = new e(_);
                    return x(i, t),
                    i
                }
                function _() {}
                function f() {
                    return new TypeError("You cannot resolve a promise with itself")
                }
                function p() {
                    return new TypeError("A promises callback cannot return that same promise.")
                }
                function g(t) {
                    try {
                        return t.then
                    } catch(t) {
                        return rt.error = t,
                        rt
                    }
                }
                function y(t, e, i, n) {
                    try {
                        t.call(e, i, n)
                    } catch(t) {
                        return t
                    }
                }
                function v(t, e, i) {
                    V(function(t) {
                        var n = !1,
                        s = y(i, e,
                        function(i) {
                            n || (n = !0, e !== i ? x(t, i) : S(t, i))
                        },
                        function(e) {
                            n || (n = !0, C(t, e))
                        },
                        "Settle: " + (t._label || " unknown promise")); ! n && s && (n = !0, C(t, s))
                    },
                    t)
                }
                function m(t, e) {
                    e._state === nt ? S(t, e._result) : e._state === st ? C(t, e._result) : P(e, void 0,
                    function(e) {
                        return x(t, e)
                    },
                    function(e) {
                        return C(t, e)
                    })
                }
                function w(t, i, n) {
                    i.constructor === t.constructor && n === c && i.constructor.resolve === d ? m(t, i) : n === rt ? C(t, rt.error) : void 0 === n ? S(t, i) : e(n) ? v(t, i, n) : S(t, i)
                }
                function x(e, i) {
                    e === i ? C(e, f()) : t(i) ? w(e, i, g(i)) : S(e, i)
                }
                function b(t) {
                    t._onerror && t._onerror(t._result),
                    k(t)
                }
                function S(t, e) {
                    t._state === it && (t._result = e, t._state = nt, 0 !== t._subscribers.length && V(k, t))
                }
                function C(t, e) {
                    t._state === it && (t._state = st, t._result = e, V(b, t))
                }
                function P(t, e, i, n) {
                    var s = t._subscribers,
                    r = s.length;
                    t._onerror = null,
                    s[r] = e,
                    s[r + nt] = i,
                    s[r + st] = n,
                    0 === r && t._state && V(k, t)
                }
                function k(t) {
                    var e = t._subscribers,
                    i = t._state;
                    if (0 !== e.length) {
                        for (var n = void 0,
                        s = void 0,
                        r = t._result,
                        a = 0; a < e.length; a += 3) n = e[a],
                        s = e[a + i],
                        n ? R(i, n, s, r) : s(r);
                        t._subscribers.length = 0
                    }
                }
                function T() {
                    this.error = null
                }
                function M(t, e) {
                    try {
                        return t(e)
                    } catch(t) {
                        return at.error = t,
                        at
                    }
                }
                function R(t, i, n, s) {
                    var r = e(n),
                    a = void 0,
                    o = void 0,
                    h = void 0,
                    l = void 0;
                    if (r) {
                        if (a = M(n, s), a === at ? (l = !0, o = a.error, a = null) : h = !0, i === a) return void C(i, p())
                    } else a = s,
                    h = !0;
                    i._state !== it || (r && h ? x(i, a) : l ? C(i, o) : t === nt ? S(i, a) : t === st && C(i, a))
                }
                function I(t, e) {
                    try {
                        e(function(e) {
                            x(t, e)
                        },
                        function(e) {
                            C(t, e)
                        })
                    } catch(e) {
                        C(t, e)
                    }
                }
                function L() {
                    return ot++
                }
                function D(t) {
                    t[et] = ot++,
                    t._state = void 0,
                    t._result = void 0,
                    t._subscribers = []
                }
                function B(t, e) {
                    this._instanceConstructor = t,
                    this.promise = new t(_),
                    this.promise[et] || D(this.promise),
                    z(e) ? (this._input = e, this.length = e.length, this._remaining = e.length, this._result = new Array(this.length), 0 === this.length ? S(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(), 0 === this._remaining && S(this.promise, this._result))) : C(this.promise, E())
                }
                function E() {
                    return new Error("Array Methods must be provided an Array")
                }
                function A(t) {
                    return new B(this, t).promise
                }
                function O(t) {
                    var e = this;
                    return new e(z(t) ?
                    function(i, n) {
                        for (var s = t.length,
                        r = 0; r < s; r++) e.resolve(t[r]).then(i, n)
                    }: function(t, e) {
                        return e(new TypeError("You must pass an array to race."))
                    })
                }
                function N(t) {
                    var e = this,
                    i = new e(_);
                    return C(i, t),
                    i
                }
                function F() {
                    throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
                }
                function U() {
                    throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
                }
                function G(t) {
                    this[et] = L(),
                    this._result = this._state = void 0,
                    this._subscribers = [],
                    _ !== t && ("function" != typeof t && F(), this instanceof G ? I(this, t) : U())
                }
                function W() {
                    var t = void 0;
                    if (void 0 !== s) t = s;
                    else if ("undefined" != typeof self) t = self;
                    else try {
                        t = Function("return this")()
                    } catch(t) {
                        throw new Error("polyfill failed because global object is unavailable in this environment")
                    }
                    var e = t.Promise;
                    if (e) {
                        var i = null;
                        try {
                            i = Object.prototype.toString.call(e.resolve())
                        } catch(t) {}
                        if ("[object Promise]" === i && !e.cast) return
                    }
                    t.Promise = G
                }
                var H = void 0;
                H = Array.isArray ? Array.isArray: function(t) {
                    return "[object Array]" === Object.prototype.toString.call(t)
                };
                var z = H,
                Y = 0,
                j = void 0,
                X = void 0,
                V = function(t, e) {
                    Z[Y] = t,
                    Z[Y + 1] = e,
                    2 === (Y += 2) && (X ? X(u) : tt())
                },
                $ = "undefined" != typeof window ? window: void 0,
                q = $ || {},
                K = q.MutationObserver || q.WebKitMutationObserver,
                Q = "undefined" == typeof self && void 0 !== n && "[object process]" === {}.toString.call(n),
                J = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel,
                Z = new Array(1e3),
                tt = void 0;
                tt = Q ?
                function() {
                    return function() {
                        return n.nextTick(u)
                    }
                } () : K ?
                function() {
                    var t = 0,
                    e = new K(u),
                    i = document.createTextNode("");
                    return e.observe(i, {
                        characterData: !0
                    }),
                    function() {
                        i.data = t = ++t % 2
                    }
                } () : J ?
                function() {
                    var t = new MessageChannel;
                    return t.port1.onmessage = u,
                    function() {
                        return t.port2.postMessage(0)
                    }
                } () : void 0 === $ ?
                function() {
                    try {
                        var t = i(!
                        function() {
                            var t = new Error('Cannot find module "vertx"');
                            throw t.code = "MODULE_NOT_FOUND",
                            t
                        } ());
                        return j = t.runOnLoop || t.runOnContext,
                        h()
                    } catch(t) {
                        return l()
                    }
                } () : l();
                var et = Math.random().toString(36).substring(16),
                it = void 0,
                nt = 1,
                st = 2,
                rt = new T,
                at = new T,
                ot = 0;
                return B.prototype._enumerate = function() {
                    for (var t = this.length,
                    e = this._input,
                    i = 0; this._state === it && i < t; i++) this._eachEntry(e[i], i)
                },
                B.prototype._eachEntry = function(t, e) {
                    var i = this._instanceConstructor,
                    n = i.resolve;
                    if (n === d) {
                        var s = g(t);
                        if (s === c && t._state !== it) this._settledAt(t._state, e, t._result);
                        else if ("function" != typeof s) this._remaining--,
                        this._result[e] = t;
                        else if (i === G) {
                            var r = new i(_);
                            w(r, t, s),
                            this._willSettleAt(r, e)
                        } else this._willSettleAt(new i(function(e) {
                            return e(t)
                        }), e)
                    } else this._willSettleAt(n(t), e)
                },
                B.prototype._settledAt = function(t, e, i) {
                    var n = this.promise;
                    n._state === it && (this._remaining--, t === st ? C(n, i) : this._result[e] = i),
                    0 === this._remaining && S(n, this._result)
                },
                B.prototype._willSettleAt = function(t, e) {
                    var i = this;
                    P(t, void 0,
                    function(t) {
                        return i._settledAt(nt, e, t)
                    },
                    function(t) {
                        return i._settledAt(st, e, t)
                    })
                },
                G.all = A,
                G.race = O,
                G.resolve = d,
                G.reject = N,
                G._setScheduler = r,
                G._setAsap = a,
                G._asap = V,
                G.prototype = {
                    constructor: G,
                    then: c,
                    catch: function(t) {
                        return this.then(null, t)
                    }
                },
                G.polyfill = W,
                G.Promise = G,
                G
            })
        }).call(e, i(49), i(19))
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = {
            width: 47 * window.devicePixelRatio,
            heigth: 47 * window.devicePixelRatio
        },
        h = (window.devicePixelRatio, Math.sqrt(o.width * o.width + o.heigth * o.heigth) / 4),
        l = function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.renderUI(),
                t
            }
            return r(e, t),
            a(e, [{
                key: "init",
                value: function(t, e, i) {
                    this.side = e,
                    this._rotation = i,
                    this.radius = t.circle.radius,
                    this.currX = t.point.currX,
                    this.currY = t.point.currY,
                    1 === e ? this.radius -= 10 * window.devicePixelRatio: this.radius += 10 * window.devicePixelRatio,
                    this.pivotX = o.width / 2,
                    this.pivotY = o.heigth / 2,
                    this.initPosition(i),
                    this.isDestory = !1,
                    this._index = 1
                }
            },
            {
                key: "initPosition",
                value: function(t) {
                    this.graphics.clear();
                    var e = Math.sin(Math.PI * t / 180),
                    i = Math.cos(Math.PI * t / 180);
                    this.x = this.currX + e * this.radius,
                    this.y = this.currY + i * this.radius,
                    this.pos(this.x, this.y),
                    this.graphics.loadImage("res/little/baoshi_new.png", 0, 0, o.width, o.heigth)
                }
            },
            {
                key: "renderUI",
                value: function() {
                    this.a_sp = new Laya.Sprite,
                    this.addChild(this.a_sp)
                }
            },
            {
                key: "getPosition",
                value: function() {
                    return {
                        x: this.x,
                        y: this.y
                    }
                }
            },
            {
                key: "getSize",
                value: function() {
                    return o
                }
            },
            {
                key: "checkCollision",
                value: function(t, e) {
                    return Math.sqrt(Math.pow(this.x - t, 2) + Math.pow(this.y - e, 2)) < h && (this.graphics.clear(), this.start(), !0)
                }
            },
            {
                key: "start",
                value: function() {
                    window.isDIDUAN ? (this.a_sp.visible = !1, this.visible = !1, this.destroy()) : (this.a_sp.visible = !0, Laya.timer.frameLoop(4, this, this.anima))
                }
            },
            {
                key: "stop",
                value: function() {
                    Laya.timer.clear(this, this.anima)
                }
            },
            {
                key: "anima",
                value: function() {
                    this._index++,
                    this.a_sp.graphics.clear(),
                    this.a_sp.graphics.loadImage("res/baoshi_bone/" + this._index + ".png", 0, 0, 41 * window.devicePixelRatio, 41 * window.devicePixelRatio),
                    6 === this._index && (this.stop(), this._index = 1, this.a_sp.visible = !1, this.visible = !1)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = l
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = (i(2), {
            width: 24 * window.devicePixelRatio,
            heigth: 24 * window.devicePixelRatio
        }),
        u = 10 * window.devicePixelRatio,
        c = Math.sqrt(l.width * l.width + l.heigth * l.heigth),
        d = function(t) {
            function e(t, i) {
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                n(this, e);
                var r = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return r.initSp(),
                r
            }
            return r(e, t),
            a(e, [{
                key: "init",
                value: function(t, e) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2;
                    this.side = i,
                    this.scaleDelta = 1;
                    var n = Math.sin(Math.PI * e.angle / 180),
                    s = Math.cos(Math.PI * e.angle / 180);
                    180 === e.angle && (n = 0),
                    this.friendInfo = e;
                    var r = c / 2,
                    a = n < 0 ? -r: r,
                    o = s >= 0 ? r: -r,
                    h = t.circle.radius;
                    this.x = 0 + t.point.currX + n * (h - a),
                    this.y = 0 + t.point.currY + s * (h - o),
                    this.c_x = 0 + t.point.currX + n * h,
                    this.c_y = 0 + t.point.currY + s * h,
                    this.changeAngle(),
                    this.isDestory = !1,
                    this.setCenterPos(i, e.angle),
                    this.renderUI()
                }
            },
            {
                key: "changeAngle",
                value: function() {
                    this.x < 200 && (this.friendInfo.angle = 90),
                    this.x > h.
                default.GameWidth - 200 && (this.friendInfo.angle = 270)
                }
            },
            {
                key: "initSp",
                value: function() {
                    this.head = new Laya.Sprite,
                    this.addChild(this.head);
                    var t = new Laya.Text;
                    t.overflow = Laya.Text.HIDDEN,
                    t.color = "#FFFFFF",
                    t.fontSize = 10 * window.devicePixelRatio,
                    t.y = -20 * window.devicePixelRatio,
                    this.text = t,
                    this.head.addChild(this.text)
                }
            },
            {
                key: "setCenterPos",
                value: function(t, e) {
                    1 === t ? e <= 90 ? this.setRightDown() : e <= 180 ? this.setRightUp() : e <= 270 ? this.setLeftDown() : this.setLeftUp() : e <= 90 ? this.setLeftDown() : e <= 180 ? this.setLeftUp() : e <= 270 ? this.setRightDown() : this.setRightUp()
                }
            },
            {
                key: "setLeftDown",
                value: function() {
                    this.x += l.width / 2 + u,
                    this.y += l.heigth / 2 - u
                }
            },
            {
                key: "setLeftUp",
                value: function() {
                    this.x += l.width / 2 + u,
                    this.y -= l.heigth / 2 - u
                }
            },
            {
                key: "setRightUp",
                value: function() {
                    this.x -= l.width / 2 - u,
                    this.y += l.heigth / 2 + u
                }
            },
            {
                key: "setRightDown",
                value: function() {
                    this.x -= l.width / 2 + u,
                    this.y -= l.heigth / 2 + u
                }
            },
            {
                key: "renderUI",
                value: function() {
                    this.graphics.clear(),
                    this.graphics.drawCircle(0, 0, 4 * window.devicePixelRatio, "#7fb2b1"),
                    this.head.graphics.clear(),
                    this.head.graphics.loadImage((this.friendInfo.src || "").replace(/\/0$/, "/64") || "res/default_head.png", 3, 23, l.width - 6, l.heigth - 6);
                    var t = new Laya.Image;
                    t.skin = "res/result/kuang.png",
                    t.x = 0,
                    t.y = 20,
                    t.width = l.width,
                    t.height = l.heigth,
                    this.head.addChild(t),
                    this.text.text = this.friendInfo.nick || "",
                    this.head.x = this.x - this.c_x,
                    this.head.y = this.y - this.c_y,
                    this.pos(this.c_x, this.c_y)
                }
            },
            {
                key: "getPosition",
                value: function() {
                    return {
                        x: this.c_x,
                        y: this.c_y
                    }
                }
            },
            {
                key: "getSize",
                value: function() {
                    return l
                }
            },
            {
                key: "getIMGLongDis",
                value: function() {}
            },
            {
                key: "checkCollision",
                value: function(t, e) {
                    return Math.sqrt(Math.pow(this.c_x - t, 2) + Math.pow(this.c_y - e, 2)) < 30 * window.devicePixelRatio && (this._destroy(), !0)
                }
            },
            {
                key: "_destroy",
                value: function() {
                    window.isDIDUAN ? this.destroy() : Laya.timer.frameLoop(1, this, this.animation)
                }
            },
            {
                key: "animation",
                value: function() {
                    if (this.scaleDelta -= .01 * ~~ (10 * Math.random()), this.scaleDelta <= 0) return Laya.timer.clear(this, this.animation),
                    void this.destroy();
                    this.scale(this.scaleDelta, this.scaleDelta)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = d
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = (function(t) {
            t && t.__esModule
        } (o), {
            width: 10.5 * window.devicePixelRatio,
            heigth: 55 / 4 * window.devicePixelRatio
        }),
        l = (window.devicePixelRatio, Math.sqrt(h.width * h.width + h.heigth * h.heigth)),
        u = function(t) {
            function e(t, i, r, a) {
                n(this, e);
                var o = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return o.renderUI(),
                o
            }
            return r(e, t),
            a(e, [{
                key: "init",
                value: function(t, e, i, n) {
                    this.speed = .5,
                    this.side = e,
                    this.pointCurrX = t.point.currX,
                    this.pointCurrY = t.point.currY,
                    this._rotation = i,
                    this.radius = t.circle.radius,
                    1 === e ? this.radius -= 10 * window.devicePixelRatio: this.radius += 10 * window.devicePixelRatio,
                    this.pivotX = h.width / 2,
                    this.pivotY = h.heigth / 2,
                    this.isDestory = !1,
                    this.initPosition(i),
                    n && this.start()
                }
            },
            {
                key: "initPosition",
                value: function(t) {
                    var e = Math.sin(Math.PI * t / 180),
                    i = Math.cos(Math.PI * t / 180);
                    this.x = this.pointCurrX + e * this.radius,
                    this.y = this.pointCurrY + i * this.radius
                }
            },
            {
                key: "animation",
                value: function() {
                    2 === this.direction ? this._rotation -= this.speed: this._rotation += this.speed,
                    this.initPosition(this._rotation)
                }
            },
            {
                key: "start",
                value: function() {
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            },
            {
                key: "stop",
                value: function() {
                    Laya.timer.clear(this, this.animation)
                }
            },
            {
                key: "renderUI",
                value: function() {
                    this.graphics.loadImage("res/qiu/yun.png", 0, 0, h.width, h.heigth),
                    this.renderMeteor()
                }
            },
            {
                key: "renderMeteor",
                value: function() {
                    this.graphics.loadImage("res/0e10aaa60c459c91d5022bcdf2e5b822.png", -h.width / 2, -h.heigth / 2, 29.875, 21.125)
                }
            },
            {
                key: "getPosition",
                value: function() {
                    return {
                        x: this.x,
                        y: this.y
                    }
                }
            },
            {
                key: "getSize",
                value: function() {
                    return h
                }
            },
            {
                key: "getIMGLongDis",
                value: function() {
                    return l
                }
            },
            {
                key: "checkCollision",
                value: function(t, e) {
                    return Math.sqrt(Math.pow(this.x - t, 2) + Math.pow(this.y - e, 2)) < 15 && (this.destroy(), this.stop(), !0)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = u
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.scaleState = 1,
                t.scaleDelta = 1,
                t.initSp(),
                t
            }
            return r(e, t),
            a(e, [{
                key: "initData",
                value: function(t) {
                    this.planetUrl = t.blockInfo.url,
                    this.stayTime = t.blockInfo.stayTime,
                    this.setPos(t.circle),
                    this.addPlanet(t),
                    this.drawCircleImage(t.circle),
                    this.addPlanetText(this.planetUrl, t.circle)
                }
            },
            {
                key: "setPos",
                value: function(t) {
                    this.pos(t.point.currX, t.point.currY)
                }
            },
            {
                key: "initSp",
                value: function() {
                    this.yunImg = new Laya.Image,
                    this.yunImg.width = h.
                default.GameWidth,
                    this.yunImg.height = 152 * h.
                default.GameWidth / 547,
                    this.addChild(this.yunImg),
                    this.img = new Laya.Image,
                    this.addChild(this.img),
                    this.cell = new Laya.Sprite,
                    this.addChild(this.cell),
                    this.label1 = new Laya.Text,
                    this.label1.fontSize = 14 * window.devicePixelRatio,
                    this.label1.color = "#82b9c7",
                    this.addChild(this.label1)
                }
            },
            {
                key: "reset",
                value: function(t) {
                    this.initData(t)
                }
            },
            {
                key: "createOneCircle",
                value: function(t) {
                    this.cell.graphics.clear(),
                    this.cell.graphics.save(),
                    this.cell.graphics.drawCircle(0, 0, t.radius, "rgba(255,255,255,0)", t.color, t.border),
                    cell.graphics.restore()
                }
            },
            {
                key: "drawCircleImage",
                value: function(t) {
                    this.cell.graphics.clear(),
                    this.cell.graphics.loadImage(this.getCircleRes(t.radius), 0, 0, 2 * t.radius - 1, 2 * t.radius - 1),
                    this.cell.pos( - t.radius, -t.radius)
                }
            },
            {
                key: "getCircleRes",
                value: function(t) {
                    return "res/start/circle/" + 10 * Math.floor(t / 10 / window.devicePixelRatio) * 4 + ".png"
                }
            },
            {
                key: "addPlanetText",
                value: function(t, e) {
                    var i = {
                        shui: "水星",
                        wei: "",
                        jin: "金星",
                        di: "地球",
                        huo: "火星",
                        ceres: "谷神星",
                        mu: "木星",
                        tu: "土星",
                        tian: "天王星",
                        hai: "海王星",
                        ming: "冥王星"
                    };
                    this.label1.text = i[t] || "",
                    this.label1.pos( - this.label1.width / 2, e.radius - 35 * window.devicePixelRatio)
                }
            },
            {
                key: "addPlanet",
                value: function(t) {
                    var e = t.blockInfo;
                    /^res\/rewards/i.test(e.url) ? this.img.skin = e.url: "hei" === e.url ? this.img.skin = "res/qiu/yun.png": this.img.skin = "res/qiu/" + e.url + ".png",
                    /(yun|wei|out|hei)/i.test(e.url) && (window.isDIDUAN || this.start());
                    var i = e.img;
                    this.img.width = i.coefficient,
                    this.img.height = i.coefficient / (i.width / i.height),
                    this.img.pivot(this.img.width / 2 + e.correction.x, this.img.height / 2 + e.correction.y),
                    "yun" === e.url ? this.createYunGroup() : this.yunImg.visible = !1
                }
            },
            {
                key: "createYunGroup",
                value: function() {
                    this.yunImg.skin = "res/qiu/yun_group.png",
                    this.yunImg.pos( - this.x, -this.yunImg.height / 2)
                }
            },
            {
                key: "start",
                value: function() {
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            },
            {
                key: "stop",
                value: function(t) {
                    Laya.timer.clear(this, this.animation)
                }
            },
            {
                key: "animation",
                value: function() {
                    this.img.rotation += .2
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = l
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = n(h),
        u = i(11),
        c = n(u),
        d = i(1),
        _ = n(d),
        f = (new _.
    default,
        function(t) {
            function e() {
                s(this, e);
                var t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.init(),
                t.zOrder = 1e4,
                t
            }
            return a(e, t),
            o(e, [{
                key: "init",
                value: function() {
                    this._turnedSelfIndex = 1;
                    var t = new Laya.Sprite;
                    t.graphics.drawRect(0, 0, l.
                default.GameWidth, l.
                default.GameHeight, "#fff"),
                    t.alpha = 0,
                    this.bgSp = t,
                    this.addChild(t),
                    this.tweenAinam();
                    var e = new Laya.Sprite;
                    this.sp = e,
                    this.addChild(e);
                    var i = new Laya.Image;
                    i.skin = "res/light/text.png",
                    i.width *= window.devicePixelRatio / 1.5,
                    i.height *= window.devicePixelRatio / 1.5,
                    this.addChild(i),
                    this.txtImg = i,
                    i.pos((l.
                default.GameWidth - i.width) / 2, (l.
                default.GameHeight - i.height) / 2)
                }
            },
            {
                key: "reset",
                value: function() {
                    this.visible = !0,
                    this.alpha = 1,
                    this.sp.graphics.clear(),
                    this.start(),
                    this.tweenAinam()
                }
            },
            {
                key: "tweenAinam",
                value: function() {
                    Laya.Tween.to(this.bgSp, {
                        alpha: 1
                    },
                    400, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        window._Rewards = new c.
                    default,
                        window.stage.addChild(_Rewards),
                        Laya.Tween.to(this, {
                            alpha: 0
                        },
                        400, Laya.Ease.linearNone, Laya.Handler.create(this,
                        function() {
                            window._Event.emit("start_rewards"),
                            this.visible = !1
                        }))
                    }))
                }
            },
            {
                key: "createSp",
                value: function(t) {
                    this.sp.pos((l.
                default.GameWidth - this.txtImg.width) / 2, (l.
                default.GameHeight - this.txtImg.height) / 2),
                    this.callback = t,
                    this.start()
                }
            },
            {
                key: "stopTurnedSelf",
                value: function() {
                    Laya.timer.clear(this, this.turnedSelf)
                }
            },
            {
                key: "start",
                value: function() {
                    this._turnedSelfIndex = 1,
                    Laya.timer.frameLoop(2, this, this.turnedSelf)
                }
            },
            {
                key: "turnedSelf",
                value: function() {
                    this.sp.graphics.clear(),
                    this.sp.graphics.loadImage("res/light/" + this._turnedSelfIndex + ".png", -120 * window.devicePixelRatio, -30 * window.devicePixelRatio, 2 * this.txtImg.width, 2 * this.txtImg.height),
                    5 === this._turnedSelfIndex && (this.stopTurnedSelf(), this.callback && this.callback()),
                    this._turnedSelfIndex++
                }
            }]),
            e
        } (Laya.Sprite));
        e.
    default = f
    },
    function(t, e, i) {
        "use strict"
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        for (var o = (function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } ()), h = i(0), l = n(h), u = i(1), c = n(u), d = 1 * window.devicePixelRatio, _ = 3 * window.devicePixelRatio, f = 30 * window.devicePixelRatio, p = [], g = 0; g < 7; g++) p.push("res/p/" + g + ".png");
        var y = new c.
    default,
        v = function(t) {
            function e(t, i) {
                s(this, e);
                var n = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                n.width = l.
            default.GameWidth,
                n.height = l.
            default.GameHeight,
                n.personLoop = 0,
                n.planetStartY = l.
            default.GameHeight - 150 * window.devicePixelRatio,
                n.startCallback = t,
                n.flyCallBack = i,
                n.init();
                var a = n;
                return setTimeout(function() {
                    a.personAnimation()
                },
                500),
                n
            }
            return a(e, t),
            o(e, [{
                key: "init",
                value: function() {
                    y.playBg(),
                    this.renderEnergyPoint(),
                    this.createTitle(),
                    this.renderStartBtn(),
                    this.renderPlanet(),
                    this.personIndex = 0,
                    this.drawPersonAnimation(),
                    this.bind()
                }
            },
            {
                key: "renderEnergyPoint",
                value: function() {
                    this.energy_point = new Laya.Sprite,
                    this.energy_point.loadImage("res/little/baoshi_new.png", 0, 0, 52.5 * window.devicePixelRatio, 52.5 * window.devicePixelRatio),
                    this.energy_point.pos((l.
                default.GameWidth - 52.5 * window.devicePixelRatio) / 2, 300 * window.devicePixelRatio),
                    this.energy_point.alpha = 0,
                    this.addChild(this.energy_point)
                }
            },
            {
                key: "renderPlanet",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/fly/1.png", 0, 0, 26 * window.devicePixelRatio, 32 * window.devicePixelRatio),
                    t.x = (l.
                default.GameWidth - 26 * window.devicePixelRatio) / 2,
                    this.planet = t,
                    t.y = this.planetStartY - 2 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "renderTail",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/53c914c3d30c663fe9c26819ef54882d.png", -9.5 * window.devicePixelRatio, 10 * window.devicePixelRatio, 67 / 1.5 * window.devicePixelRatio, 68 / 1.5 * window.devicePixelRatio),
                    this.tailSprite = t,
                    this.planet.addChild(t)
                }
            },
            {
                key: "renderTail2",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/871f2e463d2b893ba247f3062179b504.png", 10.7 * window.devicePixelRatio, 32 * window.devicePixelRatio, 4 * window.devicePixelRatio, 35.5 * window.devicePixelRatio),
                    this.tailSprite2 = t,
                    this.tailSprite.addChild(t)
                }
            },
            {
                key: "drawPersonAnimation",
                value: function() {
                    this.person && this.person.destroy(),
                    this.person = new Laya.Sprite,
                    this.person.pos((175 + 20 * this.personLoop) * window.devicePixelRatio, this.planetStartY - 2 * window.devicePixelRatio),
                    this.addChild(this.person),
                    this.person.graphics.loadImage(p[this.personIndex], 0, 0, f, 34 * window.devicePixelRatio),
                    7 === ++this.personIndex && (this.stopPersonAnimation(), this.person && this.person.destroy(), setTimeout(function() {
                        this.start(),
                        window.BackGround.start(),
                        Laya.Tween.to(this.energy_point, {
                            alpha: 1
                        },
                        1e3, Laya.Ease.linearNone)
                    }.bind(this), 200))
                }
            },
            {
                key: "createTitle",
                value: function() {
                    var t = new Laya.Sprite;
                    return t.loadImage("res/start/logo.png", 0, 0, 484 / 1.5 * window.devicePixelRatio, 335 / 1.5 * window.devicePixelRatio),
                    t.x = (l.
                default.GameWidth - 484 / 1.5 * window.devicePixelRatio) / 2,
                    t.y = 150 * window.devicePixelRatio,
                    window.stage.addChild(t),
                    this.titleSprite = t,
                    this.titleSprite.visible = !1,
                    t
                }
            },
            {
                key: "renderStartBtn",
                value: function() {
                    var t = new Laya.Sprite;
                    t.loadImage("res/start/start_btn.png", 0, 0, 485 / 1.5 * window.devicePixelRatio, 90 * window.devicePixelRatio),
                    window.stage.addChild(t);
                    t.getBounds().width;
                    return t.x = (l.
                default.GameWidth - 485 / 1.5 * window.devicePixelRatio) / 2,
                    t.y = 550 * window.devicePixelRatio,
                    this.btnSprite = t,
                    this.btnSprite.visible = !1,
                    t
                }
            },
            {
                key: "bind",
                value: function() {
                    this.btnSprite.on("click", this, this.startGame)
                }
            },
            {
                key: "startGame",
                value: function() {
                    y.playBtn(),
                    Laya.Tween.to(this.btnSprite, {
                        alpha: 0
                    },
                    200, Laya.Ease.linearNone),
                    Laya.Tween.to(this.titleSprite, {
                        alpha: 0
                    },
                    200, Laya.Ease.linearNone),
                    this.startCallback && this.startCallback(),
                    _ = 4 * window.devicePixelRatio,
                    this._step = 0,
                    this.btnSprite.off("click", this, this.startGame),
                    y.playBg2(),
                    this.btnSprite.destroy(),
                    this.titleSprite.destroy()
                }
            },
            {
                key: "personAnimation",
                value: function() {
                    Laya.timer.frameLoop(10, this, this.drawPersonAnimation)
                }
            },
            {
                key: "stopPersonAnimation",
                value: function() {
                    Laya.timer.clear(this, this.drawPersonAnimation)
                }
            },
            {
                key: "checkCollision",
                value: function() { ! this.isCollisioned && this.planet.y < this.energy_point.y + 50 && (this.energy_point.destroy(), this.isCollisioned = !0, y.playEnergy(), this.startTurnedSelf())
                }
            },
            {
                key: "turnedSelf",
                value: function() {
                    this.planet.graphics.clear(),
                    this.planet.graphics.loadImage("res/fly/" + this._turnedSelfIndex + ".png", 0, 0, 26 * window.devicePixelRatio, 32 * window.devicePixelRatio),
                    13 === this._turnedSelfIndex && this.stopTurnedSelf(),
                    this._turnedSelfIndex++
                }
            },
            {
                key: "stopTurnedSelf",
                value: function() {
                    Laya.timer.clear(this, this.turnedSelf)
                }
            },
            {
                key: "startTurnedSelf",
                value: function() {
                    this._turnedSelfIndex = 1,
                    Laya.timer.frameLoop(3, this, this.turnedSelf)
                }
            },
            {
                key: "animation",
                value: function() {
                    this.checkCollision(),
                    this.planet.y -= _,
                    this.planet.y < 420 * window.devicePixelRatio && !this.tailSprite2 && (this.renderTail2(), _ = 1 * window.devicePixelRatio),
                    this.planet.y < 280 * window.devicePixelRatio && (this.btnSprite.visible = !0, this.titleSprite.visible = !0, window.BackGround.SPEED = 1 * window.devicePixelRatio),
                    _ === 4 * window.devicePixelRatio && (this._step += _),
                    _ === 4 * window.devicePixelRatio && this._step > 600 * window.devicePixelRatio && this.stop(),
                    this.y += d
                }
            },
            {
                key: "stop",
                value: function() {
                    this.flyCallBack && this.flyCallBack(),
                    this.btnSprite.destroy(),
                    this.titleSprite.destroy(),
                    Laya.timer.clear(this, this.animation)
                }
            },
            {
                key: "start",
                value: function() {
                    this.renderTail(),
                    Laya.timer.frameLoop(1, this, this.animation)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = v
    },
    function(t, e, i) {
        "use strict";
        function n(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        o = i(0),
        h = function(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        } (o),
        l = function(t) {
            function e() {
                n(this, e);
                var t = s(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return t.width = h.
            default.GameWidth,
                t.height = h.
            default.GameHeight,
                t.initUI(),
                t
            }
            return r(e, t),
            a(e, [{
                key: "initUI",
                value: function() {
                    this.renderTimer(15),
                    this.pos(this.width / 2 - 50, 120)
                }
            },
            {
                key: "renderTimer",
                value: function(t) {
                    this.graphics.clear();
                    for (var e = "00".toString().split(""), i = 18 * window.devicePixelRatio, n = 28 * window.devicePixelRatio, s = e.length - 1; s > -1; s--) this.graphics.loadImage("res/result_score_num/" + e[s] + ".png", 20 * (s - e.length + .5) * window.devicePixelRatio, 0, i, n);
                    this.graphics.loadImage("res/rewards/4.png", 22, 0, i, n),
                    t < 10 && (t = "0" + t.toString());
                    for (var e = t.toString().split(""), s = e.length - 1; s > -1; s--) this.graphics.loadImage("res/result_score_num/" + e[s] + ".png", 20 * (s - e.length + .5) * window.devicePixelRatio + 160, 0, i, n)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = l
    },
    ,
    function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t: {
            default:
                t
            }
        }
        function s(t, e) {
            if (! (t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return ! e || "object" != typeof e && "function" != typeof e ? t: e
        }
        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value" in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        } (),
        h = i(0),
        l = n(h),
        u = i(2),
        c = i(1),
        d = n(c),
        _ = new d.
    default,
        f = "#116bb0",
        p = 40 * window.devicePixelRatio,
        g = function(t) {
            function e(t, i) {
                s(this, e);
                var n = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return n.rankData = t,
                n.callback = i,
                n.width = l.
            default.GameWidth - p,
                n.height = l.
            default.GameHeight - p,
                n.arrayData = t,
                n.initUI(),
                n
            }
            return a(e, t),
            o(e, [{
                key: "initUI",
                value: function() {
                    this.renderBg(),
                    this.renderBack(),
                    this.renderReplay(),
                    this.renderRankBg(),
                    this.setupRank(),
                    this.renderData(),
                    this.addTitle(),
                    this.renderTextSp()
                }
            },
            {
                key: "renderTextSp",
                value: function() {
                    var t = new Laya.Text;
                    t.text = "群排行",
                    t.color = "#82b9c7",
                    t.fontBold = !0,
                    t.fontSize = 24 * window.devicePixelRatio,
                    t.x = (l.
                default.GameWidth - t.width) / 2,
                    t.y = 90 * window.devicePixelRatio,
                    this.addChild(t)
                }
            },
            {
                key: "createText",
                value: function(t) {
                    for (var e = 5,
                    i = t.toString().split(""), n = 0; n < i.length; n++) this.txtSp.graphics.loadImage("res/result_score_num/" + i[n] + ".png", (97 + 15 * n) * window.devicePixelRatio, 0, 13.5 * window.devicePixelRatio, 21 * window.devicePixelRatio),
                    e += 5;
                    this.txtSp.graphics.loadImage("result/defen.png", -5 * window.devicePixelRatio, -2 * window.devicePixelRatio, 97 * window.devicePixelRatio, 23.5 * window.devicePixelRatio),
                    this.txtSp.pos((165 - e) * window.devicePixelRatio, 120 * window.devicePixelRatio)
                }
            },
            {
                key: "renderBg",
                value: function() {
                    this.graphics.loadImage("res/bg1.png", 0, 0, l.
                default.GameWidth, l.
                default.GameWidth * (1500 / 443))
                }
            },
            {
                key: "renderBack",
                value: function() {
                    var t = new Laya.Sprite,
                    e = 68 / 1.8 * window.devicePixelRatio;
                    t.graphics.loadImage("res/rank/back.png", 0, 0, e, e),
                    this.addChild(t),
                    t.pos(10 * window.devicePixelRatio, 20 * window.devicePixelRatio),
                    t.height = e,
                    t.width = e,
                    t.on("click", this,
                    function() {
                        _.playBtn(),
                        this.destroy(),
                        this.callback && this.callback(),
                        window._GC()
                    })
                }
            },
            {
                key: "addTitle",
                value: function() {
                    var t = new Laya.Sprite,
                    e = new Laya.Text;
                    e.overflow = Laya.Text.HIDDEN,
                    e.color = "#7ff3fd",
                    e.fontSize = 14 * window.devicePixelRatio,
                    t.x = (l.
                default.GameWidth - e.width) / 2 - 160 * window.devicePixelRatio,
                    t.y = 165 * window.devicePixelRatio,
                    t.height = 35 * window.devicePixelRatio,
                    t.width = 90 * window.devicePixelRatio,
                    e.text = "排行榜",
                    this.addChild(t),
                    e.pos(30 * window.devicePixelRatio, 10 * window.devicePixelRatio),
                    this.rankTab = e,
                    t.addChild(e),
                    this.addLine(),
                    this.addLine2(),
                    this.addTitle1(),
                    this.addTitle2(),
                    t.on("mousedown", this,
                    function() {
                        _.playBtn(),
                        this.baoshiTab.color = f,
                        this.comboTab.color = f,
                        this.rankTab.color = "#7ff3fd",
                        this.selectData("newscore")
                    })
                }
            },
            {
                key: "addLine",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.drawLine(150 * window.devicePixelRatio, 168 * window.devicePixelRatio, 150 * window.devicePixelRatio, 193 * window.devicePixelRatio, f, 1 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "addLine2",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.drawLine(270 * window.devicePixelRatio, 168 * window.devicePixelRatio, 270 * window.devicePixelRatio, 193 * window.devicePixelRatio, f, 1 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "addTitle1",
                value: function() {
                    var t = new Laya.Sprite,
                    e = new Laya.Text;
                    e.overflow = Laya.Text.HIDDEN,
                    e.color = f,
                    e.fontSize = 14 * window.devicePixelRatio,
                    t.x = (l.
                default.GameWidth - e.width) / 2 - 55 * window.devicePixelRatio,
                    t.y = 165 * window.devicePixelRatio,
                    t.height = 35 * window.devicePixelRatio,
                    t.width = 100 * window.devicePixelRatio,
                    e.text = "COMBO",
                    e.pos(30 * window.devicePixelRatio, 10 * window.devicePixelRatio),
                    t.addChild(e),
                    this.addChild(t),
                    this.comboTab = e,
                    t.on("mousedown", this,
                    function() {
                        _.playBtn(),
                        this.baoshiTab.color = f,
                        this.comboTab.color = "#7ff3fd",
                        this.rankTab.color = f,
                        this.selectData("combo")
                    })
                }
            },
            {
                key: "addTitle2",
                value: function() {
                    var t = new Laya.Sprite,
                    e = new Laya.Text;
                    e.overflow = Laya.Text.HIDDEN,
                    e.color = f,
                    e.fontSize = 14 * window.devicePixelRatio,
                    e.text = "宝石",
                    e.pos(20 * window.devicePixelRatio, 10 * window.devicePixelRatio),
                    t.x = (l.
                default.GameWidth - e.width) / 2 + 95 * window.devicePixelRatio,
                    t.y = 165 * window.devicePixelRatio,
                    t.width = 80 * window.devicePixelRatio,
                    t.height = 30 * window.devicePixelRatio,
                    t.addChild(e),
                    this.addChild(t),
                    this.baoshiTab = e,
                    t.on("mousedown", this,
                    function() {
                        _.playBtn(),
                        this.baoshiTab.color = "#7ff3fd",
                        this.comboTab.color = f,
                        this.rankTab.color = f,
                        this.selectData("baoshi")
                    })
                }
            },
            {
                key: "renderReplay",
                value: function() {
                    var t = new Laya.Image;
                    t.skin = "res/rank/tiaozhan.png",
                    t.pos((l.
                default.GameWidth - 602 * window.devicePixelRatio / 2) / 2, 655 * window.devicePixelRatio),
                    t.width = 301 * window.devicePixelRatio,
                    t.height = 65 * window.devicePixelRatio,
                    t.on("click", this,
                    function() {
                        _.playBtn(),
                        this.reStart(),
                        this.hideUI(),
                        this.callback && this.callback()
                    }),
                    this.addChild(t)
                }
            },
            {
                key: "hideUI",
                value: function() {
                    Laya.Tween.to(this, {
                        alpha: 0
                    },
                    500, Laya.Ease.linearNone, Laya.Handler.create(this,
                    function() {
                        this.visible = !1,
                        this.alpha = 1,
                        window._GC()
                    }))
                }
            },
            {
                key: "reStart",
                value: function() {
                    window.Main && (window.Main.startUpSprite ? (console.error("deep start"), window.Main.startUpSprite.startGame()) : (console.error("light start"), window.Main.reStart()), window.Main.resultSprite && (window.Main.resultSprite.visible = !1), window.rankUI && (window.rankUI.visible = !1))
                }
            },
            {
                key: "renderRankBg",
                value: function() {
                    var t = new Laya.Sprite;
                    t.graphics.loadImage("res/kuang2.png", 20 * window.devicePixelRatio, 135 * window.devicePixelRatio, 485 / 1.3 * window.devicePixelRatio, 698 / 1.4 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "setupRank",
                value: function() {
                    var t = new Laya.List;
                    t.itemRender = Laya.Item,
                    t.repeatX = 1,
                    t.repeatY = 7,
                    t.vScrollBarSkin = "",
                    t.selectEnable = !0,
                    t.renderHandler = new Laya.Handler(this, this.updateItem),
                    this.addChild(t),
                    this.list = t,
                    t.x = 50 * window.devicePixelRatio,
                    t.y = 200 * window.devicePixelRatio,
                    this.addRankInfo()
                }
            },
            {
                key: "addRankInfo",
                value: function() {
                    var t = new Laya.Text;
                    t.overflow = Laya.Text.HIDDEN,
                    t.color = "#3b68b1",
                    t.fontSize = 12 * window.devicePixelRatio,
                    t.text = "只显示前50位群成员成绩，每月一日凌晨刷新",
                    t.pos((l.
                default.GameWidth - t.width) / 2, 627 * window.devicePixelRatio),
                    this.addChild(t)
                }
            },
            {
                key: "selectData",
                value: function(t) {
                    if (this.rankData) {
                        t = t || "newscore";
                        var e = [],
                        i = this.getUserInfoByUid(this.rankData.user_info_list),
                        n = 1,
                        s = this.findData(this.rankData.rank_list, t),
                        r = s.self_rank_item || {};
                        this.selfUserInfo = i[r.user_id];
                        var a = s.rank_item_list,
                        o = this;
                        a.forEach(function(s) {
                            var r = o.getUserInfoByid(i, s.user_id);
                            console.error(r),
                            e.push({
                                index: n++,
                                score: s.value + o.getDanWeiByKey(t),
                                nick: (0, u.strlen)(r.nick_name || "", 18),
                                src: (r.head_img_url || "").replace(/\/0$/, "/64") || "res/default_head.png"
                            })
                        }),
                        this.list.array = e,
                        this.list.tweenTo(0, 0)
                    }
                }
            },
            {
                key: "getUserInfoByid",
                value: function(t, e) {
                    return t[e] || {}
                }
            },
            {
                key: "getDanWeiByKey",
                value: function(t) {
                    return "newscore" === t ? "分": "combo" === t ? "次": "baoshi" === t ? "个": void 0
                }
            },
            {
                key: "findData",
                value: function(t, e) {
                    for (var i = 0; i < t.length; i++) if (t[i].key === e) return t[i]
                }
            },
            {
                key: "renderData",
                value: function() {
                    this.selectData()
                }
            },
            {
                key: "parseList",
                value: function(t) {
                    for (var e = 0; e < t.length; e++) t[e].user_id === this.selfUserInfo.user_id && this.score > t[e].value && (t[e].value = this.score);
                    return t.sort(function(t, e) {
                        return e.value - t.value
                    })
                }
            },
            {
                key: "getUserInfoByUid",
                value: function(t) {
                    for (var e = {},
                    i = 0; i < t.length; i++) e[t[i].user_id] = t[i];
                    return e
                }
            },
            {
                key: "updateItem",
                value: function(t, e) {
                    t.setData(t.dataSource)
                }
            }]),
            e
        } (Laya.Sprite);
        e.
    default = g
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            var e = [],
            t = t || s.Parallel;
            this.setSync = function() {
                t = s.Sync
            },
            this.setParallel = function() {
                t = s.Parallel
            },
            this.setRelevant = function() {
                t = s.Relevant
            };
            var i = function() {
                var i = null;
                if (t === s.Relevant) for (; i = e.shift();)"function" == typeof i.backFn && i.backFn.call(i.context, e.injectData);
                if (t === s.Sync) {
                    for (; (i = e.shift()) && i.called;);
                    if (i && i.fn) try {
                        e.injectData ? i.fn.call(i.context, e.injectData) : i.fn.call(i.context)
                    } catch(t) {
                        i.context.end = !0
                    }
                }
            },
            n = function(n) {
                if (t === s.Relevant) {
                    if ("function" != typeof n.fn) throw "Illegal param, parm.fn should be function ";
                    if ("function" != typeof n.backFn) throw "Illegal param, fn.backFn should be function "
                } else if (t === s.Sync && "function" != typeof n) throw "Illegal param,param should be function ";
                var r = Object.create(Object.prototype, {
                    end: {
                        get: function() {
                            return this.ended
                        },
                        set: function(t) {
                            this.ended = t,
                            !0 === t && i()
                        }
                    }
                });
                r.done = function(t) {
                    t && (e.injectData = t),
                    this.end = !0
                };
                var a = {};
                if (t === s.Relevant && (a = {
                    fn: n.fn,
                    backFn: n.backFn,
                    context: r
                }), t === s.Sync && (a = {
                    fn: n,
                    context: r
                }), e.push(a), "function" != typeof a.fn) throw "Illegal param,param should be function ";
                t === s.Relevant && (e.injectData ? i() : 1 === e.length && (a.fn.call(a.context), a.called = !0)),
                t === s.Sync && 1 === e.length && (a.fn.call(a.context), a.called = !0)
            },
            r = function(t) {
                var e = {},
                i = {
                    fn: t,
                    context: e
                };
                t.call(i.context)
            };
            this.run = function(e) {
                switch (t) {
                case s.Sync:
                case s.Relevant:
                    n(e);
                    break;
                case s.Parallel:
                    r(e)
                }
            }
        }
        var s = {
            Sync: "Sync",
            Parallel: "Parallel",
            Relevant: "Relevant"
        };
        t.exports = n
    },
    function(t, e, i) {
        "use strict";
        var n = wx;
        n.MAX_REQUEST_COUNT = 5,
        n.currentRunning = 0,
        n.requestQueue = [];
        var s = {
            context: n,
            reqData: null
        },
        r = function(t) {
            var e = Object.create(s);
            e.reqData = t,
            n.requestQueue.push(e); !
            function t() {
                if (n.currentRunning < n.MAX_REQUEST_COUNT) {
                    n.currentRunning++;
                    var i = n.requestQueue.shift(),
                    s = i.reqData,
                    r = s.complete;
                    s.complete = function(i) {
                        r && r.call(e.context, i),
                        n.currentRunning--,
                        n.requestQueue.length > 0 && t.call(n)
                    },
                    wx.request(s)
                }
            } ()
        };
        t.exports = r
    },
    function(t, e, i) {
        "use strict";
        function n(t) {
            return (t && t.replace ? t: "").replace(/(^\s*)|(\s*$)/g, "")
        }
        function s(t, e, i) {
            try {
                e = e || "&",
                i = i || "=";
                var n = [];
                for (var s in t) n.push(s + i + t[s]);
                return n.join(e)
            } catch(t) {
                alert(t.message)
            }
        }
        function r(t, e, i) {
            e = e || "&",
            i = i || "=";
            var n = t.split(e),
            s = {};
            for (var r in n) {
                var a = n[r].split(i);
                2 == a.length && (s[a[0]] = a[1])
            }
            return s
        }
        function a(t, e) {
            var i = e || location.search;
            i = ("" + i).replace(/#(.*)$/g, "").replace(/&amp;/g, "&");
            var n = i.match(new RegExp("[?&]" + t + "=([^&]+)", "i"));
            return null == n || n.length <= 1 ? "": filterXSS(n[1], !0)
        }
        t.exports = {
            mapToStr: s,
            strToMap: r,
            trim: n,
            getQueryStr: a
        }
    },
    function(t, e, i) {
        "use strict";
        var n = i(46),
        s = i(47),
        r = i(45),
        a = {
            SESSIONKEY: "__SESSION__KEY__",
            empty: "nil",
            emptySession: {
                sessionId: "nil",
                userId: "nil",
                lastTime: "nil",
                openid: "nil"
            },
            setSession: function(t) {
                var e = this.getSession();
                for (var i in t) e[i] = t[i];
                try {
                    wx.setStorageSync(this.SESSIONKEY, JSON.stringify(e))
                } catch(t) {}
            },
            isSessionFull: function() {
                var t = this.getSession();
                for (var e in a.emptySession) if (a.empty === t[e] || "0" === t[e] || void 0 === t[e]) return ! 1;
                return ! 0
            },
            getSession: function() {
                var t = this.emptySession,
                e = wx.getStorageSync(this.SESSIONKEY);
                try {
                    return ("" + e).length > 0 ? JSON.parse(e + "") : t
                } catch(e) {
                    return t
                }
            },
            getCurrentTimeStamp: function() {
                return parseInt((new Date).getTime() / 1e3)
            }
        },
        o = new r;
        o.setRelevant();
        var h = {
            addLoginToRequest: function(t) {
                t = t || "";
                var e = ("" + t).replace(/#(.*)$/g, "").replace(/&amp;/g, "&"),
                i = t,
                n = {},
                r = e.indexOf("?");
                if ( - 1 != r) {
                    i = e.substr(0, r);
                    var o = e.substr(r + 1);
                    n = s.strToMap(o)
                }
                var h = a.getSession();
                return n.session_id = h.sessionId,
                t = i + "?" + s.mapToStr(n)
            },
            isLoginExpire: function(t) {
                var e = t;
                return ("" + e.errcode == "-1702220400" || "" + e.errcode == "-1702220407" || 6211 === e.ret) && (a.setSession(a.emptySession), !0)
            },
            request: function(t) {
                var e = this,
                i = 0,
                s = function() {
                    var t = this;
                    a.isSessionFull() ? t.done() : l.login(function() {
                        t.done()
                    })
                },
                u = function s() {
                    var o = this,
                    u = h.addLoginToRequest(t.url),
                    c = a.getCurrentTimeStamp() + " call cgi: " + u;
                    n({
                        url: u,
                        data: t.data,
                        method: t.method,
                        header: {
                            "content-type": "application/json"
                        },
                        success: function(n) {
                            if (n = n.data, !0 === h.isLoginExpire(n)) {
                                var a = new r;
                                a.setSync(),
                                a.run(function() {
                                    var n = this;
                                    l.login(function() {
                                        i < 2 ? (i++, n.done()) : t.fail && t.fail.call(e, {
                                            errmsg: "login fail after trying  many times"
                                        })
                                    })
                                }),
                                a.run(function() {
                                    s.call(o)
                                })
                            } else t.success && t.success.call(e, n);
                            console.error(n),
                            console.log(c + " success ")
                        },
                        fail: function(i) {
                            t.fail && t.fail.call(e, i),
                            console.log(c + " fail ", i)
                        },
                        complete: function(i) {
                            t.complete && t.complete.call(e, i)
                        }
                    })
                };
                o.run({
                    fn: s,
                    backFn: u
                })
            }
        },
        l = {
            login: function(t) {
                a.setSession(a.emptySession);
                var e = new r;
                e.setSync(),
                e.run(function() {
                    var t = this;
                    wx.login({
                        success: function(e) {
                            t.done(e)
                        },
                        fail: function(e) {
                            a.setSession(a.emptySession),
                            t.done(e)
                        }
                    })
                }),
                e.run(function(t) {
                    var e = this,
                    i = t.code;
                    n({
                        url: "https://game.weixin.qq.com/cgi-bin/gameweappwap/login",
                        data: JSON.stringify({
                            code: i,
                            weapp_type: u.weapp_type || 1,
                            need_openid: !0
                        }),
                        method: "POST",
                        header: {
                            "content-type": "application/json"
                        },
                        success: function(t) {
                            t = t.data,
                            e.done(t)
                        },
                        fail: function(t) {
                            a.setSession(a.emptySession),
                            e.done(t)
                        }
                    })
                }),
                e.run(function(t) {
                    var e = this;
                    if (t.data && t.data.session_id) {
                        var i = {
                            sessionId: t.data.session_id,
                            userId: t.data.user_id,
                            lastTime: a.getCurrentTimeStamp()
                        };
                        t.data.openid && (i.openid = t.data.openid),
                        a.setSession(i),
                        e.done(i)
                    } else e.done(null)
                }),
                e.run(function(e) {
                    t(e)
                })
            }
        },
        u = {},
        c = null;
        t.exports = {
            prepare: function(t, e) {
                console.log("runed?"),
                t.prepared || (e = e || {},
                u.expiredLoginCodeMap = e.expiredLoginCodeMap, u.weapp_type = e.weapp_type, c = t, l.login.call(t), t.session = a.getSession.bind(a), t.request = h.request, t.prepared = !0)
            }
        }
    },
    function(t, e) {
        function i() {
            throw new Error("setTimeout has not been defined")
        }
        function n() {
            throw new Error("clearTimeout has not been defined")
        }
        function s(t) {
            if (u === setTimeout) return setTimeout(t, 0);
            if ((u === i || !u) && setTimeout) return u = setTimeout,
            setTimeout(t, 0);
            try {
                return u(t, 0)
            } catch(e) {
                try {
                    return u.call(null, t, 0)
                } catch(e) {
                    return u.call(this, t, 0)
                }
            }
        }
        function r(t) {
            if (c === clearTimeout) return clearTimeout(t);
            if ((c === n || !c) && clearTimeout) return c = clearTimeout,
            clearTimeout(t);
            try {
                return c(t)
            } catch(e) {
                try {
                    return c.call(null, t)
                } catch(e) {
                    return c.call(this, t)
                }
            }
        }
        function a() {
            p && _ && (p = !1, _.length ? f = _.concat(f) : g = -1, f.length && o())
        }
        function o() {
            if (!p) {
                var t = s(a);
                p = !0;
                for (var e = f.length; e;) {
                    for (_ = f, f = []; ++g < e;) _ && _[g].run();
                    g = -1,
                    e = f.length
                }
                _ = null,
                p = !1,
                r(t)
            }
        }
        function h(t, e) {
            this.fun = t,
            this.array = e
        }
        function l() {}
        var u, c, d = t.exports = {}; !
        function() {
            try {
                u = "function" == typeof setTimeout ? setTimeout: i
            } catch(t) {
                u = i
            }
            try {
                c = "function" == typeof clearTimeout ? clearTimeout: n
            } catch(t) {
                c = n
            }
        } ();
        var _, f = [],
        p = !1,
        g = -1;
        d.nextTick = function(t) {
            var e = new Array(arguments.length - 1);
            if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
            f.push(new h(t, e)),
            1 !== f.length || p || s(o)
        },
        h.prototype.run = function() {
            this.fun.apply(null, this.array)
        },
        d.title = "browser",
        d.browser = !0,
        d.env = {},
        d.argv = [],
        d.version = "",
        d.versions = {},
        d.on = l,
        d.addListener = l,
        d.once = l,
        d.off = l,
        d.removeListener = l,
        d.removeAllListeners = l,
        d.emit = l,
        d.prependListener = l,
        d.prependOnceListener = l,
        d.listeners = function(t) {
            return []
        },
        d.binding = function(t) {
            throw new Error("process.binding is not supported")
        },
        d.cwd = function() {
            return "/"
        },
        d.chdir = function(t) {
            throw new Error("process.chdir is not supported")
        },
        d.umask = function() {
            return 0
        }
    }]);
});
require("game.js");